
		@import url('https://fontsapi.zeoseven.com/3/main/result.css');
		@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css');
		
		html {
			font-size: 16px;
		}
		
		@media (max-width: 360px) {
			html {
				font-size: calc(100vw / 360 * 16);
			}
		}
		
		:root {
			/* --- 1. 基础主题调色板 --- */
			--primary-mint: #B5C4C3;
			--light-mint: #88ADA6;
			--ultra-light-mint: #EDF5F4;
			--soft-chocolate: #A1887F;
			--deep-chocolate: #5D4037;
			
			/* --- 2. 语义化别名 (将基础色应用到具体功能) --- */
			--wechat-green-icon: var(--primary-mint);
			--wechat-green-bubble: var(--light-mint);
			--wechat-bg: var(--ultra-light-mint);
			--link-color: var(--deep-chocolate);
			--border-color: var(--soft-chocolate);
			
			/* --- 3. 功能性及结构性常量 --- */
			--unread-red: #FA5151;
			--footer-height: 2.8125rem;
			--panel-height: 14.0625rem;
			
			/* --- 新增：全局UI颜色变量 (V1) --- */
			
			/* 手机框架与屏幕 */
			--phone-frame-bg: #EDF5F4;
			--event-desc-expanded-bg: rgba(181, 196, 195, 0.65);
			--event-desc-expanded-border: rgba(181, 196, 195, 0.8);
			--phone-frame-shadow-color: rgba(93, 116, 115, 0.2);
			--phone-screen-border-color: #1A1A1A;
			--phone-width: 360px;
			--phone-height: 40rem;
			
			/* 顶部两张装饰图片的URL变量 */
			--hub-decorative-image-1-url: url('https://files.catbox.moe/muozmc.jpg');
			--hub-decorative-image-2-url: url('https://files.catbox.moe/ixlwv7.jpg');
			
			/* 灵动岛与状态栏 */
			--dynamic-island-bg: #B5C4C3;
			--dynamic-island-text-color: #FFF;
			--statusbar-text-color: #819c92;
			--statusbar-icon-color: #B5C4C3;
			--statusbar-hover-bg: rgba(0, 0, 0, 0.05);
			
			/* App图标与角标 */
			--app-icon-text-color: #ffffff;
			--app-name-shadow-color: rgba(0, 0, 0, 0.5);
			--app-icon-wechat-bg: #B5C4C3CC;
			--app-icon-settings-bg: #B5C4C3CC;
			--app-icon-check-phone-bg: #B5C4C3CC;
			--app-icon-weibo-bg: #B5C4C3CC;
			--app-icon-diary-bg: #B5C4C3CC;
			--app-icon-font-bg: #B5C4C3CC;
			--app-icon-workshop-bg: #B5C4C3CC;
			--app-icon-studio-bg: #B5C4C3CC;
			--unread-badge-border-color: #B4B3BB;
			--app-icon-text-color: #ffffff;
			--app-name-color: #9DAAA9;
			--app-name-shadow-color: rgba(0, 0, 0, 0.5);
			
			/* 通用视图与头部 */
			--view-bg-primary: #F2F2F7;
			--view-bg-secondary: #FFFFFF;
			--header-bg-primary: #F7F7F7;
			--header-border-primary: #E2E2E2;
			--text-color-primary: #000000;
			--text-color-secondary: #333333;
			--text-color-tertiary: #888888;
			--text-color-placeholder: #C6C6C6;
			--text-color-inverted: #ffffff;
			
			/* --- 特殊消息气泡 --- */
			--gift-bubble-bg: #9BB99A;
			--gift-receipt-bg: #A8C0A7;
			--gift-bubble-text-color: #FFFFFF;
			--red-packet-bg: #9BB99A;
			--red-packet-text-color: #FFFFFF;
			--red-packet-icon-color: #FFFFFF;
			--transfer-initial-bg: #9BB99A;
			--transfer-initial-text: #FFFFFF;
			--transfer-receipt-bg: #A8C0A7;
			--transfer-receipt-text: #55876c;
			--location-map-icon-color: #B5C4C3;
			--file-bubble-bg: #A8C0A7;
			--file-icon-color: #55876c;
			--voice-icon-color: #FFFFFF;
			--image-desc-bg: rgba(255, 255, 255, 0.45);
			--image-desc-border: rgba(255, 255, 255, 0.4);
			
			/* 设置与卡片 */
			--card-bg-primary: #ffffff;
			--card-shadow-primary: rgba(0, 0, 0, 0.05);
			--divider-color-primary: #eeeeee;
			--divider-color-secondary: #EAEAEA;
			--text-highlight-color: #8C541A;
			--button-bg-secondary: #eef4fd;
			--button-bg-danger: #E14438;
			--button-bg-warning: #f5d49f;
			
			/* 微信主列表 */
			--list-item-pinned-bg: #F7F7F7;
			--list-item-hover-bg: #F0F0F0;
			--list-item-divider-color: #E5E5E5;
			--list-text-primary: #191919;
			--list-text-time: #B2B2B2;
			--list-text-message: #999999;
			--plus-menu-bg: #4C4C4C;
			--plus-menu-divider: rgba(255, 255, 255, 0.1);
			--plus-menu-hover-bg: #383838;
			
			/* "我" 页面 */
			--me-list-icon-color: #333333;
			--me-list-chevron-color: #C7C7CC;
			
			/* 联系人详情页 */
			--danger-text-color: #E64340;
			
			/* 输入框与面板 */
			--input-area-bg: #F7F7F7;
			--input-area-border: #E2E2E2;
			--input-field-bg: #ffffff;
			--input-field-disabled-bg: #f0f0f0;
			--footer-icon-color: #555555;
			--panel-icon-color: #B0B0B0;
			--panel-dot-color: #cccccc;
			--panel-dot-active-color: #888888;
			
			/* 朋友圈 */
			--moments-text-color-primary: #191919;
			--moments-cover-text-color: #ffffff;
			--moments-cover-text-shadow: rgba(0, 0, 0, 0.5);
			--moments-signature-color: #8a8a8a;
			--moments-feed-divider: var(--list-item-divider-color);
			--moments-meta-text-color: #888888;
			--moments-actions-bg: #F7F7F7;
			--moments-actions-disabled-color: #cccccc;
			--moments-interactions-bg: #F7F7F7;
			--moments-like-heart-color: #E14438;
			--moments-name-color: #D97C86;
			--moments-action-icon-color: #A9A9A9;
			--moments-image-bg: #FDF8F8;
			--moments-interactions-bg-new: rgba(244, 242, 248, 0.75);
			--moments-reply-btn-bg: #7F71A7;
			
			/* 弹窗 */
			--modal-backdrop-bg: rgba(0, 0, 0, 0.5);
			--modal-content-bg: #F7F7F7;
			
			/* 微博 */
			--weibo-news-bg: #B5C4B5;
			--weibo-life-bg: #B5C4B5;
			--weibo-romance-bg: #B5C4B5;
			--weibo-gossip-bg: #B5C4B5;
			--weibo-fanfic-bg: #B5C4B5;
			--weibo-adult-bg: #B5C4B5;
			--weibo-card-text: rgba(255, 255, 255, 0.95);
			--weibo-body-bg: #F7F8FA;
			--weibo-search-placeholder-bg: #F0F2F5;
			--weibo-search-placeholder-text: #aaa;
			--weibo-post-card-bg: #FFFFFF;
			--weibo-post-card-shadow: rgba(0, 0, 0, 0.04);
			--weibo-post-card-hover-shadow: rgba(0, 0, 0, 0.08);
			--weibo-post-card-divider: #F5F5F5;
			--weibo-post-title-color: #222;
			--weibo-post-excerpt-color: #777;
			--weibo-full-content-bg: #fff;
			--weibo-full-content-text: #333;
			--weibo-comment-author-color: #555;
			--weibo-comment-text-color: #1a1a1a;
			--weibo-comment-reply-bg: #f7f8fa;
			--weibo-comment-reply-border: #e0e0e0;
			--weibo-comment-reply-divider: #e9e9e9;
			--weibo-comment-input-area-bg: #FDFDFD;
			--weibo-comment-input-area-border: #EFEFEF;
			--weibo-comment-input-bg: #F0F2F5;
			--weibo-send-comment-btn-bg: #88ADA6;
			--weibo-reply-expander-text: #5d88ac;
			--weibo-reply-expander-hover-text: #3e6a8f;
			
			/* 日记 */
			--diary-view-bg: #F4F4F2;
			--diary-cover-bg: #E3E1D9;
			--diary-cover-border: #D1BDAE;
			--diary-cover-shadow: rgba(0, 0, 0, 0.08);
			--diary-cover-title-color: #A1887F;
			--diary-sticker-bg: rgba(255, 255, 248, 0.85);
			--diary-sticker-shadow: rgba(0, 0, 0, 0.05);
			--diary-sticker-text-color: #5D4037;
			--diary-select-owner-btn-bg: #B5C4B5;
			--diary-select-owner-btn-hover-bg: #A0B3A0;
			--diary-entry-backdrop: rgba(255, 255, 255, 0.1);
			--diary-entry-title-color: #4E342E;
			--diary-entry-title-divider: rgba(161, 136, 127, 0.3);
			--diary-entry-content-color: #5D4037;
			--diary-entry-content-line-color: rgba(181, 196, 195, 0.2);
			--diary-float-btn-bg: rgba(227, 225, 217, 0.85);
			--diary-float-btn-border: rgba(161, 136, 127, 0.3);
			--diary-float-btn-shadow: rgba(0, 0, 0, 0.1);
			--diary-float-btn-hover-shadow: rgba(0, 0, 0, 0.15);
			--diary-float-btn-disabled-bg: rgba(200, 200, 200, 0.7);
			--diary-owner-modal-hover-bg: #ECECEC;
		}
		
		:root {
			/* --- 1. “我的气泡” --bubble-me- --- */
			--bubble-me-background: none center center / cover no-repeat, #ffffff;
			--bubble-me-bg-image: none;
			--bubble-me-bg-image-size: cover;
			--bubble-me-bg-image-repeat: no-repeat;
			--bubble-me-text-color: #000000;
			--bubble-me-font-family: inherit;
			--bubble-me-font-size: 13px;
			--bubble-me-font-weight: 400;
			--bubble-me-border-top-left-radius: 12px;
			--bubble-me-border-top-right-radius: 12px;
			--bubble-me-border-bottom-right-radius: 12px;
			--bubble-me-border-bottom-left-radius: 12px;
			--bubble-me-clip-path: none;
			--bubble-me-padding-top: 4px;
			--bubble-me-padding-right: 6px;
			--bubble-me-padding-bottom: 4px;
			--bubble-me-padding-left: 6px;
			--bubble-me-margin-top: 3px;
			--bubble-me-margin-right: 3px;
			--bubble-me-margin-bottom: 3px;
			--bubble-me-margin-left: 3px;
			--bubble-me-box-shadow: 1px 2px 0px 0px #c5d1cb;
			--bubble-me-border-width: 0.5px;
			--bubble-me-border-style: solid;
			--bubble-me-border-color: #00000030;
			--bubble-me-backdrop-blur: 0px;
			
			/* --- 2. “对方气泡” --bubble-them- --- */
			--bubble-them-background: none center center / cover no-repeat, linear-gradient(183deg, #c7dbc5, #ffffff);
			--bubble-them-bg-image: none;
			--bubble-them-bg-image-size: cover;
			--bubble-them-bg-image-repeat: no-repeat;
			--bubble-them-text-color: #55876c;
			--bubble-them-font-family: inherit;
			--bubble-them-font-size: 13px;
			--bubble-them-font-weight: 400;
			--bubble-them-border-top-left-radius: 12px;
			--bubble-them-border-top-right-radius: 12px;
			--bubble-them-border-bottom-right-radius: 12px;
			--bubble-them-border-bottom-left-radius: 12px;
			--bubble-them-clip-path: none;
			--bubble-them-padding-top: 4px;
			--bubble-them-padding-right: 6px;
			--bubble-them-padding-bottom: 4px;
			--bubble-them-padding-left: 6px;
			--bubble-them-margin-top: 3px;
			--bubble-them-margin-right: 3px;
			--bubble-them-margin-bottom: 3px;
			--bubble-them-margin-left: 3px;
			--bubble-them-box-shadow: 1px 2px 0px 0px #c5d1cb;
			--bubble-them-border-width: 0.5px;
			--bubble-them-border-style: solid;
			--bubble-them-border-color: #ffffff;
			--bubble-them-backdrop-blur: 0px;
			
			/* --- 3. 事件/时间气泡 --- */
			--event-log-bg: #9DAAA9;
			--event-log-text-color: var(--text-color-inverted);
			--event-log-shadow: 0 2px 4px var(--phone-frame-shadow-color);
			--event-log-border-radius: 0.5rem;
			--event-log-padding: 0.3rem 0.8rem;
			
			/* --- 展开后的描述样式 --- */
			--event-desc-expanded-bg: rgba(181, 196, 195, 0.65);
			--event-desc-expanded-text-color: var(--deep-chocolate);
			--event-desc-expanded-font-family: inherit;
			--event-desc-expanded-font-size: 0.8em;
			--event-desc-expanded-font-weight: 400;
			--event-desc-expanded-border-radius: 0.6rem;
			--event-desc-expanded-padding-top: 0.6rem;
			--event-desc-expanded-padding-right: 0.75rem;
			--event-desc-expanded-padding-bottom: 0.6rem;
			--event-desc-expanded-padding-left: 0.75rem;
			--event-desc-expanded-margin-top: 0.5rem;
			--event-desc-expanded-box-shadow: none;
			--event-desc-expanded-border-width: 1px;
			--event-desc-expanded-border-style: solid;
			--event-desc-expanded-border-color: rgba(181, 196, 195, 0.8);
			
			/* --- 4. 装饰层 (V2 - 增强版) --- */
			/* --- 我方气泡 -> 装饰层 1 --- */
			--bubble-me-deco-1-url: none;
			--bubble-me-deco-1-content: "";
			--bubble-me-deco-1-rotate: 0deg;
			--bubble-me-deco-1-font-size: 16px;
			--bubble-me-deco-1-color: inherit;
			--bubble-me-deco-1-width: 30px;
			--bubble-me-deco-1-height: 30px;
			--bubble-me-deco-1-top: auto;
			--bubble-me-deco-1-right: auto;
			--bubble-me-deco-1-bottom: -5px;
			--bubble-me-deco-1-left: -5px;
			--bubble-me-deco-1-z-index: -1;
			
			/* --- 我方气泡 -> 装饰层 2 --- */
			--bubble-me-deco-2-url: none;
			--bubble-me-deco-2-content: "";
			--bubble-me-deco-2-rotate: 0deg;
			--bubble-me-deco-2-font-size: 16px;
			--bubble-me-deco-2-color: inherit;
			--bubble-me-deco-2-width: 30px;
			--bubble-me-deco-2-height: 30px;
			--bubble-me-deco-2-top: -10px;
			--bubble-me-deco-2-right: -10px;
			--bubble-me-deco-2-bottom: auto;
			--bubble-me-deco-2-left: auto;
			--bubble-me-deco-2-z-index: 1;
			
			/* --- 对方气泡 -> 装饰层 1 --- */
			--bubble-them-deco-1-url: none;
			--bubble-them-deco-1-content: "";
			--bubble-them-deco-1-rotate: 0deg;
			--bubble-them-deco-1-font-size: 16px;
			--bubble-them-deco-1-color: inherit;
			--bubble-them-deco-1-width: 30px;
			--bubble-them-deco-1-height: 30px;
			--bubble-them-deco-1-top: -10px;
			--bubble-them-deco-1-right: auto;
			--bubble-them-deco-1-bottom: auto;
			--bubble-them-deco-1-left: -10px;
			--bubble-them-deco-1-z-index: 1;
			
			/* --- 对方气泡 -> 装饰层 2 --- */
			--bubble-them-deco-2-url: none;
			--bubble-them-deco-2-content: "";
			--bubble-them-deco-2-rotate: 0deg;
			--bubble-them-deco-2-font-size: 16px;
			--bubble-them-deco-2-color: inherit;
			--bubble-them-deco-2-width: 30px;
			--bubble-them-deco-2-height: 30px;
			--bubble-them-deco-2-top: auto;
			--bubble-them-deco-2-right: -5px;
			--bubble-them-deco-2-bottom: -5px;
			--bubble-them-deco-2-left: auto;
			--bubble-them-deco-2-z-index: -1;
		}
		
		:root {
			/* --- 微博论坛改造专属色板 (Blueprint 5.0) --- */
			--forum-bg: #F8F5F2;
			--forum-card-bg: #FFFFFF;
			--forum-card-shadow: rgba(0, 0, 0, 0.05);
			--forum-divider-color: #EAE5E0;
			--forum-text-primary: #5A4741;
			--forum-text-secondary: #A19692;
			--forum-text-quote: #7B6B66;
			--forum-username-color: #3C322F;
			--forum-quote-bg: #F8F5F2;
			--forum-quote-border: #DCD6D1;
			--forum-action-button-bg: #E4EEE9;
			--forum-action-button-text: #618A7A;
			--forum-level-tag-bg: #A99893;
			--forum-level-tag-text: #FFFFFF;
			--forum-tag-pinned-bg: #E14438;
			--forum-tag-hot-bg: #F57C00;
			--forum-tag-anno-bg: #4CAF50;
			--forum-tag-text: #FFFFFF;
			--forum-thread-hover-bg: #FDFCFB;
		}
		
		/* vvvvvvvv 主屏幕UI半透明背景变量 vvvvvvvv */
		:root {
			--hub-widget-bg: rgba(255, 255, 255, 0.35);
			--hub-dock-bg: rgba(255, 255, 255, 0.35);
			--hub-clock-bg: rgba(255, 255, 255, 0.25);
			--hub-clock-text-primary: #FFFFFF;
			--hub-clock-text-secondary: rgba(255, 255, 255, 0.7);
			--hub-clock-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
		}
		
		body {
			margin: 0;
			padding: 0.25rem;
			min-height: 100vh;
			display: flex;
			justify-content: center;
			align-items: center;
			box-sizing: border-box;
			background: transparent;
			font-family: var(--custom-font-family), '寒蝉全圆体';
			-webkit-font-smoothing: none;
			-moz-osx-font-smoothing: grayscale;
			font-smooth: never;
			image-rendering: pixelated;
			image-rendering: crisp-edges;
		}
		
		.phone-frame {
			box-sizing: border-box;
			max-width: var(--phone-width, 360px);
			width: 100%;
			padding: 0.7rem;
			background: var(--phone-frame-bg);
			border-radius: 3.125rem;
			position: relative;
			box-shadow: inset 0 0 12px 2px var(--phone-frame-shadow-color);
		}
		
		.phone-screen {
			border: 1.6px solid var(--phone-screen-border-color);
			box-sizing: border-box;
			height: var(--phone-height, 40rem);
			border-radius: 2.5rem;
			overflow: hidden;
			position: relative;
			display: flex;
			flex-direction: column;
			background-image: var(--wallpaper-home, url('https://files.catbox.moe/tpgirl.jpg'));
			background-size: cover;
			background-position: center;
		}
		
		#hidden-send-trigger {
			position: absolute;
			top: 0.625rem;
			left: 50%;
			transform: translateX(-50%);
			width: 8.4375rem;
			height: 2rem;
			z-index: 999;
			cursor: pointer;
		}
		
		#delete-mode-trigger {
			position: absolute;
			top: 0.625rem;
			left: 1rem;
			width: 60px;
			height: 2rem;
			z-index: 103;
			cursor: pointer;
		}
		
		.dynamic-island {
			position: absolute;
			top: 0.625rem;
			left: 50%;
			transform: translateX(-50%);
			width: 8.4375rem;
			height: 2rem;
			background: var(--dynamic-island-bg);
			border-radius: 1rem;
			z-index: 100;
			display: flex;
			justify-content: center;
			align-items: center;
			color: var(--dynamic-island-text-color);
			font-weight: bold;
			font-size: 0.9em;
			letter-spacing: 0.1em;
			cursor: pointer;
		}
		
		#island-text span {
			display: inline-block;
			transition: transform 0.3s ease-out;
		}
		
		@keyframes wave-bounce {
			
			0%,
			40%,
			100% {
				transform: translateY(0);
			}
			
			20% {
				transform: translateY(-4px);
			}
		}
		
		#island-text.is-generating span {
			animation: wave-bounce 1.2s infinite;
		}
		
		#island-text.is-generating span:nth-child(1) {
			animation-delay: 0s;
		}
		
		#island-text.is-generating span:nth-child(2) {
			animation-delay: 0.1s;
		}
		
		#island-text.is-generating span:nth-child(3) {
			animation-delay: 0.2s;
		}
		
		#island-text.is-generating span:nth-child(4) {
			animation-delay: 0.3s;
		}
		
		.phone-status-bar {
			position: absolute;
			top: 0.125rem;
			left: 0;
			right: 0;
			height: 3rem;
			z-index: 99;
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 0 1.5rem;
			pointer-events: none;
		}
		
		.status-left {
			display: flex;
			align-items: center;
			gap: 0.4rem;
			color: var(--statusbar-text-color);
			font-size: 1.1em;
			font-weight: 600;
		}
		
		.status-right {
			display: flex;
			align-items: center;
			gap: 0.5rem;
			color: var(--statusbar-text-color);
			font-size: 1.1em;
			font-weight: 600;
			pointer-events: auto;
			cursor: pointer;
			border-radius: 1rem;
			padding: 0.5rem;
			margin-right: -0.5rem;
			transition: background-color 0.2s ease;
		}
		
		.status-right:hover {
			background-color: var(--statusbar-hover-bg);
		}
		
		.wifi-icon,
		.battery-icon {
			font-size: 1.1em;
			color: var(--statusbar-text-color);
		}
		
		@keyframes smooth-appear {
			0% {
				opacity: 0;
				transform: translateY(-5px);
			}
			
			100% {
				opacity: 1;
				transform: translateY(0);
			}
		}
		
		.status-time {
			animation: smooth-appear 0.5s ease-out;
		}
		
		.time-updating {
			opacity: 0;
			transition: opacity 0.3s ease;
		}
		
		.phone-frame.fullscreen-active {
			animation: pulse-expand .6s ease-in-out;
		}
		
		.phone-frame.fullscreen-inactive {
			animation: pulse-contract .6s ease-in-out;
		}
		
		:fullscreen body,
		:-webkit-full-screen body,
		:-moz-full-screen body,
		:-ms-fullscreen body {
			background: var(--background-color);
			margin: 0;
			padding: 0;
			overflow: hidden;
			display: flex;
			align-items: center;
			justify-content: center;
			min-height: 100vh
		}
		
		@media(min-width: 1920px)and (min-height: 1080px) {
			
			:fullscreen .phone-frame,
			:-webkit-full-screen .phone-frame,
			:-moz-full-screen .phone-frame,
			:-ms-fullscreen .phone-frame {
				width: max(650px, (100vh - 2rem)*.46);
				max-width: 900px
			}
		}
		
		@media(max-width: 360px) {
			
			:fullscreen .phone-frame,
			:-webkit-full-screen .phone-frame,
			:-moz-full-screen .phone-frame,
			:-ms-fullscreen .phone-frame {
				margin: 0;
				height: 100vh;
				width: auto;
				max-width: 90vw;
			}
		}
		
		:fullscreen .phone-frame::before,
		:-webkit-full-screen .phone-frame::before,
		:-moz-full-screen .phone-frame::before,
		:-ms-fullscreen .phone-frame::before {
			border-radius: 3.125rem
		}
		
		@media(max-width: 360px) {
			
			:fullscreen .phone-frame::before,
			:-webkit-full-screen .phone-frame::before,
			:-moz-full-screen .phone-frame::before,
			:-ms-fullscreen .phone-frame::before {
				border-radius: 1.5rem
			}
		}
		
		.simple-btn {
			padding: 0.75rem;
			border: 1px solid var(--border-color);
			background-color: var(--settings-card-bg-color);
			color: var(--text-color-secondary);
			border-radius: var(--element-border-radius);
			cursor: pointer;
			transition: background-color 0.2s ease, border-color 0.2s ease;
		}
		
		.simple-btn:hover {
			border-color: var(--primary-blue);
			background-color: rgba(var(--shadow-r), var(--shadow-g), var(--shadow-b), 0.05);
		}
		
		.app-view {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			z-index: 60;
			visibility: hidden;
			opacity: 0;
			transition: opacity 0.3s ease, visibility 0.3s ease;
			display: flex;
			flex-direction: column;
			border-radius: inherit;
			overflow: hidden;
		}
		
		.app-view.active {
			visibility: visible;
			opacity: 1;
			z-index: 80;
		}
		
		.app-screen {
			padding: 3.75rem 1rem 1.375rem 1rem;
			flex-grow: 1;
			background: transparent;
		}
		
		#app-background-layer {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background-color: var(--wechat-bg);
			z-index: 50;
			opacity: 1;
			transition: opacity 0.3s ease;
			pointer-events: none;
		}
		
		#app-homescreen.active~#app-background-layer {
			opacity: 0;
		}
		
		.app-grid {
			display: flex;
			justify-content: space-around;
			align-items: flex-start;
			padding: 0 0rem;
		}
		
		.app-icon {
			display: flex;
			flex-direction: column;
			align-items: center;
			text-align: center;
			text-decoration: none;
			cursor: pointer;
			position: relative;
		}
		
		.app-icon .icon-image {
			width: 3.5rem;
			height: 3.5rem;
			border-radius: 22.5%;
			margin-bottom: 0.4375rem;
			background-size: contain;
			background-position: center;
			background-repeat: no-repeat;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 2.2em;
			transition: transform 0.2s ease;
		}
		
		.app-icon .icon-image[style*="background-image"] {
			background-color: transparent !important;
			font-size: 0 !important;
			border-radius: 0;
		}
		
		.app-icon:hover .icon-image {
			transform: scale(1.05);
		}
		
		.app-icon .app-name {
			color: var(--app-name-color);
			font-size: 0.75em;
			font-weight: 400;
			text-shadow: none;
		}
		
		.icon-wechat {
			background-color: var(--app-icon-wechat-bg);
			color: var(--app-icon-text-color);
			box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
		}
		
		.icon-settings {
			background-color: var(--app-icon-settings-bg);
			color: var(--app-icon-text-color);
			box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
		}
		
		.icon-check-phone {
			background-color: var(--app-icon-check-phone-bg);
			color: var(--app-icon-text-color);
			box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
		}
		
		.unread-badge {
			position: absolute;
			top: -0.25rem;
			right: -0.25rem;
			background-color: var(--unread-red);
			color: var(--app-icon-text-color);
			border-radius: 50%;
			padding: 0.1em 0.4em;
			font-size: 0.75em;
			font-weight: bold;
			min-width: 1rem;
			height: 1rem;
			box-sizing: border-box;
			display: flex;
			justify-content: center;
			align-items: center;
			line-height: 1;
			border: 1px solid var(--unread-badge-border-color);
		}
		
		#settings-view {
			background-color: var(--view-bg-primary);
		}
		
		.settings-header {
			flex-shrink: 0;
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 0.5rem 0.75rem;
			background: var(--header-bg-primary);
			border-bottom: 0.0625rem solid var(--header-border-primary);
			padding-top: 2.8125rem;
			position: relative;
			z-index: 10;
		}
		
		.settings-header .back-btn {
			font-size: 1.2em;
			color: var(--text-color-primary);
			cursor: pointer;
		}
		
		.settings-header .title {
			font-weight: 600;
			color: var(--text-color-primary);
			font-size: 1em;
			position: absolute;
			left: 50%;
			transform: translateX(-50%);
		}
		
		.settings-body {
			flex-grow: 1;
			padding: 1.25rem;
			overflow-y: auto;
		}
		
		.settings-card {
			background-color: var(--card-bg-primary);
			border-radius: 0.75rem;
			padding: 1rem;
			box-shadow: 0 2px 8px var(--card-shadow-primary);
		}
		
		.settings-card p {
			font-size: 0.9em;
			line-height: 1.6;
			color: var(--text-color-secondary);
			margin: 0 0 1rem 0;
		}
		
		.settings-card p:last-child {
			margin-bottom: 0;
		}
		
		.settings-card h4 {
			margin-top: 1.5rem;
			margin-bottom: 0.5rem;
			border-bottom: 1px solid var(--divider-color-primary);
			padding-bottom: 0.3rem;
		}
		
		.settings-card h5 {
			margin-top: 1rem;
			margin-bottom: 0.5rem;
		}
		
		.settings-card .highlight {
			color: var(--text-highlight-color);
			font-weight: bold;
		}
		
		.settings-card a {
			color: var(--link-color);
			text-decoration: none;
			font-weight: 500;
		}
		
		.settings-card a:hover {
			text-decoration: underline;
		}
		
		#wechat-chat-view {
			background-color: var(--wechat-bg);
		}
		
		.wechat-header {
			flex-shrink: 0;
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 0.5rem 0.75rem;
			background: var(--wechat-bg);
			border-bottom: 0.0625rem solid var(--header-border-primary);
			padding-top: 2.8125rem;
			position: relative;
			z-index: 10;
		}
		
		.wechat-header .back-btn,
		.wechat-header .options-btn {
			font-size: 1.2em;
			color: var(--list-text-primary);
			cursor: pointer;
		}
		
		.wechat-header .contact-name {
			font-weight: 600;
			color: var(--list-text-primary);
			font-size: 1em;
			cursor: pointer;
		}
		
		.wechat-body {
			flex: 1 1 auto;
			overflow-y: auto;
			padding: 0.9375rem 0.5rem;
			background-image: var(--wallpaper-chat, url('https://files.catbox.moe/09vacf.jpg'));
			background-size: cover;
			background-position: center;
			background-repeat: no-repeat;
		}
		
		.message-row,
		.system-event-row {
			display: flex;
			margin-bottom: 1.125rem;
			align-items: flex-start;
		}
		
		.system-event-row {
			justify-content: center;
			align-items: center;
		}
		
		.message-row.me {
			justify-content: flex-end;
		}
		
		.timestamp-row {
			text-align: center;
			margin: 0.5rem 0;
			align-items: center;
		}
		
		.timestamp-text,
		.system-event-text {
			display: inline-block;
			background: var(--event-log-bg);
			color: var(--event-log-text-color);
			font-size: 0.7em;
			padding: var(--event-log-padding);
			border-radius: var(--event-log-border-radius);
			box-shadow: var(--event-log-shadow);
			max-width: 85%;
			white-space: normal;
			word-break: break-all;
			line-height: 1.4;
		}
		
		.recall-notice-container {
			display: inline-flex;
			flex-direction: column;
			align-items: center;
		}
		
		.recall-notice-text {
			cursor: pointer;
			display: inline-flex;
			align-items: center;
			justify-content: center;
			background: var(--event-log-bg);
			color: var(--text-color-inverted);
			font-size: 0.7em;
			padding: var(--event-log-padding);
			border-radius: var(--event-log-border-radius);
		}
		
		.message-row .message-bubble.music-share-bubble {
			padding: 0;
			width: 13rem;
			overflow: hidden;
		}
		
		.message-row.them .message-bubble.music-share-bubble {
			background: var(--bubble-them-background, #fff);
			--text-color-primary: var(--bubble-them-text-color);
			--text-color-tertiary: var(--bubble-them-text-color);
		}
		
		.message-row.me .message-bubble.music-share-bubble {
			background: var(--bubble-me-background, #fff);
			--text-color-primary: var(--bubble-me-text-color);
			--text-color-tertiary: var(--bubble-me-text-color);
		}
		
		/* 4. 卡片主体布局 */
		.music-share-card {
			display: flex;
			padding: 0.6rem;
			gap: 0.6rem;
			align-items: center;
			cursor: pointer;
		}
		
		/* 5. 封面图：圆角正方形 */
		.music-share-cover {
			width: 3.2rem;
			height: 3.2rem;
			border-radius: 0.3rem;
			background-color: #333;
			background-size: cover;
			background-position: center;
			flex-shrink: 0;
			position: relative;
		}
		
		/* 6. 封面中心的播放小图标（装饰） */
		.music-share-cover::after {
			content: '\f04b';
			font-family: 'Font Awesome 6 Free';
			font-weight: 900;
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			color: rgba(255, 255, 255, 0.9);
			font-size: 1rem;
			text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
		}
		
		/* 7. 文字信息区 */
		.music-share-info {
			flex-grow: 1;
			overflow: hidden;
			display: flex;
			flex-direction: column;
			justify-content: center;
		}
		
		.music-share-title {
			font-size: 0.95em;
			font-weight: 500;
			color: var(--text-color-primary);
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			margin-bottom: 0.2rem;
		}
		
		.music-share-artist {
			font-size: 0.8em;
			color: var(--text-color-tertiary);
			opacity: 0.8;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}
		
		/* 8. 底部来源标识 */
		.music-share-footer {
			padding: 0.3rem 0.6rem;
			border-top: 1px solid rgba(128, 128, 128, 0.2);
			font-size: 0.7em;
			color: var(--text-color-tertiary);
			opacity: 0.7;
			display: flex;
			align-items: center;
			gap: 0.3rem;
		}
		
		.music-share-footer i {
			color: #1AAD19;
		}
		
		.recall-content {
			color: var(--text-color-tertiary);
			font-size: 0.75em;
			padding: 0;
			max-height: 0;
			overflow: hidden;
			transition: max-height 0.3s ease-out, padding 0.3s ease-out;
		}
		
		.recall-content.expanded {
			max-height: 500px;
			padding: 0.3125rem 0 0 0;
		}
		
		.message-avatar {
			width: 2.25rem;
			height: 2.25rem;
			border-radius: 0.3125rem;
			flex-shrink: 0;
			object-fit: cover;
			background-color: var(--panel-dot-color);
			cursor: pointer;
		}
		
		.message-row.them .message-avatar {
			margin-right: 0.625rem;
		}
		
		.message-row.me .message-avatar {
			margin-left: 0.625rem;
		}
		
		.message-content-wrapper {
			position: relative;
			display: flex;
			flex-direction: column;
			align-items: flex-start;
		}
		
		.message-row.them .message-content-wrapper {
			max-width: calc(100% - 3.5rem);
			flex-grow: 1;
		}
		
		.message-row.me .message-content-wrapper {
			align-items: flex-end;
			flex-grow: 1;
		}
		
		.sender-name-label {
			font-size: 0.75em;
			color: var(--text-color-tertiary);
			margin-bottom: 0.1rem;
			margin-left: 0.2rem;
		}
		
		/* --- 1. 通用气泡基础样式 (所有气泡共用) --- */
		.message-bubble {
			display: inline-block;
			position: relative;
			max-width: 85%;
			line-height: 1.4;
			word-break: break-word;
			user-select: none;
			box-sizing: border-box;
			transition: all 0.2s ease;
			border-top-left-radius: var(--bubble-border-top-left-radius, 0.4rem);
			border-top-right-radius: var(--bubble-border-top-right-radius, 0.4rem);
			border-bottom-right-radius: var(--bubble-border-bottom-right-radius, 0.4rem);
			border-bottom-left-radius: var(--bubble-border-bottom-left-radius, 0.4rem);
			font-family: var(--bubble-font-family, inherit);
			font-size: var(--bubble-font-size, 0.9em);
			font-weight: var(--bubble-font-weight, 400);
			clip-path: var(--bubble-clip-path, none);
			padding-top: var(--bubble-padding-top, 0.3rem);
			padding-right: var(--bubble-padding-right, 0.3rem);
			padding-bottom: var(--bubble-padding-bottom, 0.3rem);
			padding-left: var(--bubble-padding-left, 0.3rem);
			margin-top: var(--bubble-margin-top, 3px);
			margin-right: var(--bubble-margin-right, 3px);
			margin-bottom: var(--bubble-margin-bottom, 3px);
			margin-left: var(--bubble-margin-left, 3px);
			border: var(--bubble-border-width, 0px) var(--bubble-border-style, solid) var(--bubble-border-color, transparent);
			box-shadow: var(--bubble-box-shadow, none);
			background: var(--bubble-background, transparent);
			color: var(--bubble-text-color, #000000);
			-webkit-backdrop-filter: blur(var(--bubble-backdrop-blur, 0px));
			backdrop-filter: blur(var(--bubble-backdrop-blur, 0px));
			transform: translateZ(0);
			will-change: backdrop-filter;
		}
		
		/* --- 2. 对方气泡样式 (由 --bubble-them- 变量控制) --- */
		.message-row.them .message-bubble {
			--bubble-background: var(--bubble-them-background);
			--bubble-text-color: var(--bubble-them-text-color);
			--bubble-font-family: var(--bubble-them-font-family);
			--bubble-font-size: var(--bubble-them-font-size);
			--bubble-font-weight: var(--bubble-them-font-weight);
			--bubble-border-top-left-radius: var(--bubble-them-border-top-left-radius);
			--bubble-border-top-right-radius: var(--bubble-them-border-top-right-radius);
			--bubble-border-bottom-right-radius: var(--bubble-them-border-bottom-right-radius);
			--bubble-border-bottom-left-radius: var(--bubble-them-border-bottom-left-radius);
			--bubble-clip-path: var(--bubble-them-clip-path);
			--bubble-border-width: var(--bubble-them-border-width);
			--bubble-border-style: var(--bubble-them-border-style);
			--bubble-border-color: var(--bubble-them-border-color);
			--bubble-padding-top: var(--bubble-them-padding-top);
			--bubble-padding-right: var(--bubble-them-padding-right);
			--bubble-padding-bottom: var(--bubble-them-padding-bottom);
			--bubble-padding-left: var(--bubble-them-padding-left);
			--bubble-margin-top: var(--bubble-them-margin-top);
			--bubble-margin-right: var(--bubble-them-margin-right);
			--bubble-margin-bottom: var(--bubble-them-margin-bottom);
			--bubble-margin-left: var(--bubble-them-margin-left);
			--bubble-box-shadow: var(--bubble-them-box-shadow);
			--bubble-backdrop-blur: var(--bubble-them-backdrop-blur);
		}
		
		/* --- 3. 我的气泡样式 (由 --bubble-me- 变量控制) --- */
		.message-row.me .message-bubble {
			--bubble-background: var(--bubble-me-background);
			--bubble-text-color: var(--bubble-me-text-color);
			--bubble-font-family: var(--bubble-me-font-family);
			--bubble-font-size: var(--bubble-me-font-size);
			--bubble-font-weight: var(--bubble-me-font-weight);
			--bubble-border-top-left-radius: var(--bubble-me-border-top-left-radius);
			--bubble-border-top-right-radius: var(--bubble-me-border-top-right-radius);
			--bubble-border-bottom-right-radius: var(--bubble-me-border-bottom-right-radius);
			--bubble-border-bottom-left-radius: var(--bubble-me-border-bottom-left-radius);
			--bubble-clip-path: var(--bubble-me-clip-path);
			--bubble-border-width: var(--bubble-me-border-width);
			--bubble-border-style: var(--bubble-me-border-style);
			--bubble-border-color: var(--bubble-me-border-color);
			--bubble-padding-top: var(--bubble-me-padding-top);
			--bubble-padding-right: var(--bubble-me-padding-right);
			--bubble-padding-bottom: var(--bubble-me-padding-bottom);
			--bubble-padding-left: var(--bubble-me-padding-left);
			--bubble-margin-top: var(--bubble-me-margin-top);
			--bubble-margin-right: var(--bubble-me-margin-right);
			--bubble-margin-bottom: var(--bubble-me-margin-bottom);
			--bubble-margin-left: var(--bubble-me-margin-left);
			--bubble-box-shadow: var(--bubble-me-box-shadow);
			--bubble-backdrop-blur: var(--bubble-me-backdrop-blur);
		}
		
		.message-bubble::before,
		.message-bubble::after {
			content: var(--deco-content, "");
			position: absolute;
			background-size: contain;
			background-repeat: no-repeat;
			transform: rotate(var(--deco-rotate, 0deg));
			font-size: var(--deco-font-size, inherit);
			color: var(--deco-color, inherit);
			display: flex;
			align-items: center;
			justify-content: center;
			pointer-events: none;
		}
		
		.message-row.me .message-bubble::before {
			background-image: var(--bubble-me-deco-1-url);
			width: var(--bubble-me-deco-1-width);
			height: var(--bubble-me-deco-1-height);
			top: var(--bubble-me-deco-1-top);
			right: var(--bubble-me-deco-1-right);
			bottom: var(--bubble-me-deco-1-bottom);
			left: var(--bubble-me-deco-1-left);
			z-index: var(--bubble-me-deco-1-z-index);
			--deco-content: var(--bubble-me-deco-1-content);
			--deco-rotate: var(--bubble-me-deco-1-rotate);
			--deco-font-size: var(--bubble-me-deco-1-font-size);
			--deco-color: var(--bubble-me-deco-1-color);
		}
		
		.message-row.me .message-bubble::after {
			background-image: var(--bubble-me-deco-2-url);
			width: var(--bubble-me-deco-2-width);
			height: var(--bubble-me-deco-2-height);
			top: var(--bubble-me-deco-2-top);
			right: var(--bubble-me-deco-2-right);
			bottom: var(--bubble-me-deco-2-bottom);
			left: var(--bubble-me-deco-2-left);
			z-index: var(--bubble-me-deco-2-z-index);
			--deco-content: var(--bubble-me-deco-2-content);
			--deco-rotate: var(--bubble-me-deco-2-rotate);
			--deco-font-size: var(--bubble-me-deco-2-font-size);
			--deco-color: var(--bubble-me-deco-2-color);
		}
		
		.message-row.them .message-bubble::before {
			background-image: var(--bubble-them-deco-1-url);
			width: var(--bubble-them-deco-1-width);
			height: var(--bubble-them-deco-1-height);
			top: var(--bubble-them-deco-1-top);
			right: var(--bubble-them-deco-1-right);
			bottom: var(--bubble-them-deco-1-bottom);
			left: var(--bubble-them-deco-1-left);
			z-index: var(--bubble-them-deco-1-z-index);
			--deco-content: var(--bubble-them-deco-1-content);
			--deco-rotate: var(--bubble-them-deco-1-rotate);
			--deco-font-size: var(--bubble-them-deco-1-font-size);
			--deco-color: var(--bubble-them-deco-1-color);
		}
		
		.message-row.them .message-bubble::after {
			background-image: var(--bubble-them-deco-2-url);
			width: var(--bubble-them-deco-2-width);
			height: var(--bubble-them-deco-2-height);
			top: var(--bubble-them-deco-2-top);
			right: var(--bubble-them-deco-2-right);
			bottom: var(--bubble-them-deco-2-bottom);
			left: var(--bubble-them-deco-2-left);
			z-index: var(--bubble-them-deco-2-z-index);
			--deco-content: var(--bubble-them-deco-2-content);
			--deco-rotate: var(--bubble-them-deco-2-rotate);
			--deco-font-size: var(--bubble-them-deco-2-font-size);
			--deco-color: var(--bubble-them-deco-2-color);
		}
		
		.message-bubble img {
			max-width: 15rem;
			max-height: 15rem;
			display: block;
			border-radius: 0.5rem;
		}
		
		.message-row .message-bubble.failed-message-bubble {}
		
		.failed-status-icon {
			color: var(--unread-red);
			font-size: 1.2rem;
			align-self: center;
			margin: 0 0.5rem;
		}
		
		.message-row .message-bubble.sticker-bubble::after,
		.message-row .message-bubble.image-desc-bubble::after,
		.message-row .message-bubble.image-url-bubble::after,
		.message-row .message-bubble.location-bubble::after,
		.message-row .message-bubble.transfer-bubble::after,
		.message-row .message-bubble.file-bubble::after,
		.message-row .message-bubble.gift-bubble::after,
		.message-row .message-bubble.red-packet-bubble::after,
		.message-row .message-bubble.forward-bubble::after {
			content: none;
		}
		
		
		.message-row .message-bubble.shopping-receipt-bubble {
			background: transparent !important;
			padding: 0 !important;
			box-shadow: none !important;
			border: none !important;
			--bubble-background: transparent;
			--bubble-border-color: transparent;
			--bubble-box-shadow: none;
		}
		
		.message-row .message-bubble.shopping-receipt-bubble::before,
		.message-row .message-bubble.shopping-receipt-bubble::after {
			content: none !important;
			display: none !important;
		}
		
		.message-row .message-bubble.sticker-bubble {
			background: transparent !important;
			padding: 0;
			width: 8rem;
			height: 8rem;
			box-sizing: border-box;
		}
		
		.message-row .message-bubble.sticker-bubble img {
			width: 100%;
			height: 100%;
			object-fit: contain;
			border-radius: inherit;
		}
		
		.message-row .message-bubble.image-desc-bubble {
			background: transparent;
			padding: 0;
		}
		
		.message-row .message-bubble.image-url-bubble {
			background: transparent;
			padding: 0;
		}
		
		.message-row .message-bubble.image-url-bubble img {
			max-width: 15rem;
			max-height: 15rem;
			display: block;
			border-radius: 0.5rem;
		}
		
		.message-row .message-bubble.location-bubble,
		.message-row .message-bubble.transfer-bubble,
		.message-row .message-bubble.file-bubble,
		.message-row .message-bubble.red-packet-bubble,
		.message-row .message-bubble.forward-bubble {
			background: transparent;
			padding: 0;
			width: 12.5rem;
			max-width: 12.5rem;
			overflow: hidden;
		}
		
		.event-log-row {
			text-align: center;
			margin: 0.5rem 0;
		}
		
		.event-log-container {
			display: inline-flex;
			flex-direction: column;
			align-items: center;
		}
		
		/* --- 1. 事件/时间气泡 (未展开时) --- */
		.event-time-text {
			display: inline-flex;
			align-items: center;
			justify-content: center;
			max-width: 85%;
			white-space: normal;
			word-break: break-all;
			line-height: 1.4;
			transition: transform 0.2s ease;
			background: var(--event-log-bg);
			color: var(--event-log-text-color);
			font-size: 0.7em;
			padding: var(--event-log-padding);
			border-radius: var(--event-log-border-radius);
			box-shadow: var(--event-log-shadow);
		}
		
		.event-time-text:hover {
			transform: translateY(-1px);
		}
		
		.event-time-text.has-desc {
			cursor: pointer;
		}
		
		/* --- 2. 事件描述 (展开后) --- */
		.event-description {
			box-sizing: border-box;
			line-height: 1.5;
			max-height: 0;
			overflow: hidden;
			opacity: 0;
			transition: max-height 0.4s cubic-bezier(0.25, 0.8, 0.25, 1),
				padding 0.4s cubic-bezier(0.25, 0.8, 0.25, 1),
				opacity 0.4s cubic-bezier(0.25, 0.8, 0.25, 1),
				margin-top 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
			width: 85%;
			color: var(--event-desc-expanded-text-color);
			font-family: var(--event-desc-expanded-font-family);
			font-size: var(--event-desc-expanded-font-size);
			font-weight: var(--event-desc-expanded-font-weight);
			margin-top: var(--event-desc-expanded-margin-top);
		}
		
		.event-description.expanded {
			max-height: 500px;
			opacity: 1;
			background-color: var(--event-desc-expanded-bg);
			border-radius: var(--event-desc-expanded-border-radius);
			padding: var(--event-desc-expanded-padding-top) var(--event-desc-expanded-padding-right) var(--event-desc-expanded-padding-bottom) var(--event-desc-expanded-padding-left);
			box-shadow: var(--event-desc-expanded-box-shadow);
			border: var(--event-desc-expanded-border-width) var(--event-desc-expanded-border-style) var(--event-desc-expanded-border-color);
		}
		
		/* 1. 语音气泡本身 */
		.message-bubble.voice-bubble {
			flex-direction: column;
			align-items: stretch;
			cursor: pointer;
			min-width: 5rem;
		}
		
		/* 2. 语音控制条*/
		.voice-controls {
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 0 1.5rem;
		}
		
		/* 3. 声波图标的容器 */
		.voice-waveform {
			display: flex;
			align-items: center;
			height: 16px;
		}
		
		/* 4. 声波的每一根竖线 */
		.voice-waveform span {
			display: inline-block;
			width: 2px;
			margin: 0 1px;
			border-radius: 2px;
			background-color: var(--voice-icon-color);
		}
		
		/* 5. 定义每根竖线的不同高度 */
		.voice-waveform span:nth-child(1) {
			height: 4px;
		}
		
		.voice-waveform span:nth-child(2) {
			height: 7px;
		}
		
		.voice-waveform span:nth-child(3) {
			height: 10px;
		}
		
		.voice-waveform span:nth-child(4) {
			height: 13px;
		}
		
		/* 6. 时长文本 */
		.voice-bubble .duration {
			font-size: 0.9em;
		}
		
		/* 7. 控制声波和时长的左右顺序*/
		.message-row.them .voice-waveform {
			order: 1;
		}
		
		.message-row.them .duration {
			order: 2;
		}
		
		.message-row.me .voice-waveform {
			order: 2;
		}
		
		.message-row.me .duration {
			order: 1;
		}
		
		/* 8. 展开后的语音文本容器*/
		.voice-text-content {
			background-color: transparent;
			border: none;
			box-shadow: none;
			color: inherit;
			max-height: 0;
			overflow: hidden;
			transition: max-height 0.35s ease-in-out, padding-top 0.35s ease-in-out, margin-top 0.35s ease-in-out;
			font-size: 1em;
			line-height: 1.5;
			padding-top: 0;
			margin-top: 0;
			white-space: pre-wrap;
			word-break: break-word;
			user-select: text;
		}
		
		/* 9. 展开状态*/
		.voice-text-content.expanded {
			max-height: 500px;
			margin-top: 0.5rem;
			padding-top: 0.5rem;
			border-top: 1px solid rgba(0, 0, 0, 0.1);
		}
		
		/* 10. 分割线颜色适配*/
		.message-row.them .voice-text-content.expanded {
			border-top-color: rgba(0, 0, 0, 0.35);
		}
		
		.message-row.me .voice-text-content.expanded {
			border-top-color: rgba(0, 0, 0, 0.35);
		}
		
		.image-desc-content {
			width: 8.4375rem;
			height: 8.4375rem;
			backdrop-filter: blur(10px) !important;
			background-color: var(--image-desc-bg);
			border: 0.0625rem solid var(--image-desc-border);
			border-radius: 0.5rem;
			padding: 0.5rem;
			color: var(--text-color-secondary);
			font-weight: 500;
			overflow-y: auto;
			word-wrap: break-word;
			box-sizing: border-box;
			font-size: 0.9em;
		}
		
		.location-bubble .location-card {
			background-color: var(--card-bg-primary);
			overflow: hidden;
			box-shadow: 0 2px 8px var(--card-shadow-primary);
		}
		
		.location-content {
			padding: 0.5rem;
		}
		
		.location-content .location-title {
			font-size: 1em;
			color: var(--text-color-primary);
			font-weight: 500;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}
		
		.location-content .location-subtitle {
			font-size: 0.75em;
			color: var(--text-color-tertiary);
		}
		
		.location-map-placeholder {
			height: 5.625rem;
			position: relative;
			background-color: #e5e3df;
			overflow: hidden;
		}
		
		.location-map-placeholder::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-image: repeating-linear-gradient(45deg, #c8c6c3 0, #c8c6c3 4px, transparent 4px, transparent 8px), repeating-linear-gradient(135deg, #d1cfcc 0, #d1cfcc 3px, transparent 3px, transparent 7px), linear-gradient(to bottom, #b8b6b3 0%, #b8b6b3 100%), linear-gradient(to bottom, #dcdad7 0%, #dcdad7 100%), linear-gradient(to right, #b8b6b3 0%, #b8b6b3 100%), linear-gradient(to right, #dcdad7 0%, #dcdad7 100%), radial-gradient(ellipse at 20% 85%, #d4e5c7 30%, transparent 31%), radial-gradient(ellipse at 80% 30%, #cde2d0 40%, transparent 41%);
			background-size: 40% 35%, 30% 30%, 10px 100%, 6px 100%, 100% 10px, 100% 6px, 100% 100%, 100% 100%;
			background-position: -5% 110%, 100% 0%, 70% center, 70% center, center 35%, center 35%, 0 0, 0 0;
			background-repeat: no-repeat;
		}
		
		.location-map-placeholder::after {
			content: '\f3c5';
			font-family: 'Font Awesome 6 Free';
			font-weight: 900;
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			font-size: 1.8em;
			color: var(--location-map-icon-color);
			text-shadow: 0 0 0.3125rem var(--text-color-inverted);
			z-index: 10;
		}
		
		.transfer-bubble .transfer-card {
			overflow: hidden;
			width: 100%;
			box-sizing: border-box;
		}
		
		.transfer-card.transfer-initial {
			background-color: var(--transfer-initial-bg);
			color: var(--transfer-initial-text);
		}
		
		.transfer-card.transfer-receipt {
			background-color: var(--transfer-receipt-bg);
			color: var(--transfer-initial-text);
		}
		
		.transfer-card.them {
			cursor: pointer;
		}
		
		.transfer-content {
			display: flex;
			align-items: center;
			padding: 0.75rem;
		}
		
		.transfer-icon-image {
			width: 2.25rem;
			height: 2.25rem;
			flex-shrink: 0;
		}
		
		.transfer-details {
			margin-left: 0.75rem;
			flex-grow: 1;
		}
		
		.transfer-details .amount {
			font-size: 1.1em;
			font-weight: bold;
		}
		
		.transfer-details .note,
		.transfer-details .status-text,
		.transfer-details .recipient-note {
			font-size: 0.8em;
			opacity: 0.9;
		}
		
		.transfer-initial .transfer-footer {
			color: rgba(255, 255, 255, 0.8);
			border-top: 0.0625rem solid rgba(255, 255, 255, 0.2);
			opacity: 1;
		}
		
		.transfer-receipt .transfer-footer {
			color: rgba(255, 255, 255, 0.8);
			border-top: 0.0625rem solid rgba(255, 255, 255, 0.2);
			opacity: 0.8;
		}
		
		.transfer-footer {
			font-size: 0.75em;
			padding: 0.1875rem 0.75rem;
		}
		
		.file-bubble .file-card {
			background-color: var(--file-bubble-bg);
			overflow: hidden;
			width: 100%;
			box-sizing: border-box;
		}
		
		.file-content {
			display: flex;
			align-items: center;
			padding: 0.75rem;
			gap: 0.75rem;
		}
		
		.file-icon {
			font-size: 2.5em;
			color: var(--file-icon-color);
			flex-shrink: 0;
		}
		
		.file-details .file-name {
			font-size: 0.9em;
			color: var(--file-icon-color);
			font-weight: 500;
			word-break: break-all;
		}
		
		.file-footer {
			background-color: transparent;
			color: var(--file-icon-color);
			font-size: 0.75em;
			padding: 0.1875rem 0.75rem;
			border-top: 0.0625rem solid rgba(0, 0, 0, 0.08);
		}
		
		.red-packet-bubble .red-packet-card {
			background-color: var(--red-packet-bg);
			color: var(--red-packet-text-color);
			overflow: hidden;
			cursor: pointer;
		}
		
		.red-packet-icon {
			font-size: 2.2em;
			color: var(--red-packet-icon-color);
		}
		
		.red-packet-content {
			display: flex;
			align-items: center;
			padding: 0.75rem;
			gap: 0.75rem;
		}
		
		.red-packet-details .red-packet-title {
			font-size: 1em;
			font-weight: 500;
		}
		
		.red-packet-footer {
			font-size: 0.75em;
			padding: 0.1875rem 0.75rem;
			background: var(--card-bg-primary);
			color: #aaa;
		}
		
		.wechat-input-area {
			flex-shrink: 0;
			background-color: var(--input-area-bg);
			position: relative;
			z-index: 10;
		}
		
		.wechat-input-area.disabled {
			display: none !important;
		}
		
		.wechat-footer {
			display: flex;
			align-items: center;
			gap: 0.4375rem;
			padding: 0.4375rem 0.625rem;
			border-top: 0.0625rem solid var(--input-area-border);
			height: var(--footer-height);
			box-sizing: border-box;
		}
		
		.wechat-footer .footer-icon,
		.wechat-footer .send-btn {
			font-size: 1.6em;
			color: var(--footer-icon-color);
			cursor: pointer;
			flex-shrink: 0;
		}
		
		.wechat-footer .text-input {
			flex-grow: 1;
			border: none;
			background: var(--input-field-bg);
			padding: 0.4375rem 0.625rem;
			border-radius: 0.375rem;
			font-size: 0.9em;
			min-width: 0;
			color: var(--text-color-primary);
		}
		
		.wechat-footer .text-input:focus {
			outline: none;
		}
		
		.wechat-footer .text-input[disabled] {
			background-color: var(--input-field-disabled-bg);
			cursor: not-allowed;
		}
		
		.wechat-footer .text-input::placeholder {
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			color: var(--text-color-placeholder);
		}
		
		.wechat-footer .send-btn {
			background-color: var(--wechat-green-icon);
			color: var(--text-color-inverted);
			border: none;
			width: 1.875rem;
			height: 1.875rem;
			border-radius: 0.375rem;
			font-size: 1em;
			cursor: pointer;
			display: none;
			flex-shrink: 0;
			padding: 0;
			line-height: 1.875rem;
			text-align: center;
		}
		
		.wechat-footer .send-btn:disabled {
			background-color: var(--primary-mint);
			cursor: wait;
		}
		
		#observer-mode-footer {
			flex-shrink: 0;
			padding: 0.5rem;
			background-color: var(--input-area-bg);
			border-top: 1px solid var(--input-area-border);
			display: flex;
			gap: 0.5rem;
			justify-content: space-around;
		}
		
		#observer-poke-btn,
		#observer-screenshot-btn {
			flex: 1;
			padding: 0.6rem;
			border: none;
			background: var(--wechat-green-icon);
			color: var(--text-color-inverted);
			font-size: 0.9em;
			border-radius: 0.25rem;
			cursor: pointer;
		}
		
		#observer-screenshot-btn {
			background-color: var(--card-bg-primary);
			color: var(--text-color-secondary);
			border: 1px solid #ddd;
		}
		
		#observer-poke-btn:disabled,
		#observer-screenshot-btn:disabled {
			background-color: var(--primary-mint);
			cursor: wait;
		}
		
		
		.panel-container {
			height: 0;
			overflow: hidden;
			transition: height 0.3s ease;
			position: relative;
		}
		
		.panel-container.active {
			height: var(--panel-height);
		}
		
		.panel-view {
			display: none;
			height: 100%;
			overflow-y: auto;
			padding: 1.125rem 0.75rem;
			box-sizing: border-box;
			position: relative;
		}
		
		.panel-view.active {
			display: block;
		}
		
		.features-grid {
			display: grid;
			grid-template-columns: repeat(4, 1fr);
			gap: 1.125rem;
		}
		
		.feature-item {
			display: flex;
			flex-direction: column;
			align-items: center;
			cursor: pointer;
			position: relative;
		}
		
		.feature-icon {
			width: 3.375rem;
			height: 3.375rem;
			background-color: var(--card-bg-primary);
			border-radius: 0.5rem;
			display: flex;
			align-items: center;
			justify-content: center;
			border: 1px solid var(--divider-color-primary);
			margin-bottom: 0.4375rem;
		}
		
		.feature-icon i {
			font-size: 1.6em;
			color: var(--panel-icon-color);
		}
		
		.feature-icon img {
			max-width: 100%;
			max-height: 100%;
			border-radius: 0.5rem;
			object-fit: cover;
		}
		
		.feature-label {
			font-size: 0.75em;
			color: var(--text-color-tertiary);
		}
		
		.panel-pagination {
			position: absolute;
			bottom: 0.5rem;
			left: 50%;
			transform: translateX(-50%);
			display: flex;
			gap: 0.5rem;
		}
		
		.panel-dot {
			width: 0.5rem;
			height: 0.5rem;
			background-color: var(--panel-dot-color);
			border-radius: 50%;
			cursor: pointer;
		}
		
		.panel-dot.active {
			background-color: var(--panel-dot-active-color);
		}
		
		
		.message-row .message-bubble.gift-bubble {
			padding: 0;
			width: 12.5rem;
			max-width: 12.5rem;
			overflow: hidden;
			background-image: radial-gradient(white, rgba(255, 255, 255, 0) 0.125rem), radial-gradient(white, rgba(255, 255, 255, 0) 0.0625rem), radial-gradient(rgba(255, 255, 255, .4), rgba(255, 255, 255, 0) 0.125rem), radial-gradient(rgba(255, 255, 255, .4), rgba(255, 255, 255, 0) 0.0625rem);
			background-size: 3.125rem 3.125rem, 4.375rem 4.375rem, 5rem 5rem, 5.625rem 5.625rem;
			background-position: 0 0, 1.875rem 1.875rem, 0.625rem 2.5rem, 2.5rem 0.625rem;
		}
		
		.message-row.me .message-bubble.gift-bubble,
		.message-row.them .message-bubble.gift-bubble {
			background-color: var(--gift-bubble-bg);
		}
		
		.message-row .message-bubble.gift-bubble.gift-receipt {
			background-color: var(--gift-receipt-bg);
		}
		
		.gift-content {
			padding: 0.75rem;
			display: flex;
			align-items: center;
			gap: 0.75rem;
			color: var(--gift-bubble-text-color);
		}
		
		.gift-icon {
			font-size: 2.2em;
		}
		
		.gift-details .gift-name {
			font-size: 1.1em;
			font-weight: bold;
		}
		
		.gift-details .gift-price,
		.gift-details .gift-status-text,
		.gift-details .recipient-note {
			font-size: 0.8em;
			opacity: 0.9;
		}
		
		.gift-footer {
			color: rgba(255, 255, 255, 0.8);
			font-size: 0.75em;
			padding: 0.1875rem 0.75rem;
			border-top: 0.0625rem solid rgba(255, 255, 255, 0.2);
		}
		
		/* --- 1. 整体与头部 --- */
		#moments-view {
			background-color: var(--view-bg-primary);
			color: var(--text-color-primary);
		}
		
		.moments-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 0.5rem 0.75rem;
			background: var(--header-bg-primary);
			border-bottom: 0.0625rem solid var(--header-border-primary);
			padding-top: 2.8125rem;
			flex-shrink: 0;
		}
		
		.moments-header .title {
			font-weight: 600;
			font-size: 1em;
		}
		
		.moments-header .header-action {
			font-size: 1.2em;
			cursor: pointer;
		}
		
		.moments-body {
			flex-grow: 1;
			overflow-y: auto;
			background-color: var(--view-bg-secondary);
		}
		
		/* --- 2. 封面与用户信息 --- */
		.moments-feed-header {
			position: relative;
			margin-bottom: 3rem;
		}
		
		.moments-cover-photo {
			width: 100%;
			height: 12rem;
			object-fit: cover;
			display: block;
			cursor: pointer;
		}
		
		.moments-user-info {
			position: absolute;
			bottom: -0.75rem;
			right: 0.75rem;
			display: flex;
			align-items: flex-end;
			gap: 0.75rem;
		}
		
		.moments-user-name {
			color: var(--moments-cover-text-color);
			font-size: 1.1em;
			font-weight: bold;
			text-shadow: 0 0.0625rem 0.1875rem var(--moments-cover-text-shadow);
			position: relative;
			bottom: 1.375rem;
			cursor: pointer;
		}
		
		.moments-user-avatar {
			width: 3.9375rem;
			height: 3.9375rem;
			border-radius: 0.5rem;
			object-fit: cover;
			cursor: pointer;
			border: 2px solid white;
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
			box-sizing: border-box;
		}
		
		.user-signature {
			position: absolute;
			top: 4.5rem;
			right: 0;
			width: 14.0625rem;
			text-align: right;
			word-wrap: break-word;
			line-height: 1.4;
			color: var(--moments-signature-color);
			font-size: 0.8em;
		}
		
		/* --- 3. 动态列表与单条动态卡片 --- */
		.moments-feed-list {
			padding: 0 0.75rem;
			list-style: none;
		}
		
		.moment-post {
			display: flex;
			gap: 0.625rem;
			padding: 1.125rem 0;
			border-bottom: 1px solid var(--moments-feed-divider);
		}
		
		.moment-post:last-child {
			border-bottom: none;
		}
		
		.post-author-avatar {
			width: 2.8rem;
			height: 2.8rem;
			border-radius: 0.3125rem;
			flex-shrink: 0;
			object-fit: cover;
			cursor: pointer;
			border: 2px solid white;
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
			box-sizing: border-box;
		}
		
		.post-details {
			display: flex;
			flex-direction: column;
			gap: 0.6rem;
			flex-grow: 1;
			min-width: 0;
		}
		
		/* --- 4. 动态头部：作者名 + 操作图标 --- */
		.post-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
		}
		
		.post-author-name {
			font-weight: 600;
			font-size: 1em;
			color: inherit;
		}
		
		.post-author-name.is-character {
			color: var(--moments-name-color);
		}
		
		.post-actions-top {
			display: flex;
			align-items: center;
			gap: 1rem;
		}
		
		.post-actions-top i {
			font-size: 1.1em;
			color: var(--moments-action-icon-color);
			cursor: pointer;
			transition: color 0.2s ease, transform 0.2s ease;
		}
		
		.post-actions-top i:hover {
			transform: scale(1.1);
			color: var(--moments-name-color);
		}
		
		.post-actions-top i.liked {
			color: var(--moments-name-color);
			font-weight: 900;
		}
		
		
		/* --- 5. 正文与图片 --- */
		.post-content {
			font-size: 0.9em;
			line-height: 1.6;
			white-space: pre-wrap;
			word-wrap: break-word;
			margin-top: -0.2rem;
		}
		
		.post-media-container {
			background-color: var(--moments-image-bg);
			padding: 0.5rem;
			border-radius: 0.5rem;
			margin-top: -0.2rem;
			width: 75%;
		}
		
		.post-media-image,
		.post-media .image-desc-content {
			width: 100%;
			height: auto;
			aspect-ratio: 3 / 2;
			object-fit: cover;
			border-radius: 0.25rem;
			display: block;
		}
		
		.post-media .image-desc-content {
			width: 100%;
			height: 100%;
			display: block;
			overflow-y: auto;
			padding: 0rem;
			box-sizing: border-box;
			text-align: justify;
			background-color: transparent;
			font-size: 0.85em;
			line-height: 1.5;
		}
		
		.post-actions-top.disabled,
		.moment-reply-btn.disabled {
			opacity: 0.4;
			pointer-events: none;
			cursor: not-allowed;
		}
		
		/* --- 6. 底部元信息：时间戳 + 回复按钮 + 隐私/删除 --- */
		.post-meta {
			display: flex;
			justify-content: space-between;
			align-items: center;
			color: var(--moments-meta-text-color);
			font-size: 0.8em;
			margin-top: 0.4rem;
		}
		
		.post-meta-right {
			display: flex;
			align-items: center;
			gap: 0.75rem;
		}
		
		.privacy-indicator {
			display: flex;
			align-items: center;
			gap: 0.3rem;
			color: var(--moments-action-icon-color);
		}
		
		.delete-moment-btn {
			color: var(--moments-action-icon-color);
			cursor: pointer;
			font-size: 1em;
		}
		
		.delete-moment-btn:hover {
			color: var(--button-bg-danger);
		}
		
		.moment-reply-btn {
			background-color: var(--moments-reply-btn-bg);
			color: white;
			border: none;
			padding: 0.2rem 0.6rem;
			border-radius: 0.75rem;
			font-size: 1em;
			cursor: pointer;
			font-weight: 500;
		}
		
		/* --- 7. 评论互动区 --- */
		.post-interactions {
			background-color: var(--moments-interactions-bg-new);
			border-radius: 0.5rem;
			margin-top: 0.5rem;
			font-size: 0.85em;
			position: relative;
			padding: 0.5rem 0.625rem;
		}
		
		.post-interactions::before {
			content: none;
		}
		
		.comments-section {
			padding: 0;
			list-style: none;
			border-top: none;
		}
		
		.comments-section li {
			padding: 0.1875rem 0;
			line-height: 1.5;
		}
		
		.comment-author {
			font-weight: 500;
			color: var(--link-color);
		}
		
		.moment-quote-block {
			background-color: rgba(230, 228, 236, 0.75);
			border-left: 3px solid var(--moments-reply-btn-bg);
			padding: 0.5rem 0.75rem;
			margin-bottom: 0.5rem;
			border-radius: 4px;
		}
		
		.moment-quote-block .quote-author {
			font-weight: 600;
			color: var(--moments-name-color);
			font-size: 0.9em;
		}
		
		.moment-quote-block .quote-content {
			color: #6a6a6a;
			font-size: 0.9em;
		}
		
		#wechat-chat-view.delete-mode .wechat-body {
			padding-left: 25px;
			padding-right: 25px;
		}
		
		#wechat-chat-view.delete-mode .message-row,
		#wechat-chat-view.delete-mode .timestamp-row,
		#wechat-chat-view.delete-mode .event-log-row {
			cursor: pointer;
			position: relative;
		}
		
		#wechat-chat-view.delete-mode [data-log-index]::before {
			content: '✗';
			color: var(--link-color);
			font-weight: 900;
			font-size: 16px;
			display: flex;
			justify-content: center;
			align-items: center;
			width: 20px;
			height: 20px;
			position: absolute;
			left: -25px;
			top: 35%;
			transform: translateY(-50%);
		}
		
		#wechat-chat-view.delete-mode .message-row.me[data-log-index]::before {
			left: auto;
			right: -23px;
		}
		
		.forward-checkbox {
			display: none;
			width: 1.2rem;
			height: 1.2rem;
			margin-right: 0.5rem;
			align-self: center;
		}
		
		.message-row.me .forward-checkbox {
			margin-right: 0;
			margin-left: 0.5rem;
		}
		
		#wechat-chat-view.forward-mode .forward-checkbox {
			display: inline-block;
		}
		
		#forward-action-bar {
			display: none;
			flex-shrink: 0;
			padding: 0.5rem;
			background-color: var(--input-area-bg);
			border-top: 1px solid var(--input-area-border);
			justify-content: space-around;
			position: relative;
			z-index: 11;
		}
		
		#wechat-chat-view.forward-mode #forward-action-bar {
			display: flex;
		}
		
		.forward-action-btn {
			padding: 0.5rem 2rem;
			border: none;
			border-radius: 5px;
			font-size: 1em;
			cursor: pointer;
		}
		
		#forward-cancel-btn {
			background-color: #ddd;
			color: var(--text-color-secondary);
		}
		
		#forward-confirm-btn {
			background-color: var(--wechat-green-icon);
			color: var(--text-color-inverted);
		}
		
		.forward-bubble .forward-card {
			background-color: var(--card-bg-primary);
			overflow: hidden;
			border: 1px solid #e7e7e7;
			cursor: pointer;
		}
		
		.forward-card .forward-title {
			padding: 0.5rem 0.75rem;
			font-size: 1em;
			font-weight: 500;
			border-bottom: 1px solid #e7e7e7;
		}
		
		.forward-card .forward-summary {
			padding: 0.5rem 0.75rem;
			font-size: 0.85em;
			color: var(--text-color-tertiary);
		}
		
		.forward-card .forward-title {
			color: var(--text-color-primary);
		}
		
		.forward-card .forward-summary {
			color: var(--text-color-secondary);
		}
		
		.forward-summary p {
			margin: 0.2rem 0;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}
		
		#forward-content-modal {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background-color: var(--view-bg-primary);
			z-index: 2500;
			display: none;
			flex-direction: column;
		}
		
		#forward-content-modal-header {
			flex-shrink: 0;
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 0.5rem 0.75rem;
			background: var(--header-bg-primary);
			border-bottom: 1px solid var(--header-border-primary);
			padding-top: 2.8125rem;
		}
		
		#forward-content-modal-header .title {
			font-weight: 600;
		}
		
		#forward-content-modal-header .close-btn {
			font-size: 1.2em;
			cursor: pointer;
		}
		
		#forward-content-modal-body {
			flex-grow: 1;
			overflow-y: auto;
			padding: 1rem;
		}
		
		.forward-modal-item {
			margin-bottom: 1rem;
		}
		
		.forward-modal-item-header {
			display: flex;
			align-items: center;
			gap: 0.5rem;
			margin-bottom: 0.5rem;
		}
		
		.forward-modal-item-header img {
			width: 1.5rem;
			height: 1.5rem;
			border-radius: 3px;
		}
		
		.forward-modal-item-header .name {
			font-weight: 500;
			color: #555;
		}
		
		.forward-modal-item-content {
			background-color: var(--card-bg-primary);
			padding: 0.75rem;
			border-radius: 5px;
			box-shadow: 0 1px 2px var(--card-shadow-primary);
			white-space: pre-wrap;
			word-wrap: break-word;
		}
		
		#forward-content-modal-body .moment-post {
			border-bottom: none;
			padding: 0;
		}
		
		
		.feature-item .sticker-checkbox {
			position: absolute;
			top: 2px;
			right: 2px;
			width: 1rem;
			height: 1rem;
			accent-color: var(--wechat-green-icon);
			cursor: pointer;
		}
		
		#wechat-list-view {
			background-color: var(--view-bg-secondary);
		}
		
		#wechat-list-view .wechat-list-header .title,
		#wechat-list-view .wechat-list-header .actions .fa-plus,
		#wechat-list-view .wechat-list-header .back-btn,
		#contacts-view .wechat-list-header .title {
			color: var(--list-text-primary);
		}
		
		.wechat-list-header {
			flex-shrink: 0;
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 0 0.75rem;
			background: var(--header-bg-primary);
			height: calc(2.8125rem + 1.5rem);
			padding-top: 1.5rem;
			position: relative;
			z-index: 10;
		}
		
		.wechat-list-header .title {
			font-weight: 600;
			font-size: 1.1em;
		}
		
		.wechat-list-header .actions .fa-plus {
			font-size: 1.2em;
			cursor: pointer;
		}
		
		.plus-menu {
			position: absolute;
			top: calc(2.8125rem + 1.5rem);
			right: 0.75rem;
			background-color: var(--plus-menu-bg);
			color: var(--text-color-inverted);
			border-radius: 0.5rem;
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
			z-index: 100;
			overflow: hidden;
			display: none;
		}
		
		.plus-menu-item {
			display: flex;
			align-items: center;
			padding: 0.75rem 1rem;
			cursor: pointer;
			gap: 0.75rem;
			font-size: 0.9em;
		}
		
		.plus-menu-item:not(:last-child) {
			border-bottom: 1px solid var(--plus-menu-divider);
		}
		
		.plus-menu-item:hover {
			background-color: var(--plus-menu-hover-bg);
		}
		
		.wechat-list-body {
			flex-grow: 1;
			overflow-y: auto;
		}
		
		.conversation-item {
			display: flex;
			align-items: center;
			padding: 0.625rem 0.75rem;
			cursor: pointer;
			position: relative;
		}
		
		.conversation-item.pinned {
			background-color: var(--list-item-pinned-bg);
		}
		
		.conversation-item:not(:last-child)::after {
			content: '';
			position: absolute;
			bottom: 0;
			left: 4.5rem;
			right: 0;
			height: 1px;
			background-color: var(--list-item-divider-color);
		}
		
		.conversation-item:hover {
			background-color: var(--list-item-hover-bg);
		}
		
		.convo-avatar-container {
			position: relative;
			margin-right: 0.75rem;
		}
		
		.convo-avatar {
			width: 3rem;
			height: 3rem;
			border-radius: 0.3125rem;
			object-fit: cover;
			background-color: #ddd;
		}
		
		.convo-avatar-container .unread-badge {
			top: -0.3rem;
			right: -0.3rem;
			font-size: 0.65em;
		}
		
		.convo-details {
			flex-grow: 1;
			overflow: hidden;
		}
		
		.convo-top-line {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 0.2rem;
		}
		
		.convo-name {
			font-size: 1em;
			font-weight: 500;
			color: var(--list-text-primary);
			text-overflow: ellipsis;
			overflow: hidden;
			white-space: nowrap;
		}
		
		.convo-time {
			font-size: 0.75em;
			color: var(--list-text-time);
			flex-shrink: 0;
		}
		
		.convo-last-message {
			font-size: 0.85em;
			color: var(--list-text-message);
			text-overflow: ellipsis;
			overflow: hidden;
			white-space: nowrap;
		}
		
		.convo-last-message .fa-bell {
			margin-right: 4px;
		}
		
		
		.main-footer-nav {
			flex-shrink: 0;
			display: flex;
			justify-content: space-around;
			background-color: var(--input-area-bg);
			border-top: 1px solid var(--input-area-border);
			padding: 0.25rem 0;
		}
		
		.nav-item {
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			cursor: pointer;
			color: var(--text-color-tertiary);
			font-size: 0.7em;
			flex: 1;
			padding: 0.2rem 0;
		}
		
		.nav-item .nav-icon {
			font-size: 1.5em;
			margin-bottom: 0.1rem;
		}
		
		.nav-item.active {
			color: var(--wechat-green-icon);
		}
		
		#me-view {
			background-color: var(--view-bg-primary);
		}
		
		.me-body {
			flex-grow: 1;
			overflow-y: auto;
			padding-top: 4.5rem;
		}
		
		.me-profile-card {
			display: flex;
			align-items: center;
			gap: 1rem;
			background-color: var(--card-bg-primary);
			padding: 1.5rem 1rem;
			cursor: pointer;
		}
		
		.me-avatar {
			width: 4rem;
			height: 4rem;
			border-radius: 0.5rem;
			object-fit: cover;
		}
		
		.me-info {
			flex-grow: 1;
		}
		
		.me-name {
			font-size: 1.2em;
			font-weight: bold;
			color: var(--list-text-primary);
		}
		
		.me-id {
			font-size: 0.9em;
			color: var(--text-color-tertiary);
		}
		
		.me-list {
			margin-top: 1rem;
			background-color: var(--card-bg-primary);
		}
		
		.me-list-item {
			display: flex;
			align-items: center;
			gap: 1rem;
			padding: 0.8rem 1rem;
			cursor: pointer;
			border-bottom: 1px solid var(--moments-feed-divider);
		}
		
		.me-list-item:last-child {
			border-bottom: none;
		}
		
		.me-list-item .item-icon {
			font-size: 1.2em;
			color: var(--me-list-icon-color);
			width: 1.5em;
			text-align: center;
		}
		
		.me-list-item .item-label {
			flex-grow: 1;
			font-size: 1em;
			color: var(--list-text-primary);
		}
		
		.me-list-item .item-value {
			color: var(--text-color-tertiary);
		}
		
		.me-list-item .fas.fa-chevron-right {
			color: var(--me-list-chevron-color);
		}
		
		#contact-details-view {
			background-color: var(--view-bg-primary);
		}
		
		.contact-profile-card {
			display: flex;
			align-items: flex-start;
			gap: 1rem;
			background-color: var(--card-bg-primary);
			padding: 1.5rem 1rem;
			margin-bottom: 1rem;
		}
		
		.contact-avatar {
			width: 4rem;
			height: 4rem;
			border-radius: 0.5rem;
			object-fit: cover;
			cursor: pointer;
		}
		
		.contact-info .contact-name-large {
			font-size: 1.2em;
			font-weight: bold;
			color: var(--list-text-primary);
		}
		
		.contact-info .contact-id {
			font-size: 0.9em;
			color: var(--text-color-tertiary);
		}
		
		.contact-action-list .me-list-item {
			justify-content: center;
		}
		
		.contact-action-list .item-label {
			flex-grow: 0;
			text-align: center;
		}
		
		.contact-action-list .item-label.danger {
			color: var(--danger-text-color);
		}
		
		.context-menu-backdrop {
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: rgba(0, 0, 0, 0);
			z-index: 1000;
		}
		
		.context-menu {
			position: absolute;
			background: var(--card-bg-primary);
			border-radius: 5px;
			box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
			padding: 5px 0;
			z-index: 1001;
			min-width: 120px;
			color: var(--text-color-primary);
			border: 1px solid var(--divider-color-primary);
		}
		
		.context-menu-item {
			padding: 10px 15px;
			cursor: pointer;
			font-size: 0.9em;
		}
		
		.context-menu-item:hover {
			background-color: var(--list-item-hover-bg);
		}
		
		.context-menu-item:not(:last-child) {
			border-bottom: 1px solid var(--list-item-hover-bg);
		}
		
		#group-chat-modal,
		#group-owner-modal {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: var(--modal-backdrop-bg);
			z-index: 2000;
			display: none;
			justify-content: center;
			align-items: center;
		}
		
		.group-chat-modal-content {
			background: var(--modal-content-bg);
			width: 90%;
			max-width: 340px;
			border-radius: 0.75rem;
			display: flex;
			flex-direction: column;
			max-height: 80%;
		}
		
		.group-chat-modal-header {
			padding: 0.75rem 1rem;
			border-bottom: 1px solid var(--header-border-primary);
			display: flex;
			justify-content: space-between;
			align-items: center;
		}
		
		.group-chat-modal-header .title {
			font-weight: 600;
		}
		
		.group-chat-modal-header .cancel-btn {
			cursor: pointer;
		}
		
		.group-chat-contact-list {
			padding: 0.5rem 1rem;
			overflow-y: auto;
			flex-grow: 1;
		}
		
		.group-chat-contact-item {
			display: flex;
			align-items: center;
			gap: 0.75rem;
			padding: 0.5rem 0;
		}
		
		.group-chat-contact-item input[type="checkbox"],
		.group-owner-item input[type="radio"] {
			width: 1.2rem;
			height: 1.2rem;
			accent-color: var(--wechat-green-icon);
		}
		
		.group-chat-contact-item img,
		.group-owner-item img {
			width: 2.5rem;
			height: 2.5rem;
			border-radius: 0.25rem;
		}
		
		.group-owner-item {
			display: flex;
			align-items: center;
			gap: 0.75rem;
			padding: 0.5rem 0;
		}
		
		.group-chat-modal-footer {
			padding: 1rem;
			border-top: 1px solid var(--header-border-primary);
		}
		
		.group-chat-modal-footer input {
			width: 100%;
			padding: 0.5rem;
			border: 1px solid #ddd;
			border-radius: 0.25rem;
			margin-bottom: 1rem;
			box-sizing: border-box;
		}
		
		.group-chat-modal-footer button {
			width: 100%;
			padding: 0.6rem;
			border: none;
			background: var(--wechat-green-icon);
			color: var(--text-color-inverted);
			font-size: 1em;
			border-radius: 0.25rem;
			cursor: pointer;
		}
		
		#group-settings-view {
			background-color: var(--view-bg-primary);
		}
		
		.group-settings-body {
			flex-grow: 1;
			overflow-y: auto;
			padding: 1rem;
			box-sizing: border-box;
		}
		
		.group-member-grid {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(4rem, 1fr));
			gap: 1rem;
			padding: 1rem;
			background-color: var(--card-bg-primary);
			border-radius: 0.5rem;
		}
		
		.group-member-item {
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 0.5rem;
			font-size: 0.8em;
			color: var(--text-color-tertiary);
			cursor: pointer;
			text-align: center;
		}
		
		.group-member-item img {
			width: 3.5rem;
			height: 3.5rem;
			border-radius: 0.3rem;
			object-fit: cover;
		}
		
		.group-member-item .member-name-role {
			display: block;
			width: 100%;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}
		
		.group-member-item .member-role {
			font-size: 0.9em;
			color: #b2b2b2;
		}
		
		.add-member-btn {
			display: flex;
			justify-content: center;
			align-items: center;
			width: 3.5rem;
			height: 3.5rem;
			border: 1px dashed var(--panel-dot-color);
			border-radius: 0.3rem;
			cursor: pointer;
			font-size: 1.5rem;
			color: var(--panel-dot-color);
		}
		
		/* 把所有需要隐藏滚动条的元素选择器用逗号隔开，放在一起 */
		.wechat-body,
		.wechat-list-body,
		.moments-body,
		.settings-body,
		.panel-view,
		.app-screen,
		.file-content,
		.message-bubble,
		.voice-text-content,
		.image-desc-content,
		.event-description,
		.recall-content,
		#livestream-chat-scroll-area {
			-ms-overflow-style: none;
			/* IE and Edge */
			scrollbar-width: none;
			/* Firefox */
		}
		
		/* 针对 Webkit 浏览器 (Chrome, Safari) 的伪元素选择器也一样 */
		.wechat-body::-webkit-scrollbar,
		.wechat-list-body::-webkit-scrollbar,
		.moments-body::-webkit-scrollbar,
		.settings-body::-webkit-scrollbar,
		.panel-view::-webkit-scrollbar,
		.app-screen::-webkit-scrollbar,
		.file-content::-webkit-scrollbar,
		.message-bubble::-webkit-scrollbar,
		.voice-text-content::-webkit-scrollbar,
		.image-desc-content::-webkit-scrollbar,
		.event-description::-webkit-scrollbar,
		.recall-content::-webkit-scrollbar,
		#livestream-chat-scroll-area::-webkit-scrollbar {
			display: none;
		}
		
		/* 自定义弹窗样式 */
		#custom-dialog-box input[type="text"],
		#custom-dialog-box textarea {
			background-color: var(--input-field-bg);
			color: var(--text-color-primary);
			border: 1px solid var(--input-area-border);
			padding: 0.5rem;
			border-radius: 0.375rem;
			width: 100%;
			box-sizing: border-box;
			font-size: 0.9em;
		}
		
		#custom-dialog-box input[type="text"]:focus,
		#custom-dialog-box textarea:focus {
			outline: none;
			border-color: var(--wechat-green-icon);
		}
		
		#custom-dialog-modal #custom-dialog-box {
			background-color: var(--card-bg-primary);
			color: var(--text-color-secondary);
			padding: 1.5rem;
			border-radius: 1rem;
			box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
			width: 100%;
			max-width: 300px;
			text-align: center;
			border: 2px solid var(--wechat-green-icon);
			max-height: 80vh;
			display: flex;
			flex-direction: column;
			font-size: 0.9rem;
		}
		
		#custom-dialog-modal button {
			padding: 0.6rem 1rem;
			border: none;
			border-radius: 0.375rem;
			font-size: 0.9em;
			font-weight: 500;
			cursor: pointer;
			flex: 1;
			transition: transform 0.1s ease;
		}
		
		#custom-dialog-modal button:active {
			transform: scale(0.95);
		}
		
		#custom-dialog-modal button.primary {
			background-color: var(--wechat-green-icon);
			color: var(--text-color-inverted);
		}
		
		#custom-dialog-modal button.secondary {
			background-color: var(--wechat-green-icon);
			color: var(--text-color-inverted);
			border: none;
		}
		
		/* 1. 彻底移除特殊气泡的伪元素 (装饰层/小尖角) */
		.message-bubble.sticker-bubble::before,
		.message-bubble.sticker-bubble::after,
		.message-bubble.image-url-bubble::before,
		.message-bubble.image-url-bubble::after,
		.message-bubble.image-desc-bubble::before,
		.message-bubble.image-desc-bubble::after,
		.message-bubble.red-packet-bubble::before,
		.message-bubble.red-packet-bubble::after,
		.message-bubble.transfer-bubble::before,
		.message-bubble.transfer-bubble::after,
		.message-bubble.file-bubble::before,
		.message-bubble.file-bubble::after,
		.message-bubble.location-bubble::before,
		.message-bubble.location-bubble::after,
		.message-bubble.forward-bubble::before,
		.message-bubble.forward-bubble::after,
		.message-bubble.music-share-bubble::before,
		.message-bubble.music-share-bubble::after,
		.message-row .message-bubble.product-share-bubble::before,
		.message-row .message-bubble.product-share-bubble::after {
			content: none !important;
			display: none !important;
		}
		
		/* 2. 重置容器样式：让它们变透明，去掉工坊设置的边框和阴影 */
		.message-bubble.sticker-bubble,
		.message-bubble.image-url-bubble,
		.message-bubble.image-desc-bubble,
		.message-bubble.red-packet-bubble,
		.message-bubble.transfer-bubble,
		.message-bubble.file-bubble,
		.message-bubble.location-bubble,
		.message-bubble.forward-bubble,
		.message-row .message-bubble.product-share-bubble {
			background: transparent !important;
			background-image: none !important;
			border: none !important;
			box-shadow: none !important;
			padding: 0 !important;
		}
		
		.panel-view.delete-mode-active {
			display: flex;
			flex-direction: column;
			height: 100%;
		}
		
		.panel-view.delete-mode-active .features-grid {
			flex-grow: 1;
			overflow-y: auto;
			padding-bottom: 0;
		}
		
		.panel-view.delete-mode-active .delete-confirm-bar {
			flex-shrink: 0;
		}
		
		.icon-weibo {
			background: var(--app-icon-weibo-bg);
			color: var(--app-icon-text-color);
			box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
		}
		
		.weibo-header {
			flex-shrink: 0;
			display: grid;
			grid-template-columns: auto 1fr auto;
			align-items: center;
			padding: 0.5rem 0.75rem;
			background: var(--view-bg-secondary);
			border-bottom: 1px solid var(--moments-feed-divider);
			padding-top: 2.8125rem;
			position: relative;
			z-index: 10;
			gap: 0.5rem;
		}
		
		.weibo-header .back-btn,
		.weibo-header .search-icon,
		.weibo-header .share-icon,
		.weibo-header .fa-plus {
			font-size: 1.2em;
			color: var(--footer-icon-color);
			cursor: pointer;
			padding: 0 0.25rem;
		}
		
		.weibo-search-bar-placeholder {
			grid-column: 2 / 3;
			display: flex;
			align-items: center;
			justify-content: center;
			background-color: var(--weibo-search-placeholder-bg);
			border-radius: 1rem;
			padding: 0.4rem 0.8rem;
			color: var(--weibo-search-placeholder-text);
			font-size: 0.85em;
			cursor: text;
		}
		
		.weibo-search-bar-placeholder i {
			margin-right: 0.5rem;
		}
		
		.weibo-body {
			flex-grow: 1;
			overflow-y: auto;
			background-color: var(--weibo-body-bg);
			padding: 1rem;
		}
		
		.weibo-zone-container {}
		
		.weibo-zone-card {
			height: 3rem;
			border-radius: 1rem;
			padding: 1rem 1.5rem;
			color: var(--weibo-card-text);
			position: relative;
			overflow: hidden;
			cursor: pointer;
			transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
			box-shadow: 0 4px 15px var(--weibo-post-card-shadow);
			display: flex;
			flex-direction: column;
			justify-content: center;
			margin-bottom: 0.8rem;
		}
		
		.weibo-zone-card:hover {
			transform: scale(1.03);
			box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
		}
		
		.zone-text-content {
			position: relative;
			z-index: 2;
		}
		
		.zone-title {
			margin: 0;
			font-size: 1.2em;
			font-weight: 700;
			text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.15);
		}
		
		.zone-subtitle {
			margin: 0.2rem 0 0 0;
			font-size: 0.8em;
			opacity: 0.9;
		}
		
		.zone-news {
			background-color: var(--weibo-news-bg);
		}
		
		.zone-life {
			background-color: var(--weibo-life-bg);
		}
		
		.zone-romance {
			background-color: var(--weibo-romance-bg);
		}
		
		.zone-gossip {
			background-color: var(--weibo-gossip-bg);
		}
		
		.zone-fanfic {
			background-color: var(--weibo-fanfic-bg);
		}
		
		.zone-adult {
			background-color: var(--weibo-adult-bg);
		}
		
		.weibo-detail-title {
			font-size: 1em;
			font-weight: 600;
			color: var(--list-text-primary);
			margin: 0;
			grid-column: 2 / 3;
			text-align: center;
		}
		
		.weibo-detail-body {
			padding: 0;
			flex-grow: 1;
			overflow-y: auto;
			background-color: var(--weibo-body-bg);
		}
		
		.weibo-post-full {
			background-color: var(--weibo-full-content-bg);
			padding: 1rem 1.25rem;
			border-bottom: 8px solid var(--weibo-body-bg);
		}
		
		.weibo-full-title {
			font-size: 1.2em;
			font-weight: 700;
			margin: 0 0 0.5rem 0;
		}
		
		.weibo-full-meta {
			font-size: 0.8em;
			color: var(--weibo-search-placeholder-text);
			margin-bottom: 1rem;
			display: flex;
			justify-content: space-between;
			align-items: center;
		}
		
		.weibo-delete-post-btn {
			color: var(--button-bg-danger);
			cursor: pointer;
			font-size: 0.9em;
			font-weight: 500;
		}
		
		.weibo-delete-post-btn:hover {
			text-decoration: underline;
		}
		
		.weibo-full-content p {
			font-size: 0.9em;
			line-height: 1.7;
			color: var(--weibo-full-content-text);
			margin: 0 0 1rem 0;
		}
		
		.weibo-post-image-container {
			position: relative;
			width: 100%;
			margin-top: 0.75rem;
		}
		
		.weibo-post-image-container img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			position: absolute;
			top: 0;
			left: 0;
			z-index: 1;
			border-radius: 0.5rem;
		}
		
		.weibo-image-description {
			position: relative;
			z-index: 2;
			width: 100%;
			height: 10rem;
			box-sizing: border-box;
			padding: 1rem;
			background-color: var(--weibo-body-bg);
			color: var(--weibo-full-content-text);
			font-size: 0.9em;
			line-height: 1.6;
			text-align: center;
			overflow-y: auto;
			border-radius: 0.5rem;
			border: 1px solid var(--divider-color-primary);
			display: flex;
			align-items: flex-start;
			margin-left: auto;
			margin-right: auto;
		}
		
		
		.weibo-comments-section {
			background-color: var(--weibo-full-content-bg);
			padding: 1rem 1.25rem;
		}
		
		.weibo-comments-header {
			font-size: 0.9em;
			font-weight: 600;
			color: var(--weibo-full-content-text);
			margin: 0 0 1rem 0;
			padding-bottom: 0.5rem;
			border-bottom: 1px solid var(--moments-feed-divider);
		}
		
		.weibo-comment {
			display: flex;
			gap: 0.75rem;
			margin-bottom: 1.25rem;
		}
		
		.weibo-comment-avatar {
			width: 2.25rem;
			height: 2.25rem;
			border-radius: 50%;
			flex-shrink: 0;
			object-fit: cover;
		}
		
		.weibo-comment-avatar.is-passerby {
			background-color: #e0e0e0;
			border: none;
		}
		
		.weibo-comment-main {
			flex-grow: 1;
		}
		
		.weibo-comment-author {
			font-size: 0.9em;
			font-weight: 600;
			color: var(--weibo-comment-author-color);
			margin-bottom: 0.2rem;
		}
		
		.weibo-comment-text {
			font-size: 0.9em;
			line-height: 1.6;
			color: var(--weibo-comment-text-color);
			word-break: break-word;
		}
		
		.weibo-comment-meta {
			display: flex;
			justify-content: space-between;
			align-items: center;
			font-size: 0.75em;
			color: var(--weibo-search-placeholder-text);
			margin-top: 0.5rem;
		}
		
		.weibo-comment-actions {
			cursor: pointer;
			color: var(--text-color-tertiary);
			transition: color 0.2s ease;
		}
		
		.weibo-comment-actions:hover {
			color: var(--weibo-comment-author-color);
		}
		
		.weibo-comment-replies {
			margin-top: 0.75rem;
		}
		
		.weibo-comment>.weibo-comment-main>.weibo-comment-replies {
			background-color: var(--weibo-comment-reply-bg);
			border-radius: 0.5rem;
			padding: 0.75rem;
			border-left: 3px solid var(--weibo-comment-reply-border);
		}
		
		.weibo-reply {
			font-size: 0.9em;
			color: #444;
			line-height: 1.6;
		}
		
		.weibo-comment-replies.visible {}
		
		.weibo-reply+.weibo-reply {
			padding-top: 0.8rem;
			border-top: 1px solid var(--weibo-comment-reply-divider);
		}
		
		.weibo-reply .weibo-comment-author {
			display: none;
		}
		
		.weibo-reply-author {
			font-weight: 600;
			color: var(--weibo-comment-author-color);
			cursor: pointer;
		}
		
		.weibo-comment-input-area {
			flex-shrink: 0;
			display: flex;
			align-items: center;
			gap: 0.5rem;
			padding: 0.5rem 0.75rem;
			background: var(--weibo-comment-input-area-bg);
			border-top: 1px solid var(--weibo-comment-input-area-border);
		}
		
		.weibo-comment-input {
			flex-grow: 1;
			border: none;
			background: var(--weibo-comment-input-bg);
			padding: 0.6rem 0.8rem;
			border-radius: 1rem;
			font-size: 0.9em;
			min-width: 0;
		}
		
		.weibo-comment-input:focus {
			outline: none;
		}
		
		.weibo-send-comment-btn {
			border: none;
			background: var(--weibo-send-comment-btn-bg);
			color: var(--text-color-inverted);
			font-weight: bold;
			border-radius: 1rem;
			padding: 0.6rem 1rem;
			font-size: 0.9em;
			cursor: pointer;
			white-space: nowrap;
			flex-shrink: 0;
		}
		
		
		.weibo-full-title,
		.weibo-detail-title,
		.weibo-post-card .weibo-post-title {
			padding: 0.2rem 0.6rem;
			border-radius: 0.3rem;
			transition: background-color 0.3s ease;
			display: inline-block;
			width: auto;
			background-color: var(--title-bg-color, transparent);
		}
		
		.title-bg-news,
		.title-bg-life,
		.title-bg-romance,
		.title-bg-gossip,
		.title-bg-fanfic,
		.title-bg-adult {
			color: var(--text-color-inverted) !important;
			text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
		}
		
		.title-bg-news {
			background-color: var(--weibo-news-bg);
		}
		
		.title-bg-life {
			background-color: var(--weibo-life-bg);
		}
		
		.title-bg-romance {
			background-color: var(--weibo-romance-bg);
		}
		
		.title-bg-gossip {
			background-color: var(--weibo-gossip-bg);
		}
		
		.title-bg-fanfic {
			background-color: var(--weibo-fanfic-bg);
		}
		
		.title-bg-adult {
			background-color: var(--weibo-adult-bg);
		}
		
		.weibo-full-title[style*="--title-bg-color"],
		.weibo-detail-title[style*="--title-bg-color"],
		.weibo-post-card .weibo-post-title[style*="--title-bg-color"] {
			color: var(--text-color-inverted) !important;
			text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
			background-color: var(--title-bg-color);
		}
		
		.weibo-body,
		.weibo-image-description,
		.weibo-comments-section,
		.weibo-comment-replies {
			-ms-overflow-style: none;
			scrollbar-width: none;
		}
		
		.weibo-body::-webkit-scrollbar,
		.weibo-image-description::-webkit-scrollbar,
		.weibo-comments-section::-webkit-scrollbar,
		.weibo-comment-replies::-webkit-scrollbar {
			display: none;
		}
		
		
		.weibo-comment-meta .weibo-comment-actions-group {
			display: flex;
			align-items: center;
			gap: 0.75rem;
			
		}
		
		.zone-status-indicator {
			position: absolute;
			top: 0.8rem;
			right: 1.2rem;
			font-size: 1.2em;
			color: rgba(255, 255, 255, 0.85);
			text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
			opacity: 0;
			transform: scale(0.8) rotate(-15deg);
			transition: opacity 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
			pointer-events: none;
		}
		
		.zone-status-indicator.visible {
			opacity: 1;
			transform: scale(1) rotate(0deg);
		}
		
		#weibo-post-author-modal {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: var(--modal-backdrop-bg);
			z-index: 2000;
			display: none;
			justify-content: center;
			align-items: center;
		}
		
		.weibo-post-modal-content {
			background: #e3e1d9;
			width: 90%;
			max-width: 340px;
			border-radius: 0.75rem;
			display: flex;
			flex-direction: column;
			max-height: 80%;
			box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
			border: 1px solid #d1bdae;
		}
		
		.weibo-post-modal-header {
			padding: 0.75rem 1rem;
			border-bottom: 1px solid #d1bdae;
			display: flex;
			justify-content: space-between;
			align-items: center;
			flex-shrink: 0;
		}
		
		.weibo-post-modal-header .title {
			font-weight: 600;
			color: var(--deep-chocolate);
		}
		
		.weibo-post-modal-header .cancel-btn,
		.weibo-post-modal-header .confirm-btn {
			cursor: pointer;
			color: var(--soft-chocolate);
			font-weight: 500;
		}
		
		.weibo-post-modal-header .confirm-btn {
			color: var(--text-highlight-color);
		}
		
		.weibo-post-contact-list {
			padding: 0.5rem 1rem;
			overflow-y: auto;
			flex-grow: 1;
		}
		
		.weibo-post-contact-item {
			display: flex;
			align-items: center;
			gap: 0.75rem;
			padding: 0.6rem 0;
			border-bottom: 1px solid rgba(128, 116, 111, 0.1);
		}
		
		.weibo-post-contact-item:last-child {
			border-bottom: none;
		}
		
		/* 自定义复选框样式 */
		.weibo-post-contact-item input[type="checkbox"] {
			-webkit-appearance: none;
			appearance: none;
			background-color: var(--card-bg-primary);
			margin: 0;
			font: inherit;
			color: var(--soft-chocolate);
			width: 1.2em;
			height: 1.2em;
			border: 0.15em solid var(--soft-chocolate);
			border-radius: 0.25em;
			transform: translateY(-0.075em);
			display: grid;
			place-content: center;
			cursor: pointer;
		}
		
		.weibo-post-contact-item input[type="checkbox"]::before {
			content: "";
			width: 0.65em;
			height: 0.65em;
			transform: scale(0);
			transition: 120ms transform ease-in-out;
			box-shadow: inset 1em 1em var(--text-highlight-color);
			transform-origin: bottom left;
			clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);
		}
		
		.weibo-post-contact-item input[type="checkbox"]:checked::before {
			transform: scale(1);
		}
		
		.weibo-post-contact-item img {
			width: 2.5rem;
			height: 2.5rem;
			border-radius: 0.25rem;
		}
		
		.weibo-post-contact-item label {
			flex-grow: 1;
			color: var(--deep-chocolate);
			cursor: pointer;
		}
		
		/* vvvvvvvv 日记App专属CSS样式V10 vvvvvvvv */
		@font-face {
			font-family: 'DiaryFont';
			src: url('https://files.catbox.moe/fhd71h.ttf') format('truetype');
			font-weight: normal;
			font-style: normal;
		}
		
		/* --- 1. App图标样式 (保持不变) --- */
		.icon-diary {
			background-color: var(--app-icon-diary-bg);
			color: var(--app-icon-text-color);
			box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
		}
		
		/* --- 2. App视图整体布局 (已适配) --- */
		#diary-view {
			background-color: var(--view-bg-primary);
			display: flex;
			flex-direction: column;
		}
		
		.diary-body {
			flex-grow: 1;
			display: flex;
			justify-content: center;
			align-items: center;
			padding: 1rem;
			overflow: hidden;
			box-sizing: border-box;
		}
		
		/* --- 3. 日记本封面 (核心修复) --- */
		.diary-cover {
			width: 100%;
			max-width: 320px;
			height: 100%;
			background-color: var(--card-bg-primary);
			border-radius: 12px;
			border: 1px solid var(--divider-color-primary);
			box-shadow: 0 4px 15px var(--card-shadow-primary);
			position: relative;
			display: flex;
			flex-direction: column;
			align-items: center;
			padding: 2rem 1.5rem;
			box-sizing: border-box;
			cursor: pointer;
			transition: transform 0.2s ease-out;
			background-image: var(--wallpaper-diary-cover, url('https://files.catbox.moe/czejg7.jpg'));
			background-size: cover;
			background-position: center;
			background-repeat: no-repeat;
		}
		
		.diary-cover:hover {
			transform: translateY(-5px);
		}
		
		.diary-bookmarks-container {
			position: absolute;
			top: 50%;
			right: 0;
			transform: translateY(-50%);
			display: flex;
			flex-direction: column;
			align-items: flex-end;
			gap: 0.5rem;
			z-index: 2;
			width: auto;
		}
		
		.diary-bookmark-item {
			background-color: var(--list-item-pinned-bg);
			color: var(--text-color-secondary);
			padding: 0.5rem 1rem;
			border-radius: 10px 0 0 10px;
			box-shadow: -2px 2px 8px var(--card-shadow-primary);
			font-family: 'DiaryFont', serif;
			font-size: 0.8em;
			cursor: pointer;
			white-space: nowrap;
			transition: all 0.2s ease;
			max-width: 100px;
			overflow: hidden;
			text-overflow: ellipsis;
		}
		
		.diary-bookmark-item:hover {
			transform: translateX(-8px);
			background-color: var(--list-item-hover-bg);
		}
		
		/* --- 4. 封面上的标题、引言和贴纸 (核心修复) --- */
		.diary-title {
			font-family: 'DiaryFont', 'Arial Rounded MT Bold', sans-serif;
			font-weight: 900;
			font-size: 1.8em;
			color: #FFFFFF;
			margin-top: 2rem;
			margin-bottom: auto;
			z-index: 1;
			position: relative;
			text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.4);
			letter-spacing: 2px;
		}
		
		.diary-title::after {
			content: '☘';
			position: absolute;
			top: 50%;
			left: 100%;
			transform: translateY(-50%);
			margin-left: 0.5em;
			font-size: 0.8em;
			color: #FFFFFF;
			text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.4);
		}
		
		.diary-quote-container {
			position: absolute;
			top: 50%;
			left: 1.5rem;
			right: 40%;
			transform: translateY(-50%);
			text-align: center;
			color: var(--text-color-secondary);
			z-index: 1;
		}
		
		.diary-quote-container p {
			font-family: 'DiaryFont', serif !important;
			margin: 0.5em 0;
			font-size: 0.9em;
			line-height: 1.6;
			opacity: 0.8;
		}
		
		.diary-sticker {
			width: 85%;
			background-color: var(--list-item-pinned-bg);
			padding: 1rem 1.5rem;
			border-radius: 4px;
			box-shadow: 0 2px 5px var(--card-shadow-primary);
			border-left: 1px solid var(--divider-color-secondary);
			border-right: 1px solid var(--divider-color-secondary);
			margin-bottom: 2rem;
			margin-top: auto;
			display: flex;
			justify-content: space-between;
			align-items: center;
			font-size: 1.1em;
			color: var(--text-color-primary);
			
			z-index: 1;
			position: relative;
		}
		
		.sticker-label,
		#diary-select-owner-btn,
		#diary-owner-name {
			font-family: 'DiaryFont', serif !important;
			font-weight: 600;
		}
		
		.sticker-placeholder {
			font-family: 'DiaryFont', serif !important;
			color: var(--text-color-secondary);
			border-bottom: 1px solid var(--text-color-secondary);
			padding-bottom: 2px;
			display: inline-block;
			width: 5rem;
		}
		
		#diary-select-owner-btn {
			border: none;
			background-color: var(--wechat-green-icon);
			color: var(--text-color-inverted);
			padding: 0.4rem 0.8rem;
			border-radius: 6px;
			cursor: pointer;
			font-weight: 500;
			transition: background-color 0.2s ease;
		}
		
		#diary-select-owner-btn:hover {
			background-color: var(--light-mint);
		}
		
		/* --- 5. App视图 & 背景容器 --- */
		#diary-entry-view {
			background-color: var(--view-bg-primary);
			
			background-size: cover;
			background-position: center;
			background-repeat: no-repeat;
		}
		
		/* --- 7. 内容区域 --- */
		.diary-entry-body {
			flex-grow: 1;
			overflow-y: auto;
			padding: 1rem 1.25rem;
			position: relative;
			background-color: transparent;
			z-index: 3;
		}
		
		/* --- 8. 浮动按钮 --- */
		#diary-entry-view .diary-entry-body {
			padding-bottom: 5rem;
		}
		
		/* 3. 将悬浮按钮固定在日记页面底部 */
		.diary-floating-actions {
			position: absolute;
			bottom: 2rem;
			left: 0;
			right: 0;
			padding: 0 1.5rem;
			display: flex !important;
			flex-direction: row !important;
			justify-content: space-between !important;
			align-items: center;
			z-index: 100;
			pointer-events: none;
		}
		
		.floating-actions-left,
		.floating-actions-right {
			display: flex !important;
			flex-direction: row !important;
			align-items: center;
			gap: 1rem;
			pointer-events: auto;
		}
		
		.diary-float-btn {
			width: 2.75rem;
			height: 2.75rem;
			display: flex;
			align-items: center;
			justify-content: center;
			background-color: var(--diary-float-btn-bg);
			backdrop-filter: blur(8px);
			-webkit-backdrop-filter: blur(8px);
			color: var(--text-color-primary);
			border-radius: 50%;
			border: 1px solid var(--divider-color-primary);
			box-shadow: 0 4px 12px var(--card-shadow-primary);
			font-size: 1.1em;
			cursor: pointer;
			transition: all 0.2s ease-out;
		}
		
		.diary-float-btn:hover {
			transform: translateY(-2px) scale(1.05);
			box-shadow: 0 6px 16px var(--diary-float-btn-hover-shadow);
		}
		
		.diary-float-btn.disabled {
			opacity: 0.4;
			cursor: not-allowed;
			background-color: var(--diary-float-btn-disabled-bg);
			transform: scale(1);
			box-shadow: 0 2px 5px var(--diary-float-btn-shadow);
		}
		
		#diary-entry-view.icons-hidden .diary-floating-actions {
			opacity: 0;
			transform: translateY(100%);
			pointer-events: none;
		}
		
		/* --- 9. 强制应用字体 --- */
		body .phone-screen #diary-list-view .diary-item-title,
		body .phone-screen #diary-list-view .diary-item-date,
		body .phone-screen #diary-entry-view .diary-entry-title-h1,
		body .phone-screen #diary-entry-view .diary-entry-meta-p,
		body .phone-screen #diary-entry-view .diary-entry-content-div,
		body .phone-screen #diary-entry-view .diary-entry-content-div p {
			font-family: 'DiaryFont' !important;
		}
		
		#diary-list-view .diary-item-title {
			font-size: 1.1em;
			font-weight: 600;
			color: var(--text-color-primary);
			margin: 0 0 0.25rem 0;
			position: relative;
			z-index: 2;
		}
		
		#diary-list-view .diary-item-date {
			font-size: 0.8em;
			color: var(--text-color-secondary);
			position: relative;
			z-index: 2;
		}
		
		/* --- 10. 日记阅读页 --- */
		.diary-entry-body {
			padding-bottom: 5rem !important;
		}
		
		#diary-entry-view .diary-entry-title-h1 {
			font-size: 1.6em;
			font-weight: 500;
			color: var(--text-color-primary);
			margin: 0 0 0.5rem 0;
			padding-bottom: 0.75rem;
			border-bottom: 1px dashed var(--divider-color-primary);
		}
		
		#diary-entry-view .diary-entry-meta-p {
			font-size: 0.85em;
			color: var(--text-color-secondary);
			margin-bottom: 0.75rem;
		}
		
		#diary-entry-view .diary-entry-content-div {
			font-size: 1.0em;
			line-height: 2.1;
			color: var(--text-color-primary);
			white-space: pre-wrap;
			--line-height-px: calc(1.0em * 2.1);
			background-image: repeating-linear-gradient(to bottom, transparent 0, transparent calc(var(--line-height-px) - 1px), var(--divider-color-secondary) calc(var(--line-height-px) - 1px), var(--divider-color-secondary) var(--line-height-px));
			background-size: 100% var(--line-height-px);
			padding-top: 5px;
		}
		
		#diary-entry-view .diary-entry-content-div p {
			margin: 0;
			padding: 0;
			text-indent: 2em;
		}
		
		.diary-header-actions {
			display: flex;
			align-items: center;
			gap: 1rem;
			font-size: 1.2em;
		}
		
		.diary-header-actions i {
			cursor: pointer;
			color: var(--text-color-secondary);
			transition: color 0.2s ease;
		}
		
		.diary-header-actions i:hover {
			color: var(--text-color-primary);
		}
		
		/* --- 11. 日记主人选择弹窗 --- */
		#diary-owner-modal {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: rgba(0, 0, 0, 0.45);
			z-index: 2100;
			display: none;
			justify-content: center;
			align-items: center;
		}
		
		
		.diary-owner-modal-content {
			background: var(--card-bg-primary);
			width: 85%;
			max-width: 320px;
			border-radius: 0.75rem;
			display: flex;
			flex-direction: column;
			max-height: 70%;
			box-shadow: 0 5px 25px rgba(0, 0, 0, 0.15);
		}
		
		.diary-owner-modal-header {
			padding: 0.75rem 1rem;
			border-bottom: 1px solid var(--header-border-primary);
			display: flex;
			justify-content: space-between;
			align-items: center;
			flex-shrink: 0;
		}
		
		.diary-owner-modal-header .title {
			font-weight: 600;
			color: var(--text-color-secondary);
		}
		
		.diary-owner-modal-header .close-btn {
			cursor: pointer;
			font-size: 1.5em;
			color: var(--list-text-message);
			line-height: 1;
		}
		
		.diary-owner-list-container {
			padding: 0.5rem 0;
			overflow-y: auto;
			flex-grow: 1;
		}
		
		.diary-owner-list-item {
			display: flex;
			align-items: center;
			gap: 0.75rem;
			padding: 0.6rem 1rem;
			cursor: pointer;
			transition: background-color 0.2s ease;
		}
		
		.diary-owner-list-item:hover {
			background-color: var(--list-item-hover-bg);
		}
		
		.diary-owner-list-item img {
			width: 2.5rem;
			height: 2.5rem;
			border-radius: 0.3rem;
			object-fit: cover;
		}
		
		.diary-owner-list-item span {
			font-size: 1em;
			color: var(--list-text-primary);
		}
		
		button,
		input,
		textarea,
		select {
			font-family: inherit;
		}
		
		#contacts-view .wechat-list-header {
			justify-content: center;
		}
		
		#weibo-anon-toggle-btn {
			font-size: 1.2em;
			color: var(--text-color-tertiary);
			cursor: pointer;
			padding: 0 0.5rem;
			transition: color 0.2s ease, transform 0.2s ease;
			flex-shrink: 0;
		}
		
		#weibo-anon-toggle-btn:hover {
			transform: scale(1.1);
		}
		
		#weibo-anon-toggle-btn.active {
			color: var(--weibo-send-comment-btn-bg);
			
		}
		
		.weibo-comment,
		.weibo-reply {
			position: relative;
		}
		
		.unread-indicator {
			position: absolute;
			top: -4px;
			right: -4px;
			width: 8px;
			height: 8px;
			background-color: var(--unread-red);
			border-radius: 50%;
			border: 1px solid var(--text-color-inverted);
			box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
			z-index: 10;
		}
		
		.app-screen {
			display: flex;
			flex-direction: column;
			padding: 3rem 0.75rem 0.75rem 0.75rem;
			gap: 1rem;
			overflow-y: auto;
			flex-grow: 1;
		}
		
		.top-widget-area {
			flex-shrink: 0;
			background-color: rgba(255, 255, 255, 0.25);
			backdrop-filter: blur(5px);
			-webkit-backdrop-filter: blur(5px);
			border: 1px solid rgba(255, 255, 255, 0.3);
			box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
			border-radius: 1.25rem;
			padding: 0.75rem;
			display: flex;
			flex-direction: column;
			box-sizing: border-box;
		}
		
		.top-image-container {
			display: flex;
			gap: 0.75rem;
			height: 7rem;
			width: 100%;
		}
		
		.decorative-image {
			flex: 1;
			border-radius: 0.75rem;
			background-size: cover;
			background-position: center;
			background-repeat: no-repeat;
			overflow: hidden;
			height: 100%;
			background-color: rgba(255, 255, 255, 0.2);
		}
		
		#decorative-image-1 {
			background-image: var(--hub-decorative-image-1-url);
		}
		
		#decorative-image-2 {
			background-image: var(--hub-decorative-image-2-url);
		}
		
		.black-clock-widget {
			flex-shrink: 0;
			margin-top: 0rem;
			width: 100%;
			height: 4rem;
			background-color: var(--hub-clock-bg);
			color: var(--hub-clock-text-primary);
			box-shadow: var(--hub-clock-shadow);
			backdrop-filter: blur(5px);
			-webkit-backdrop-filter: blur(5px);
			border: 1px solid rgba(255, 255, 255, 0.3);
			border-radius: 3rem;
			display: flex;
			align-items: center;
			padding: 0 1rem;
			box-sizing: border-box;
			position: relative;
			gap: 1rem;
			
		}
		
		
		.widget-circle-icon {
			width: 2.6rem;
			height: 2.6rem;
			border-radius: 50%;
			background-color: #e0e0e0;
			background-image: var(--hub-music-bar-bg-image);
			background-size: cover;
			background-position: center;
			flex-shrink: 0;
			box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.5);
		}
		
		
		.widget-text-info {
			flex: 1;
			display: flex;
			flex-direction: column;
			justify-content: center;
			gap: 0.3rem;
			min-width: 0;
			text-align: center;
		}
		
		.widget-custom-text {
			font-size: 0.75em;
			font-weight: 500;
			color: var(--hub-clock-text-primary);
			letter-spacing: 0.5px;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			cursor: pointer;
			transition: opacity 0.2s;
		}
		
		.widget-custom-text:hover {
			opacity: 0.8;
		}
		
		.widget-date-text {
			font-size: 0.7em;
			color: var(--hub-clock-text-secondary);
			font-family: inherit;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}
		
		#hub-big-clock {
			font-size: 1.8rem;
			font-weight: 500;
			line-height: 1;
			font-family: inherit;
			color: var(--hub-clock-text-primary);
			flex-shrink: 0;
			text-align: right;
			letter-spacing: 0;
		}
		
		.middle-app-area {
			display: flex;
			gap: 1rem;
			align-items: stretch;
		}
		
		#main-app-grid {
			flex-basis: 50%;
			display: grid;
			grid-template-columns: repeat(2, 1fr);
			grid-template-rows: repeat(2, auto);
			gap: 0.5rem;
			padding: 0;
		}
		
		#side-widget-area {
			flex-basis: 50%;
			display: flex;
		}
		
		:root {
			--music-app-ring-bg: rgba(255, 255, 255, 0.15);
			--music-app-ring-border-color: rgba(255, 255, 255, 0.3);
		}
		
		#side-widget-area .app-icon {
			display: flex;
			flex-direction: column;
			flex-grow: 1;
			cursor: pointer;
		}
		
		.music-app-container {
			flex-grow: 1;
			display: flex;
			align-items: center;
			justify-content: center;
			width: 100%;
			margin-bottom: 0.4375rem;
			transition: transform 0.2s ease;
		}
		
		.app-icon:hover .music-app-container {
			transform: scale(1.03);
		}
		
		.avatar-ring-outer {
			position: relative;
			width: 100%;
			padding-bottom: 100%;
			height: 0;
			background-color: var(--music-app-ring-bg);
			background-image: radial-gradient(circle at 70% 30%, rgba(255, 255, 255, 0.25), rgba(255, 255, 255, 0) 50%);
			background-size: cover;
			background-position: center;
			border-radius: 50%;
			box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
		}
		
		.avatar-ring-inner {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			width: 80%;
			height: 80%;
			background-color: #e0e0e0;
			background-image: var(--hub-album-art-bg-image);
			background-size: cover;
			background-position: center;
			border-radius: 50%;
			border: 2px solid var(--music-app-ring-border-color);
			box-sizing: border-box;
		}
		
		.bottom-app-dock {
			flex-shrink: 0;
			padding: 0.75rem 0.35rem;
			margin-top: auto;
			border-radius: 1.25rem;
			background-color: rgba(255, 255, 255, 0.25);
			backdrop-filter: blur(5px);
			-webkit-backdrop-filter: blur(5px);
			border: 1px solid rgba(255, 255, 255, 0.3);
			box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
			display: flex;
			justify-content: space-around;
			align-items: center;
		}
		
		.icon-font-studio {
			background-color: var(--app-icon-font-bg);
			color: var(--app-icon-text-color);
			box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
		}
		
		.icon-bubble-workshop {
			background-color: var(--app-icon-workshop-bg);
			color: var(--app-icon-text-color);
			box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
		}
		
		.icon-global-studio {
			background-color: var(--app-icon-studio-bg);
			color: var(--app-icon-text-color);
			box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
		}
		
		
		#global-design-studio-view,
		#font-studio-view {
			background-color: var(--view-bg-primary);
		}
		
		.studio-body {
			flex-grow: 1;
			overflow-y: auto;
			padding: 1rem;
		}
		
		.studio-footer {
			flex-shrink: 0;
			padding: 0.75rem 1rem;
			background-color: var(--header-bg-primary);
			border-top: 1px solid var(--header-border-primary);
			display: flex;
			justify-content: flex-end;
			gap: 0.75rem;
		}
		
		.studio-btn {
			padding: 0.6rem 1.2rem;
			border: none;
			border-radius: 0.5rem;
			font-size: 0.9em;
			font-weight: 500;
			cursor: pointer;
			transition: opacity 0.2s ease;
		}
		
		.studio-btn:hover {
			opacity: 0.85;
		}
		
		.studio-btn.primary {
			background-color: var(--wechat-green-icon);
			color: var(--text-color-inverted);
		}
		
		.studio-btn.secondary {
			background-color: var(--card-bg-primary);
			color: var(--text-color-secondary);
			border: 1px solid var(--divider-color-primary);
			
		}
		
		#font-css-input {
			background-color: var(--card-bg-primary);
			color: var(--text-color-primary);
			border-color: var(--divider-color-primary);
		}
		
		#bubble-workshop-body .studio-control-group h4 {
			color: var(--text-color-tertiary);
		}
		
		#bubble-workshop-body .studio-control-row .label {
			color: var(--text-color-secondary);
		}
		
		#bubble-workshop-body .studio-control-row label[for] {
			color: var(--text-color-secondary);
		}
		
		.studio-color-group {
			margin-bottom: 1.5rem;
		}
		
		.studio-color-group h4 {
			margin: 0 0 0.25rem 0;
			font-size: 0.9em;
			color: var(--text-color-tertiary);
			border-bottom: 1px solid var(--header-border-primary);
			padding-bottom: 0.5rem;
		}
		
		.studio-color-item {
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 0.75rem 0.25rem;
			border-bottom: 1px solid var(--list-item-divider-color, #E5E5E5);
		}
		
		.studio-color-group .studio-color-item:last-child {
			border-bottom: none;
		}
		
		.studio-color-item .label {
			font-size: 0.9em;
			color: var(--text-color-tertiary);
		}
		
		.studio-color-controls {
			display: flex;
			align-items: center;
			gap: 0.5rem;
		}
		
		.studio-color-item .color-input-wrapper {
			position: relative;
			width: 2rem;
			height: 2rem;
			flex-shrink: 0;
		}
		
		.studio-color-item input[type="color"] {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			cursor: pointer;
			opacity: 0;
			z-index: 10;
		}
		
		.studio-color-item .color-preview {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			border-radius: 0.375rem;
			border: 1px solid var(--header-border-primary);
			pointer-events: none;
		}
		
		.studio-color-item .hex-input {
			width: 5rem;
			padding: 0.4rem;
			border: 1px solid var(--header-border-primary);
			border-radius: 0.375rem;
			background-color: var(--card-bg-primary);
			color: var(--text-color-secondary);
			font-family: monospace;
			font-size: 0.85em;
			text-align: center;
		}
		
		.studio-color-item .hex-input:focus {
			outline: 1px solid var(--link-color);
		}
		
		#bubble-target-selector label,
		#bubble-target-selector input,
		#bubble-sync-toggle {
			vertical-align: middle;
		}
		
		#bubble-target-selector input[type="radio"],
		#bubble-sync-toggle {
			width: 1em;
			height: 1em;
			margin-top: -0.1em;
			
		}
		
		.studio-control-group {
			padding: 1rem;
			background: var(--card-bg-primary, #fff);
			border-radius: 0.5rem;
			margin-bottom: 1rem;
		}
		
		.studio-control-group h4 {
			margin: 0 0 0.75rem 0;
			font-size: 0.9em;
			color: var(--text-color-tertiary);
			border-bottom: 1px solid var(--header-border-primary);
			padding-bottom: 0.5rem;
		}
		
		.studio-control-row {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 0.6rem 0;
			font-size: 0.9em;
			color: var(--text-color-secondary);
		}
		
		.studio-control-row .label {
			font-weight: 500;
			color: var(--text-color-secondary);
		}
		
		.studio-control-row .range-value {
			color: var(--text-color-secondary);
		}
		
		.studio-control-row .control-wrapper {
			display: flex;
			align-items: center;
			gap: 0.5rem;
		}
		
		.studio-control-row input[type="text"],
		.studio-control-row select {
			padding: 0.4rem;
			border: 1px solid var(--header-border-primary);
			border-radius: 0.375rem;
			background-color: var(--card-bg-primary);
			color: var(--text-color-primary);
			width: 8rem;
			box-sizing: border-box;
		}
		
		.studio-control-row .hex-input {
			width: 5rem;
			font-family: monospace;
			text-align: center;
		}
		
		.studio-control-row .color-input-wrapper {
			position: relative;
			width: 2rem;
			height: 2rem;
			flex-shrink: 0;
		}
		
		.studio-control-row input[type="color"] {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			cursor: pointer;
			opacity: 0;
			z-index: 10;
		}
		
		.studio-control-row .color-preview {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			border-radius: 0.375rem;
			border: 1px solid var(--header-border-primary);
			pointer-events: none;
		}
		
		
		#bubble-workshop-body {
			display: flex;
			flex-direction: column;
			padding: 0;
		}
		
		#bubble-preview-area {
			flex-shrink: 0;
			position: sticky;
			top: 0;
			background: var(--view-bg-primary, #F2F2F7);
			z-index: 10;
			padding: 1rem;
			border-bottom: 1px solid var(--header-border-primary, #E2E2E2);
		}
		
		#bubble-controls-container {
			flex-grow: 1;
			overflow-y: auto;
			padding: 1rem;
		}
		
		.studio-control-group.collapsible {}
		
		.collapsible-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			cursor: pointer;
			margin: -0.75rem -1rem;
			padding: 0.75rem 1rem;
		}
		
		.collapsible-header h4 {
			margin: 0;
			border-bottom: none;
			padding-bottom: 0;
		}
		
		.collapsible-header .chevron-icon {
			transition: transform 0.3s ease-in-out;
			font-size: 0.9em;
			color: var(--text-color-tertiary);
		}
		
		.studio-control-group.collapsible.active .chevron-icon {
			transform: rotate(180deg);
		}
		
		.collapsible-content {
			max-height: 0;
			overflow: hidden;
			transition: max-height 0.3s ease-in-out, padding-top 0.3s ease-in-out, margin-top 0.3s ease-in-out;
			padding-top: 0;
			margin-top: 0;
		}
		
		.studio-control-group.collapsible.active .collapsible-content {
			max-height: 1000px;
			padding-top: 0.75rem;
			margin-top: 0.75rem;
			border-top: 1px solid var(--header-border-primary);
		}
		
		#bubble-workshop-body .hex-input {
			width: 6rem;
			text-align: center;
			font-family: monospace;
			flex-grow: 0;
			flex-shrink: 0;
		}
		
		.studio-control-row .control-wrapper:has(.color-input-wrapper) {
			margin-right: 0.3rem;
		}
		
		.studio-btn-sync {
			padding-left: 0.8rem;
			padding-right: 0.8rem;
		}
		
		#bubble-workshop-view.is-locked #bubble-controls-container {
			pointer-events: none;
			opacity: 0.4;
			transition: opacity 0.3s ease;
		}
		
		#bubble-workshop-view.is-locked .studio-footer .studio-btn:not(#bubble-workshop-load-btn) {
			pointer-events: none;
			opacity: 0.4;
			transition: opacity 0.3s ease;
		}
		
		.forum-quote-block {
			background-color: var(--forum-quote-bg);
			border-left: 3px solid var(--forum-quote-border);
			padding: 0.8rem 1rem;
			border-radius: 0.25rem;
			margin-bottom: 0.5rem;
			position: relative;
			font-size: 0.95em;
			display: block;
			max-width: 100%;
			box-sizing: border-box;
		}
		
		.forum-quote-block .quote-author {
			font-weight: 600;
			color: var(--forum-username-color);
			margin-bottom: 0.3rem;
			display: block;
		}
		
		.forum-quote-block .quote-content {
			color: var(--forum-text-quote);
			font-size: calc(var(--forum-font-size, 0.9em) * 0.97);
		}
		
		#weibo-feed-list-container {
			padding: 0.35rem;
			display: flex;
			flex-direction: column;
			gap: 0.35rem;
			background-color: var(--forum-bg);
		}
		
		.forum-thread-item-card {
			background-color: var(--forum-card-bg);
			border: 1px solid var(--forum-divider-color);
			border-radius: 0.5rem;
			padding: 0.8rem 1rem;
			cursor: pointer;
			transition: background-color 0.2s ease, box-shadow 0.2s ease;
			box-shadow: 0 1px 3px rgba(0, 0, 0, 0.02);
		}
		
		.forum-thread-item-card:hover {
			background-color: var(--forum-thread-hover-bg);
			box-shadow: 0 2px 8px var(--forum-card-shadow);
		}
		
		.thread-top-row,
		.thread-bottom-row {
			display: flex;
			align-items: center;
		}
		
		.thread-top-row {
			margin-bottom: 0.5rem;
		}
		
		.thread-hotness {
			font-size: 0.9em;
			font-weight: 600;
			color: var(--forum-tag-hot-bg);
			margin-right: 0.5rem;
			flex-shrink: 0;
		}
		
		.thread-tag {
			padding: 0.1rem 0.4rem;
			border-radius: 0.25rem;
			color: var(--forum-tag-text);
			font-size: 0.75em;
			font-weight: 500;
			margin-right: 0.5rem;
			flex-shrink: 0;
		}
		
		.thread-tag-pinned {
			background-color: var(--forum-tag-pinned-bg);
		}
		
		.thread-tag-hot {
			background-color: var(--forum-tag-hot-bg);
		}
		
		.thread-tag-type {
			background-color: var(--forum-action-button-text);
		}
		
		.thread-title {
			font-size: 0.9em;
			font-weight: 500;
			color: var(--forum-text-primary);
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}
		
		.thread-author-avatar {
			width: 24px;
			height: 24px;
			border-radius: 4px;
			margin-right: 0.5rem;
			object-fit: cover;
		}
		
		.thread-author-name {
			font-size: 0.8em;
			color: var(--forum-text-secondary);
			margin-right: 1rem;
		}
		
		.thread-timestamp {
			font-size: 0.8em;
			color: var(--forum-text-secondary);
			margin-left: auto;
		}
		
		.thread-actions {
			margin-left: auto;
			display: flex;
			align-items: center;
			gap: 0.8rem;
			padding-left: 0.8rem;
		}
		
		.thread-read-star,
		.thread-delete-btn {
			font-size: 0.9em;
			color: var(--forum-text-secondary);
			opacity: 0.5;
			transition: opacity 0.2s ease, color 0.2s ease;
		}
		
		.thread-read-star.read {
			color: #FFC107;
			opacity: 1;
		}
		
		.thread-delete-btn:hover {
			color: var(--button-bg-danger);
			opacity: 1;
			cursor: pointer;
		}
		
		.forum-post-title-area {
			padding: 1rem 0;
		}
		
		.forum-post-title-area h1 {
			font-size: 1em;
			font-weight: 600;
			color: var(--forum-action-button-text);
			margin: 0;
			line-height: 1.5;
		}
		
		.forum-title-divider {
			border: none;
			height: 1px;
			background-color: var(--forum-divider-color);
			margin: 0;
		}
		
		/* --- 1. 论坛详情页的整体背景与布局 --- */
		#weibo-detail-view .weibo-detail-body {
			background-color: var(--forum-bg);
			padding: 0.35rem;
		}
		
		/* --- 2. 核心：楼层卡片的基础样式 --- */
		.forum-post-card {
			position: relative;
			background-color: var(--forum-card-bg);
			border-radius: 0.35rem;
			margin-bottom: 0.35rem;
			box-shadow: 0 2px 8px var(--forum-card-shadow);
			display: flex;
			/* 【核心修改】减少垂直内边距，使卡片变窄 */
			padding: 1rem 1rem;
			border: 1px solid var(--forum-divider-color);
		}
		
		.forum-post-card.is-op {
			flex-direction: column;
		}
		
		.forum-post-card:not(.is-op) .forum-user-panel .level-tag {
			margin-bottom: 0.5rem;
		}
		
		
		/* --- 3. 左侧/顶部：用户信息面板 --- */
		.forum-user-panel {
			width: 20%;
			flex-shrink: 0;
			display: flex;
			flex-direction: column;
			align-items: center;
			padding-right: 1rem;
			border-right: 1px solid var(--forum-divider-color);
			position: relative;
		}
		
		.is-op .forum-user-panel {
			width: 100%;
			flex-direction: row;
			align-items: center;
			padding-right: 0;
			padding-bottom: 1rem;
			border-right: none;
			border-bottom: 1px solid var(--forum-divider-color);
		}
		
		.forum-user-avatar {
			/* 【核心修改】略微缩小头像尺寸 */
			width: 4.2rem;
			height: 4.2rem;
			border-radius: 0.375rem;
			object-fit: cover;
			/* 【核心修改】减少头像下方的间距 */
			margin-bottom: 0.5rem;
		}
		
		.is-op .forum-user-avatar {
			width: 3rem;
			height: 3rem;
			margin-bottom: 0;
			margin-right: 0.75rem;
			flex-shrink: 0;
		}
		
		/* [核心新增] 主楼作者信息（名字+标签）的包裹层 */
		.op-user-info-wrapper {
			display: flex;
			align-items: center;
			/* 关键：允许这个包裹层在空间不足时被压缩 */
			flex-shrink: 1;
			min-width: 0;
		}
		
		/* vvvvvvvv 替换：论坛评论人名字体样式 (V2 - 缩小字号) vvvvvvvv */
		.forum-user-name {
			/* 【核心修改】将字体大小从 1em 调整为 0.9em */
			font-size: 0.9em;
			font-weight: 600;
			color: var(--forum-username-color);
			margin-bottom: 0.5rem;
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		.is-op .forum-user-name {
			margin-bottom: 0;
			/* 关键：让名字本身可以被压缩并显示省略号 */
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}
		
		.forum-user-title {
			/* 【核心修改】缩小字体和内边距，以适应更窄的宽度 */
			font-size: 0.7em;
			/* 【核心修改】调整内边距以适应两行文本 */
			padding: 0.25rem 0.5rem;
			border-radius: 0.75rem;
			border: 1px solid;
			color: var(--forum-text-secondary);
			/* 【核心修改】减少称号下方的间距 */
			margin-bottom: 0.75rem;
			display: inline-flex;
			align-items: center;
			gap: 0.3rem;
		}
		
		/* vvvvvvvv 替换：论坛称号内部文字换行样式 (修复版) vvvvvvvv */
		.forum-user-title span {
			/* 关键：将宽度从1.5em调整为2em，确保能容纳两个汉字 */
			width: 2em;
			/* 关键：调整行高，让两行文字更紧凑 */
			line-height: 1.2;
			/* 可选：让文字在自己的小空间内居中 */
			text-align: center;
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		.is-op .forum-user-name,
		.is-op .forum-user-title {
			margin-right: 1rem;
			margin-bottom: 0;
		}
		
		.forum-user-title .icon {
			font-size: 0.9em;
		}
		
		.forum-user-meta {
			font-size: 0.75em;
			color: var(--forum-text-secondary);
			width: 100%;
			text-align: center;
		}
		
		/* vvvvvvvv 替换：论坛发帖数样式 (V2 - 强制不换行) vvvvvvvv */
		.forum-user-meta div {
			margin-bottom: 0.4rem;
			/* 【核心修改】强制文本在同一行显示，防止换行 */
			white-space: nowrap;
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		.is-op .forum-user-meta div {
			display: inline-block;
			margin-bottom: 0;
			margin-left: 0.8rem;
			font-size: 0.9em;
		}
		
		.forum-user-panel::after {
			content: '...';
			font-family: serif;
			font-style: italic;
			color: var(--forum-divider-color);
			position: absolute;
			bottom: 0.5rem;
			left: 0.5rem;
			font-size: 1.2em;
			transform: rotate(-15deg);
			opacity: 0.6;
		}
		
		.is-op .forum-user-panel::after {
			display: none;
		}
		
		/* --- 4. 右侧/下方：帖子/评论内容区 --- */
		.forum-content-panel {
			/* 【核心修改】宽度从 75% 调整为 80% */
			width: 80%;
			flex-grow: 1;
			padding-left: 1rem;
			display: flex;
			flex-direction: column;
		}
		
		.is-op .forum-content-panel {
			width: 100%;
			padding-left: 0;
			margin-top: 1rem;
		}
		
		.forum-post-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			/* 【核心修改】减少与下方正文的间距 */
			margin-bottom: 0.75rem;
			flex-shrink: 0;
		}
		
		.forum-post-level {
			display: flex;
			gap: 0.5rem;
			font-size: 0.8em;
		}
		
		.level-number,
		.level-tag {
			background-color: var(--forum-level-tag-bg);
			color: var(--forum-level-tag-text);
			padding: 0.2rem 0.5rem;
			border-radius: 0.25rem;
		}
		
		.forum-post-timestamp {
			font-size: 0.8em;
			color: var(--forum-text-secondary);
		}
		
		/* vvvvvvvv 替换：论坛帖子正文样式 (V2 - 字体大小变量化) vvvvvvvv */
		.forum-post-body {
			flex-grow: 1;
			color: var(--forum-text-primary);
			line-height: 1.8;
			/* 核心修改：将固定的 font-size 替换为一个可配置的CSS变量 */
			font-size: var(--forum-font-size, 0.9em);
			white-space: pre-wrap;
			word-break: break-word;
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 替换：论坛图文分离 - 图片附件楼层专属样式 (V3 - 最终修复版) vvvvvvvv */
		
		/* 1. 针对图片附件楼层卡片的整体微调 (保持不变) */
		.forum-post-card.is-image-attachment {
			margin-top: -0.5rem;
			border-top: none;
			border-top-left-radius: 0;
			border-top-right-radius: 0;
			/* 【核心修正】移除了会破坏背景的 padding: 0; 属性 */
		}
		
		/* 2. 【核心】隐藏左侧的用户信息面板 */
		.is-image-attachment .forum-user-panel {
			display: none;
		}
		
		/* 3. 【核心】让右侧的内容面板占据100%的宽度，并移除它自己的左边距 */
		.is-image-attachment .forum-content-panel {
			width: 100%;
			padding-left: 0;
			/* 移除内容面板默认的左内边距 */
		}
		
		/* 4. 保持隐藏不必要的头部和尾部 */
		.is-image-attachment .forum-post-header,
		.is-image-attachment .forum-post-footer {
			display: none;
		}
		
		/* 5. (可选) 为图片本身添加一个轻微的圆角，使其在卡片内更好看 */
		.is-image-attachment .forum-post-body img,
		.is-image-attachment .forum-post-body .forum-image-description {
			border-radius: 0.375rem;
			margin-top: 0;
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 替换：论坛 #标签 和 @提及 的专属样式 (V3 - 缩小内边距) vvvvvvvv */
		
		/* 1. 这是包裹主楼下方所有 #标签 的容器样式 (保持不变) */
		.forum-post-hashtags {
			margin-top: 1.5rem;
			display: flex;
			flex-wrap: wrap;
			gap: 0.5rem;
		}
		
		/* 2. 这是单个 #标签 的样式 */
		.hashtag {
			background-color: var(--forum-action-button-bg);
			/* 复用现有主题的淡绿色背景 */
			color: var(--forum-action-button-text);
			/* [核心修改] 将左右内边距从 0.8rem 减小到 0.6rem，使其更紧凑 */
			padding: 0.3rem 0.5rem;
			border-radius: 0.25rem;
			font-size: var(--forum-font-size, 0.9em);
			font-weight: 500;
		}
		
		/* 3. 这是 @提及 的高亮样式 (保持不变) */
		.mention {
			color: var(--weibo-send-comment-btn-bg);
			/* 复用发送按钮的颜色，使其醒目 */
			font-weight: 600;
			/* 稍微加粗 */
			cursor: pointer;
			/* 鼠标悬浮时显示为手形，暗示可交互 */
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 新增：论坛帖子正文中图片描述的“盒子”样式 vvvvvvvv */
		.forum-post-body .forum-image-description {
			/* 
	 * 核心样式，使其看起来像一个占位符盒子。
	 * 这里的颜色变量都复用了您已有的论坛主题色，以保证风格统一。
	 */
			background-color: var(--forum-quote-bg);
			/* 使用和引用块一致的浅色背景 */
			border: 1px solid var(--forum-divider-color);
			/* 使用和分割线一致的边框颜色 */
			border-radius: 0.375rem;
			/* 轻微的圆角 */
			padding: 1rem;
			/* 内部留出一些空间 */
			margin-top: 1rem;
			/* 与上方的正文保持一些距离 */
			color: var(--forum-text-quote);
			/* 使用和引用文字一致的稍浅的颜色 */
			line-height: 1.6;
			/* 设置一个舒适的行高 */
		}
		
		/* ^^^^^^^^^^ 新增代码到此结束 ^^^^^^^^^^ */
		
		.forum-post-footer {
			display: flex;
			justify-content: flex-end;
			align-items: center;
			/* 【核心修改】减少与上方正文的间距 */
			margin-top: 0.75rem;
			color: var(--forum-text-secondary);
			gap: 1rem;
			flex-shrink: 0;
		}
		
		/* [核心新增] 让主楼的时间戳在左侧，其他按钮在右侧 */
		.is-op .forum-post-footer .forum-post-timestamp {
			margin-right: auto;
		}
		
		.forum-post-footer .weibo-comment-actions,
		.forum-post-footer .forum-like-button {
			font-size: 0.8em;
			cursor: pointer;
			display: flex;
			align-items: center;
			gap: 0.4rem;
			white-space: nowrap;
		}
		
		.forum-post-footer .weibo-comment-actions-group {
			display: flex;
			gap: 1rem;
		}
		
		/* --- 5. 头部与底部输入框样式修复 --- */
		#weibo-detail-view .weibo-header {
			background: var(--forum-card-bg);
			border-bottom: 1px solid var(--forum-divider-color);
		}
		
		#weibo-detail-view .weibo-detail-title {
			background-color: transparent !important;
			padding: 0;
			color: var(--forum-text-primary) !important;
			text-shadow: none !important;
			font-size: 1.1em;
		}
		
		#weibo-detail-view .back-btn,
		#weibo-detail-view .share-icon {
			color: var(--forum-text-secondary);
		}
		
		#weibo-detail-view .weibo-comment-input-area {
			display: flex;
			background: var(--forum-card-bg);
			border-top: 1px solid var(--forum-divider-color);
			padding: 0.6rem 0.8rem;
		}
		
		#weibo-detail-view .weibo-comment-input {
			background-color: var(--forum-bg);
			border-color: var(--forum-divider-color);
		}
		
		#weibo-detail-view .weibo-send-comment-btn {
			background-color: var(--forum-action-button-text);
			border-radius: 0.5rem;
		}
		
		.level-tag {
			flex-shrink: 0;
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 替换：微博论坛改造 - BOT回复专属样式 (V5 - 统一样式) vvvvvvvv */
		.forum-bot-reply {
			/* 1. 整体容器样式 */
			/* 核心修改：将背景色改为与普通楼层卡片一致的 --forum-card-bg */
			background-color: var(--forum-card-bg);
			border: 1px solid var(--forum-divider-color);
			border-left: 3px solid var(--forum-action-button-text);
			border-radius: 0.375rem;
			padding: 0.8rem 1rem;
			margin-top: 0.5rem;
			margin-bottom: 0.75rem;
			display: flex;
			align-items: flex-start;
			gap: 0.75rem;
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 新增：论坛BOT回复 - 作者名称样式 vvvvvvvv */
		.forum-bot-reply .bot-author-name {
			font-weight: 600;
			color: var(--forum-action-button-text);
			/* 复用绿色，使其醒目 */
			margin-bottom: 0.3rem;
			font-size: 0.9em;
		}
		
		.forum-bot-reply .bot-content-wrapper {
			flex: 1;
			/* 确保文本区域能占据所有剩余空间 */
		}
		
		/* ^^^^^^^^^^ 新增代码到此结束 ^^^^^^^^^^ */
		
		.forum-bot-reply .bot-icon {
			/* 2. 左侧机器人图标样式 */
			font-size: 1.2em;
			color: var(--forum-action-button-text);
			/* 使用和边框一致的绿色 */
			margin-top: 0.1em;
			/* 微调，让图标在视觉上更居中 */
		}
		
		/* vvvvvvvv 替换：论坛BOT回复文本样式 (V2 - 字体大小变量化) vvvvvvvv */
		.forum-bot-reply .bot-text {
			/* 3. 右侧BOT回复文本样式 */
			flex: 1;
			/* 核心修改：将固定的 font-size 替换为同一个CSS变量 */
			font-size: var(--forum-font-size, 0.85em);
			color: var(--forum-text-quote);
			line-height: 1.6;
			white-space: pre-wrap;
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		.forum-bot-reply .bot-text strong {
			/* 4. BOT回复中加粗文字的样式 */
			color: var(--forum-text-primary);
			/* 加粗部分使用主要文字颜色，更突出 */
		}
		
		/* ^^^^^^^^^^ 新增代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 新增：修复“+”号菜单图标对齐问题 vvvvvvvv */
		.plus-menu-item i {
			/* 为所有图标设置一个固定的宽度，确保它们占据相同的空间 */
			width: 1.2em;
			/* 让图标本身在它的“盒子”内水平居中对齐 */
			text-align: center;
		}
		
		/* ^^^^^^^^^^ 新增代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 替换：论坛首页布局及导航栏美化CSS (V5 - 增加默认Banner图) vvvvvvvv */
		
		/* 1. 将论坛主视图改造为Flexbox垂直布局，确保它能撑满屏幕 */
		#weibo-view {
			display: flex;
			flex-direction: column;
			height: 100%;
			border-radius: 0;
		}
		
		/* 2. 让主体内容区域(<main>)自动填充剩余空间并可以独立滚动 */
		#weibo-view .weibo-body {
			flex-grow: 1;
			overflow-y: auto;
			padding: 1rem;
		}
		
		/* 3. 顶部Banner样式 */
		.forum-top-banner {
			flex-shrink: 0;
			height: 10rem;
			margin-bottom: 1rem;
			border-radius: 1.25rem;
			background-color: #e0e0e0;
			background-image: var(--forum-banner-image, url('https://files.catbox.moe/u6uhzp.jpg'));
			background-size: cover;
			background-position: center;
		}
		
		/* 4. “分区列表”标题样式 */
		.forum-section-title {
			margin: 0 0 0.75rem 0.25rem;
			font-size: 0.9em;
			color: var(--text-color-tertiary);
			font-weight: 500;
		}
		
		/* 5. 分区卡片列表容器 */
		.weibo-zone-list-container {
			display: flex;
			flex-direction: column;
			gap: 0.4rem;
			/* 卡片之间的间距 */
		}
		
		
		/* 6. 底部导航栏容器样式 */
		.forum-footer-nav {
			flex-shrink: 0;
			z-index: 20;
			display: flex;
			justify-content: space-around;
			align-items: center;
			background-color: var(--forum-bg, #F8F5F2);
			margin: 0.75rem;
			border-radius: 1.875rem;
			padding: 0.5rem 0;
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
			border: 1px solid var(--forum-divider-color, #EAE5E0);
		}
		
		/* 7. 单个导航项的通用样式 */
		.forum-nav-item {
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			cursor: pointer;
			color: var(--forum-text-secondary, #A19692);
			font-size: 0.7em;
			font-weight: 500;
			width: 33.33%;
			gap: 0.2rem;
		}
		
		/* 8. 所有三个图标的统一圆圈样式 */
		.forum-nav-item .nav-icon {
			font-size: 1.5em;
			width: 2.8rem;
			height: 2.8rem;
			display: flex;
			align-items: center;
			justify-content: center;
			background-color: var(--card-bg-primary, #FFFFFF);
			border-radius: 50%;
			border: 1px solid var(--forum-divider-color, #EAE5E0);
			color: var(--forum-text-primary, #5A4741);
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 替换：引用回复消息气泡样式 (V2 - 增加边框) vvvvvvvv */
		
		/* 1. 引用框的整体容器 */
		.quote-container {
			padding: 0.3rem 0.6rem;
			border-left: 3px solid;
			/* 左侧竖线的粗细和样式 */
			margin-bottom: 0.3rem;
			/* 与下方的回复内容保持一点间距 */
			border-radius: 4px;
			/* 轻微的圆角，使其更柔和 */
			opacity: 0.8;
			/* 整体略微半透明，与主内容区分 */
			border: 1px solid rgba(0, 0, 0, 0.1);
			/* 【核心新增】增加一个1像素、10%透明度的黑色边框 */
		}
		
		/* 2. 引用框内的作者名 */
		.quote-author {
			font-size: 0.85em;
			/* 字体比正文小一点 */
			font-weight: 500;
			/* 稍微加粗 */
			margin-bottom: 0.1rem;
		}
		
		/* 3. 引用框内的内容 */
		.quote-content {
			font-size: 0.85em;
			/* 限制最多显示两行，超出部分用省略号代替，防止引用过长 */
			display: -webkit-box;
			-webkit-line-clamp: 2;
			-webkit-box-orient: vertical;
			overflow: hidden;
			text-overflow: ellipsis;
			word-break: break-all;
		}
		
		/* 4. 下方的回复正文 */
		.reply-text {
			/* 这个 span 不需要特殊样式，它会继承气泡的默认字体样式 */
		}
		
		/* --- 颜色适配 --- */
		
		/* 5. 当在“我的”（白色）气泡内引用时 */
		.message-row.me .message-bubble .quote-container {
			background-color: rgba(255, 255, 255, 0.5);
			border-left-color: var(--bubble-me-text-color);
		}
		
		.message-row.me .message-bubble .quote-author {
			color: var(--bubble-me-text-color);
			/* 作者名颜色 */
		}
		
		.message-row.me .message-bubble .quote-content {
			color: var(--bubble-me-text-color);
			/* 内容颜色 */
		}
		
		/* 6. 当在“对方的”（绿色）气泡内引用时 */
		.message-row.them .message-bubble .quote-container {
			background-color: rgba(255, 255, 255, 0.5);
			border-left-color: var(--bubble-them-text-color);
		}
		
		.message-row.them .message-bubble .quote-author {
			color: var(--bubble-them-text-color, #55876c);
			opacity: 1;
			/* 确保作者名不透明 */
		}
		
		.message-row.them .message-bubble .quote-content {
			color: var(--bubble-them-text-color, #55876c);
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 新增：“世界快照”弹窗专属美化CSS vvvvvvvv */
		#world-snapshot-content h3,
		#world-snapshot-content p,
		#world-snapshot-content hr,
		#world-snapshot-content blockquote {
			margin: 0;
		}
		
		#world-snapshot-content h3 {
			text-align: center;
			margin-bottom: 1rem;
			color: var(--deep-chocolate, #5D4037);
		}
		
		#world-snapshot-content .snapshot-item {
			display: flex;
			align-items: flex-start;
			margin-bottom: 1rem;
			padding-bottom: 1rem;
			border-bottom: 1px solid #e0e0e0;
		}
		
		#world-snapshot-content .snapshot-item:last-child {
			margin-bottom: 0;
			padding-bottom: 0;
			border-bottom: none;
		}
		
		#world-snapshot-content .snapshot-icon {
			flex-shrink: 0;
			width: 2.2rem;
			height: 2.2rem;
			margin-right: 0.85rem;
			display: flex;
			align-items: center;
			justify-content: center;
			border-radius: 8px;
			font-size: 1.2em;
			color: white;
		}
		
		#world-snapshot-content .snapshot-text {
			flex-grow: 1;
			font-size: 0.9em;
			line-height: 1.5;
			color: var(--deep-chocolate, #5D4037);
		}
		
		/* 为不同类型的事件定义不同的图标颜色 */
		.snapshot-icon.type-wechat {
			background-color: #88ADA6;
		}
		
		/* 微信 */
		.snapshot-icon.type-moments {
			background-color: #A1887F;
		}
		
		/* 朋友圈 */
		.snapshot-icon.type-forum {
			background-color: #B5C4B5;
		}
		
		/* 论坛 */
		.snapshot-icon.type-system {
			background-color: #9DAAA9;
		}
		
		/* 系统/签名/事件 */
		/* ^^^^^^^^^^ 新增代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 替换：视频通话界面专属样式 (V12 - 磨砂气泡与圆按钮修复) vvvvvvvv */
		
		/* 1. 颜色变量 (保持深色主题，但为新UI元素做准备) */
		:root {
			--videocall-bg: #2C2C2E;
			--videocall-text-primary: #FFFFFF;
			--videocall-text-secondary: rgba(235, 235, 245, 0.6);
			--videocall-accept-bg: #58a779;
		}
		
		/* 2. 通用界面基础布局 */
		.call-view {
			position: absolute;
			width: 100%;
			height: 100%;
			display: none;
			flex-direction: column;
			align-items: center;
			padding: 4rem 2rem;
			box-sizing: border-box;
			z-index: 200;
			opacity: 0;
			visibility: hidden;
			transition: opacity 0.3s ease, visibility 0.3s ease;
			border-radius: 0;
			overflow: hidden;
			background-color: var(--videocall-bg);
			font-family: var(--font-family);
		}
		
		.call-view.active {
			display: flex;
			opacity: 1;
			visibility: visible;
		}
		
		/* 3. 通用元素样式 (呼叫中/来电/横幅等界面的元素) */
		.call-view .caller-avatar {
			width: 100px;
			height: 100px;
			border-radius: 50%;
			object-fit: cover;
			border: 4px solid rgba(128, 116, 111, 0.2);
			margin-top: 4rem;
		}
		
		.call-view .caller-name {
			font-size: 1.8em;
			color: var(--videocall-text-primary);
			margin-top: 1.5rem;
			font-weight: 500;
		}
		
		.call-view .call-status {
			font-size: 1.2em;
			color: var(--videocall-text-secondary);
			margin-top: 0.5rem;
		}
		
		.call-view .call-actions {
			position: absolute;
			bottom: 6rem;
			left: 0;
			right: 0;
			display: flex;
			justify-content: space-around;
			align-items: center;
		}
		
		.call-view .action-button {
			width: 70px;
			height: 70px;
			border-radius: 50%;
			border: none;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			color: white;
			cursor: pointer;
			transition: transform 0.2s ease;
		}
		
		.call-view .action-button:active {
			transform: scale(0.9);
		}
		
		.call-view .action-button i {
			font-size: 2em;
		}
		
		.call-view .action-button span {
			font-size: 0.8em;
			margin-top: 0.5rem;
			font-family: inherit;
		}
		
		.call-view .btn-accept {
			background-color: var(--videocall-accept-bg);
		}
		
		.call-view .btn-decline {
			background-color: var(--button-bg-danger);
		}
		
		/* 4. “通话中”界面的专属布局样式 */
		#in-call-screen {
			padding: 0;
			justify-content: space-between;
			height: 100%;
			background-color: transparent;
			background-size: cover;
			background-position: center;
			background-repeat: no-repeat;
			/* [核心新增] 添加点击穿透逻辑，确保隐藏画面后能点到背景 */
			pointer-events: auto;
		}
		
		/* a. 顶部header上移并增加安全区 */
		.in-call-header {
			flex-shrink: 0;
			width: 100%;
			display: flex;
			flex-direction: column;
			align-items: center;
			padding: 3rem 1rem 1rem 1rem;
			box-sizing: border-box;
			/* [核心新增] 头部区域保持可点击，用于恢复画面 */
			cursor: pointer;
			z-index: 10;
		}
		
		/* b. 名字与计时器容器 */
		.caller-info-bar {
			display: flex;
			justify-content: center;
			align-items: baseline;
			gap: 0.75rem;
			margin-bottom: 0.75rem;
			text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
		}
		
		/* c. 名字与计时器样式 */
		.in-call-header .caller-name {
			margin: 0;
			font-size: 1.5em;
			color: var(--videocall-text-primary);
		}
		
		.in-call-header .call-timer {
			color: var(--videocall-text-secondary);
			font-size: 1em;
			margin-top: 0;
		}
		
		/* d. 顶部共享画面容器 */
		#call-shared-screen {
			width: 100%;
			height: 150px;
			border-radius: 12px;
			overflow: hidden;
			/* [核心修复] 降低背景透明度，增强磨砂感 */
			background-color: rgba(0, 0, 0, 0.35);
			backdrop-filter: blur(15px);
			-webkit-backdrop-filter: blur(15px);
			border: 1px solid rgba(255, 255, 255, 0.15);
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
			/* [核心新增] 添加过渡动画，用于点击隐藏/显示 */
			transition: opacity 0.3s ease, transform 0.3s ease;
			cursor: pointer;
			/* 提示可点击 */
		}
		
		/* e. 共享画面内部的文字滚动样式 */
		#call-shared-screen .screen-description {
			padding: 1rem;
			font-size: 0.9em;
			line-height: 1.6;
			width: 100%;
			height: 100%;
			box-sizing: border-box;
			overflow-y: auto;
			color: var(--videocall-text-primary);
			text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
		}
		
		/* f. 聊天区域 */
		.chat-simulation {
			flex-grow: 1;
			width: 100%;
			position: relative;
			padding: 0 1rem;
			box-sizing: border-box;
			display: flex;
			flex-direction: column-reverse;
			overflow-y: auto;
			align-items: flex-start;
		}
		
		/* g. 聊天气泡样式：[核心修复] 对比度与磨砂质感 */
		.chat-simulation-message {
			margin-bottom: 0.75rem;
			padding: 0.6rem 1.2rem;
			border-radius: 18px;
			max-width: 80%;
			word-wrap: break-word;
			text-align: left;
			backdrop-filter: blur(12px);
			-webkit-backdrop-filter: blur(12px);
			background-color: rgba(0, 0, 0, 0.35);
			border: 1px solid rgba(255, 255, 255, 0.15);
			color: #ffffff;
			font-weight: 500;
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
		}
		
		.chat-simulation-message.me {
			background-color: rgba(255, 255, 255, 0.5);
			color: #000000;
			align-self: flex-end;
			border: 1px solid rgba(0, 0, 0, 0.15);
		}
		
		/* h. 底部输入区域 */
		.in-call-footer {
			flex-shrink: 0;
			width: 100%;
			padding: 1rem;
			box-sizing: border-box;
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 1.5rem;
			/* 背景渐变，保证底部按钮可见 */
			background: linear-gradient(to top, rgba(0, 0, 0, 0.6), transparent);
		}
		
		.in-call-footer .in-call-input-area {
			position: static;
			width: 100%;
			display: flex;
			gap: 0.5rem;
			align-items: center;
		}
		
		.in-call-footer .in-call-input-area input {
			flex-grow: 1;
			padding: 0.8rem 1rem;
			border: none;
			border-radius: 20px;
			background-color: rgba(255, 255, 255, 0.2);
			/* 稍微调高透明度 */
			backdrop-filter: blur(10px);
			-webkit-backdrop-filter: blur(10px);
			color: var(--videocall-text-primary);
			font-family: inherit;
			font-size: 1em;
			min-width: 0;
			border: 1px solid rgba(255, 255, 255, 0.1);
		}
		
		.in-call-footer .in-call-input-area input::placeholder {
			color: rgba(255, 255, 255, 0.6);
		}
		
		/* [核心修复] 发送按钮改为圆形，为放图标做准备 */
		.in-call-footer .in-call-input-area button {
			width: 2.8rem;
			/* 固定宽度 */
			height: 2.8rem;
			/* 固定高度 */
			border: none;
			border-radius: 50%;
			/* 正圆形 */
			background-color: var(--wechat-green-icon);
			/* 改为微信绿 */
			color: white;
			font-family: inherit;
			cursor: pointer;
			flex-shrink: 0;
			display: flex;
			/* Flex布局居中 */
			align-items: center;
			justify-content: center;
			padding: 0;
			/* 移除内边距 */
			transition: background-color 0.2s, transform 0.1s;
			font-size: 1.1em;
			/* 图标大小 */
			box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
		}
		
		.in-call-footer .in-call-input-area button:active {
			transform: scale(0.95);
		}
		
		.in-call-footer .in-call-input-area button:disabled {
			background-color: rgba(255, 255, 255, 0.3);
			cursor: not-allowed;
		}
		
		.in-call-footer .call-actions {
			position: static;
			width: auto;
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		/* vvvvvvvv 新增：视频通话画面切换箭头样式 vvvvvvvv */
		
		/* 1. 调整底部按钮容器布局，让三个元素横向排列 */
		.in-call-footer .call-actions {
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 2rem;
			/* 箭头和挂断按钮之间的距离 */
			width: 100%;
		}
		
		/* 2. 箭头图标通用样式 */
		.screen-nav-btn {
			color: white;
			font-size: 1.8rem;
			/* 图标大小 */
			opacity: 0.5;
			/* 默认半透明 */
			cursor: pointer;
			transition: all 0.2s ease;
			/* 丝滑过渡动画 */
			padding: 0.5rem;
			/* 增加一点点击热区 */
		}
		
		/* 3. 鼠标悬停/点击时的效果 */
		.screen-nav-btn:hover,
		.screen-nav-btn:active {
			opacity: 1;
			/* 变亮 */
			transform: scale(1.2);
			/* 稍微放大 */
		}
		
		/* 4. 禁用状态 (用于第一页/最后一页) */
		.screen-nav-btn.disabled {
			opacity: 0.1;
			/* 变得非常暗 */
			pointer-events: none;
			/* 禁止点击 */
			cursor: default;
		}
		
		/* ^^^^^^^^^^ 新增代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 替换：论坛个人主页专属UI样式 (V5 - 最终高度修复版) vvvvvvvv */
		
		/* --- 1. 个人主页视图的通用布局 --- */
		#forum-profile-view {
			display: flex;
			flex-direction: column;
			height: 100%;
		}
		
		#forum-profile-view .header {
			flex-shrink: 0;
			display: grid;
			grid-template-columns: 50px 1fr 50px;
			align-items: center;
			padding: 0 0.5rem;
			padding-top: 2.5rem;
			height: 2rem;
			box-sizing: content-box;
			background-color: var(--forum-card-bg);
			border-bottom: 1px solid var(--forum-divider-color);
			position: relative;
			z-index: 20;
		}
		
		#forum-profile-view .header .fa-arrow-left {
			cursor: pointer;
			font-size: 1.2em;
			text-align: left;
			padding-left: 0.5rem;
		}
		
		/* vvvvvvvv 替换：论坛个人主页 - 标题居中样式 vvvvvvvv */
		#forum-profile-view .header span {
			font-weight: 600;
			/* 新增：让文字在自己的网格单元格内居中 */
			text-align: center;
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		#forum-profile-view .profile-body {
			flex: 1;
			overflow-y: auto;
			background-color: var(--forum-bg);
		}
		
		/* --- 2. 【核心】头部背景图容器 --- */
		.profile-header-section {
			background-image: var(--forum-banner-image, url('https://files.catbox.moe/u6uhzp.jpg'));
			background-size: cover;
			background-position: center;
			padding: 1rem;
			/* 【核心修改】大幅缩减顶部的留白，仅为头像上移提供少量空间 */
			padding-top: 60px;
			/* 【核心修改】大幅缩减底部的留白，让背景紧贴内容 */
			padding-bottom: 0.2rem;
		}
		
		/* vvvvvvvv 替换：主信息区对齐方式 (V2 - 居中对齐版) vvvvvvvv */
		.profile-main-info {
			display: flex;
			justify-content: space-between;
			/* 【核心修改】将对齐方式从“底部对齐”(flex-end)改为“居中对齐”(center) */
			align-items: center;
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 替换：论坛个人主页 - 头像样式 (修复变形) vvvvvvvv */
		.profile-avatar {
			width: 64px;
			height: 64px;
			border-radius: 50%;
			border: 3px solid var(--forum-card-bg);
			background-color: var(--forum-divider-color);
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
			margin-top: -22px;
			object-fit: cover;
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		.profile-actions {
			display: flex;
			gap: 0.5rem;
		}
		
		.profile-btn {
			padding: 0.4rem 1rem;
			border: 1px solid var(--forum-divider-color);
			border-radius: 1rem;
			background-color: var(--forum-card-bg);
			font-weight: 600;
			cursor: pointer;
			font-size: 0.9em;
			color: var(--forum-text-primary);
			box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
		}
		
		.profile-btn.primary {
			background-color: var(--forum-action-button-bg);
			color: var(--forum-action-button-text);
			border-color: transparent;
		}
		
		/* --- 4. 【核心】名字和签名区域的样式 --- */
		.profile-details {
			margin-top: 0.5rem;
		}
		
		.profile-name {
			font-size: 1.5em;
			font-weight: bold;
			color: var(--text-color-inverted);
			text-shadow: 0 1px 4px rgba(0, 0, 0, 0.5);
		}
		
		.profile-signature {
			font-size: 0.9em;
			color: var(--text-color-inverted);
			text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
			margin: 0.25rem 0;
		}
		
		/* --- 5. 【核心】下方独立白色内容区域的样式 --- */
		.profile-content-section {
			background-color: var(--forum-card-bg);
			/* 【核心修改】移除这里的顶部内边距，因为头部高度已经自然确定 */
		}
		
		.profile-stats {
			display: flex;
			gap: 1rem;
			font-size: 0.9em;
			padding: 1rem;
			border-bottom: 1px solid var(--forum-divider-color);
		}
		
		.profile-stats span {
			color: var(--forum-text-secondary);
		}
		
		.profile-stats strong {
			color: var(--forum-text-primary);
		}
		
		/* --- 6. 导航选项卡及之后的内容样式保持不变 --- */
		.profile-tabs {
			display: flex;
			background-color: var(--forum-card-bg);
			border-bottom: 1px solid var(--forum-divider-color);
			position: sticky;
			top: 0;
			z-index: 15;
		}
		
		.tab-item {
			flex: 1;
			text-align: center;
			padding: 0.8rem 0;
			font-weight: 600;
			color: var(--forum-text-secondary);
			cursor: pointer;
			position: relative;
			font-size: 0.9em;
		}
		
		.tab-item.active {
			color: var(--forum-text-primary);
		}
		
		.tab-item.active::after {
			content: '';
			position: absolute;
			bottom: 0;
			left: 25%;
			right: 25%;
			height: 3px;
			background-color: var(--weibo-send-comment-btn-bg);
			border-radius: 3px;
		}
		
		.profile-tab-content>div {
			display: none;
		}
		
		.profile-tab-content>div.active {
			display: block;
			padding: 0.75rem;
		}
		
		#profile-tab-posts .post-card {
			background-color: var(--forum-card-bg);
			border-radius: 0.5rem;
			margin-bottom: 0.75rem;
			padding: 1rem;
			border: 1px solid var(--forum-divider-color);
			cursor: pointer;
			transition: box-shadow 0.2s ease;
		}
		
		#profile-tab-posts .post-card:hover {
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
		}
		
		#profile-tab-posts .post-card .excerpt {
			font-size: 0.9em;
			color: var(--forum-text-primary);
			margin: 0 0 1rem 0;
			line-height: 1.6;
			display: -webkit-box;
			-webkit-line-clamp: 3;
			-webkit-box-orient: vertical;
			overflow: hidden;
			text-overflow: ellipsis;
		}
		
		#profile-tab-posts .post-card-footer {
			display: flex;
			justify-content: space-between;
			align-items: center;
			color: var(--forum-text-secondary);
			font-size: 0.8em;
		}
		
		#profile-tab-posts .post-card .post-card-stats {
			display: flex;
			align-items: center;
			gap: 1rem;
		}
		
		/* vvvvvvvv 新增：论坛个人主页 - 帖子卡片美化样式 vvvvvvvv */
		
		/* vvvvvvvv 替换：论坛个人主页 - 帖子卡片样式 (最终修复版) vvvvvvvv */
		
		/* 1. 帖子卡片标题的容器样式 */
		#profile-tab-posts .post-card .title {
			font-size: 0.95em;
			font-weight: 600;
			margin: 0 0 0.5rem 0;
			color: var(--forum-text-primary);
			/* [核心修改] 使用flex布局，确保内部的标签和文字在同一行 */
			display: flex;
			align-items: center;
			/* 垂直居中对齐 */
			width: 100%;
			/* 确保标题容器占满整行 */
		}
		
		/* 2. 为标题内部的前缀标签定义正确的样式 */
		.profile-post-prefix-tag {
			background-color: var(--weibo-send-comment-btn-bg);
			/* 深绿色背景 */
			color: var(--forum-tag-text);
			/* 白色文字 */
			padding: 0.1rem 0.4rem;
			border-radius: 0.25rem;
			font-size: 0.85em;
			/* 字体比标题稍小，更有标签感 */
			margin-right: 0.5rem;
			white-space: nowrap;
			/* 确保标签自身不换行 */
			flex-shrink: 0;
			/* 确保标签不被压缩 */
		}
		
		/* 3. 为标题的纯文本部分定义样式，处理溢出省略 */
		.profile-post-title-text {
			white-space: nowrap;
			/* 强制不换行 */
			overflow: hidden;
			/* 隐藏溢出部分 */
			text-overflow: ellipsis;
			/* 显示省略号 */
			flex-grow: 1;
			/* 占据所有剩余空间 */
		}
		
		/* 4. 帖子内容区样式 */
		#profile-tab-posts .post-card .profile-post-content {
			background-color: var(--forum-quote-bg);
			/* [核心修改] 再次缩小左右内边距 */
			padding: 0.8rem 0.6rem;
			border-radius: 0.375rem;
			margin: 0 0 1rem 0;
			font-size: 0.95em;
			color: var(--forum-text-primary);
			line-height: 1.6;
			display: -webkit-box;
			-webkit-line-clamp: 3;
			-webkit-box-orient: vertical;
			overflow: hidden;
			text-overflow: ellipsis;
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		/* 4. 移除原excerpt段落的多余边距，因为它现在由新的容器控制 */
		#profile-tab-posts .post-card .excerpt {
			margin: 0;
		}
		
		/* 5. 为即将添加的标签容器设置样式 */
		#profile-tab-posts .post-card .profile-post-hashtags {
			margin-top: -0.5rem;
			/* 让标签区域离内容区更近一些 */
			margin-bottom: 1rem;
			display: flex;
			flex-wrap: wrap;
			gap: 0.5rem;
		}
		
		/* ^^^^^^^^^^ 新增代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 替换：论坛个人主页 - 问答(AMA)功能卡片化UI样式 (V3 - 截图还原版) vvvvvvvv */
		
		/* 1. 【核心】“提问输入卡片”的整体容器，模仿.qna-card的结构 */
		.ama-input-box {
			margin-bottom: 0.75rem;
			border-radius: 0.5rem;
			overflow: hidden;
			border: 1px solid var(--forum-divider-color);
			background-color: var(--forum-card-bg);
		}
		
		/* 2. 提问卡片顶部的绿色引导语区域 */
		.ama-input-header {
			background-color: var(--forum-action-button-bg);
			/* 复用问答卡的绿色 */
			padding: 1rem;
			color: var(--forum-action-button-text);
			font-weight: 600;
			line-height: 1.5;
		}
		
		/* 3. 提问卡片中部的白色输入区域 */
		.ama-input-body {
			padding: 1rem;
		}
		
		.ama-input-body textarea {
			width: 100%;
			border: none;
			background-color: transparent;
			color: var(--forum-text-primary);
			resize: none;
			/* 禁止调整大小 */
			min-height: 2em;
			/* 初始高度 */
			padding: 0;
			box-sizing: border-box;
		}
		
		.ama-input-body textarea:focus {
			outline: none;
		}
		
		/* 4. 提问卡片底部的白色页脚区域 */
		.ama-input-footer {
			padding: 0.5rem 1rem 1rem 1rem;
			display: flex;
			justify-content: space-between;
			align-items: center;
		}
		
		/* 5. 页脚左侧的“查看更多”按钮 */
		#view-more-ama-btn {
			color: var(--forum-text-secondary);
			font-size: 0.85em;
			cursor: pointer;
			font-weight: 500;
		}
		
		#view-more-ama-btn:hover {
			color: var(--forum-text-primary);
		}
		
		/* 6. 页脚右侧的“发送”图标按钮 */
		.ama-input-footer button {
			background-color: var(--weibo-send-comment-btn-bg);
			color: white;
			border: none;
			width: 2rem;
			height: 2rem;
			border-radius: 50%;
			font-size: 1em;
			cursor: pointer;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		
		
		/* --- 以下是真正的“问答卡片”样式，确保它们不被污染 --- */
		
		/* 7. 问答卡片（Q&A Card）的整体容器样式 (恢复原样) */
		.qna-card {
			margin-bottom: 0.75rem;
			border-radius: 0.5rem;
			overflow: hidden;
			border: 1px solid var(--forum-divider-color);
			background-color: var(--forum-card-bg);
		}
		
		/* 8. 问答卡片中的“问题”部分（绿色背景） (恢复原样) */
		.qna-card .question {
			background-color: var(--forum-action-button-bg);
			padding: 1rem;
			color: var(--forum-action-button-text);
		}
		
		.qna-card .question p {
			margin: 0;
			font-weight: 600;
			line-height: 1.5;
		}
		
		/* 9. 问答卡片中的“回答”部分（白色背景）(恢复原样) */
		.qna-card .answer {
			padding: 1rem;
		}
		
		.qna-card .answer img {
			display: none;
		}
		
		.qna-card .answer-content .author {
			font-weight: bold;
			margin-bottom: 0.3rem;
			color: var(--forum-text-primary);
		}
		
		.qna-card .answer-content p {
			margin: 0;
			line-height: 1.6;
			font-size: 0.9em;
			color: var(--forum-text-primary);
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 替换：论坛问答卡片 - 回答区样式 (移除头像) vvvvvvvv */
		.qna-card .answer {
			padding: 1rem;
			/* [核心修改] 移除了 display:flex 和 gap 属性，使其变为普通的块级容器 */
		}
		
		.qna-card .answer img {
			/* [核心修改] 直接隐藏头像元素 */
			display: none;
			width: 40px;
			height: 40px;
			border-radius: 4px;
			background-color: var(--forum-divider-color);
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		.qna-card .answer-content .author {
			font-weight: bold;
			margin-bottom: 0.3rem;
		}
		
		.qna-card .answer-content p {
			margin: 0;
			line-height: 1.6;
			font-size: 0.9em;
		}
		
		#profile-tab-footprints {
			padding: 0;
		}
		
		.footprint-item {
			display: flex;
			padding: 1rem;
			border-bottom: 1px solid var(--forum-divider-color);
			gap: 1rem;
			align-items: center;
		}
		
		.footprint-item .icon {
			font-size: 1.2em;
			color: var(--forum-text-secondary);
		}
		
		.footprint-item .content p {
			margin: 0;
		}
		
		.footprint-item .action {
			font-size: 0.9em;
			color: var(--forum-text-secondary);
			margin-bottom: 0.3rem;
		}
		
		.footprint-item .quote {
			font-size: 0.9em;
			background-color: var(--forum-bg);
			padding: 0.5rem;
			border-radius: 4px;
			margin-top: 0.5rem;
			color: var(--forum-text-primary);
		}
		
		#profile-tab-footprints .post-link {
			color: var(--weibo-send-comment-btn-bg);
			font-weight: 600;
			cursor: pointer;
		}
		
		#profile-tab-footprints .post-link:hover {
			text-decoration: underline;
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 新增：论坛夜间模式 - 滑动开关UI样式 vvvvvvvv */
		
		/* 开关的容器样式 */
		.blmx-switch {
			position: relative;
			display: inline-block;
			width: 50px;
			height: 28px;
		}
		
		/* 隐藏原生的checkbox */
		.blmx-switch input {
			opacity: 0;
			width: 0;
			height: 0;
		}
		
		/* 滑块的背景 */
		.blmx-slider {
			position: absolute;
			cursor: pointer;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background-color: #ccc;
			transition: .4s;
			border-radius: 28px;
		}
		
		/* 滑块上的小圆点 */
		.blmx-slider:before {
			position: absolute;
			content: "";
			height: 20px;
			width: 20px;
			left: 4px;
			bottom: 4px;
			background-color: white;
			transition: .4s;
			border-radius: 50%;
		}
		
		/* 当checkbox被选中时，滑块背景变色 */
		input:checked+.blmx-slider {
			background-color: var(--weibo-send-comment-btn-bg, #88ADA6);
		}
		
		/* 当checkbox被选中时，移动小圆点 */
		input:checked+.blmx-slider:before {
			transform: translateX(22px);
		}
		
		/* ^^^^^^^^^^ 新增代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 替换：论坛夜间模式 - 颜色变量与应用规则 (V9 - 兼容个人主页) vvvvvvvv */
		
		/* 1. 定义夜间模式的颜色变量 (此部分保持不变，现有变量已足够覆盖个人主页的需求) */
		.forum-dark-mode {
			--forum-bg: #1C1C1E;
			--forum-card-bg: #2C2C2E;
			--forum-card-shadow: rgba(0, 0, 0, 0.2);
			--forum-divider-color: #3A3A3C;
			--weibo-body-bg: var(--forum-bg);
			--forum-text-primary: rgba(255, 255, 255, 0.85);
			--forum-text-secondary: rgba(255, 255, 255, 0.5);
			--forum-text-quote: rgba(255, 255, 255, 0.7);
			--forum-username-color: rgba(255, 255, 255, 0.9);
			--forum-quote-bg: #1C1C1E;
			--forum-quote-border: #4A4A4C;
			--forum-action-button-bg: #3A3A3C;
			--forum-action-button-text: #58a779;
			--forum-level-tag-bg: #3A3A3C;
			--forum-level-tag-text: rgba(255, 255, 255, 0.6);
			--forum-thread-hover-bg: #3A3A3C;
			--weibo-header-bg: var(--forum-card-bg);
			--weibo-comment-input-area-bg: var(--forum-card-bg);
			--weibo-comment-input-bg: var(--forum-bg);
			--weibo-send-comment-btn-bg: var(--forum-action-button-text);
		}
		
		/* 2. 【核心修改】在应用头部背景和边框的规则中，加入个人主页的头部选择器 */
		#weibo-view.forum-dark-mode .weibo-header,
		#weibo-feed-view.forum-dark-mode .weibo-header,
		#weibo-detail-view.forum-dark-mode .weibo-header,
		#forum-profile-view.forum-dark-mode .header {
			/* 新增的选择器 */
			background: var(--forum-card-bg) !important;
			border-color: var(--forum-divider-color) !important;
		}
		
		/* 3. 【核心修改】在应用头部文字/图标颜色的规则中，加入个人主页的相应选择器 */
		#weibo-view.forum-dark-mode .weibo-header .weibo-search-bar-placeholder,
		#weibo-feed-view.forum-dark-mode .weibo-header .weibo-detail-title,
		#weibo-detail-view.forum-dark-mode .weibo-header .weibo-detail-title,
		#weibo-view.forum-dark-mode .weibo-header .back-btn,
		#weibo-feed-view.forum-dark-mode .weibo-header .back-btn,
		#weibo-detail-view.forum-dark-mode .weibo-header .back-btn,
		#weibo-view.forum-dark-mode .weibo-header .share-icon,
		#weibo-feed-view.forum-dark-mode .weibo-header .share-icon,
		#weibo-detail-view.forum-dark-mode .weibo-header .share-icon,
		#weibo-view.forum-dark-mode .weibo-header .fa-plus,
		#weibo-feed-view.forum-dark-mode .weibo-header .fa-plus,
		#weibo-detail-view.forum-dark-mode .weibo-header .fa-plus,
		#weibo-view.forum-dark-mode .weibo-header #weibo-settings-btn,
		#forum-profile-view.forum-dark-mode .header span,
		/* 新增的选择器 */
		#forum-profile-view.forum-dark-mode .header .fa-arrow-left

		/* 新增的选择器 */
			{
			color: var(--forum-text-primary) !important;
		}
		
		/* 4. (保持不变) 为其他论坛头部应用深色样式 */
		#weibo-view.forum-dark-mode .weibo-header .weibo-search-bar-placeholder {
			background-color: var(--forum-bg);
			color: var(--forum-text-secondary) !important;
		}
		
		/* 5. (保持不变) 为论坛主页的根容器(#weibo-view)也直接应用深色背景 */
		#weibo-view.forum-dark-mode {
			background-color: var(--forum-bg);
		}
		
		/* 6. (保持不变) 详情页输入框的夜间模式适配 */
		#weibo-detail-view.forum-dark-mode .weibo-comment-input-area {
			background-color: var(--forum-card-bg);
			border-color: var(--forum-divider-color);
		}
		
		#weibo-detail-view.forum-dark-mode .weibo-comment-input {
			background-color: var(--forum-bg);
			border-color: var(--forum-divider-color);
			color: var(--forum-text-primary) !important;
		}
		
		#weibo-detail-view.forum-dark-mode .weibo-comment-input::placeholder {
			color: var(--forum-text-secondary);
		}
		
		#weibo-detail-view.forum-dark-mode .weibo-send-comment-btn {
			background-color: var(--weibo-send-comment-btn-bg);
			color: white;
		}
		
		/* 7. (保持不变) 论坛主页底部导航栏的夜间模式适配 */
		#weibo-view.forum-dark-mode .forum-footer-nav {
			background-color: var(--forum-card-bg);
			border-color: var(--forum-divider-color);
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
		}
		
		#weibo-view.forum-dark-mode .forum-nav-item {
			color: var(--forum-text-secondary);
		}
		
		#weibo-view.forum-dark-mode .forum-nav-item .nav-icon {
			background-color: var(--forum-bg);
			border-color: var(--forum-divider-color);
			color: var(--forum-text-primary);
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		/* vvvvvvvv 替换：“一起听”App 专属样式 v2.0 (修正版) vvvvvvvv */
		:root {
			--lt-bg: #2d2d2d;
			/* 背景色微调，更接近参考图 */
			--lt-text-primary: #f0f0f0;
			--lt-text-secondary: #888;
			--lt-vinyl-shadow: rgba(0, 0, 0, 0.5);
			--lt-platter-bg: rgba(0, 0, 0, 0.2);
			/* 唱片托盘背景色 */
		}
		
		/* --- 修复：主视图容器 --- */
		#listen-together-view {
			position: absolute !important;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			width: 100%;
			height: 100%;
			/* 强制撑满高度 */
			background-color: #222;
			display: flex;
			flex-direction: column;
			justify-content: space-between;
			padding: 0 !important;
			z-index: 80;
			border-radius: 0 !important;
			overflow: hidden;
		}
		
		/* 新增：毛玻璃背景层 */
		#lt-background-layer {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: -1;
			/* 放在最底层 */
			background-image: var(--hub-album-art-bg-image);
			/* 引用专辑图变量 */
			background-size: cover;
			background-position: center;
			/* 核心：高斯模糊 + 变暗蒙版 */
			filter: blur(35px) brightness(0.6);
			transform: scale(1.2);
			/* 放大一点避免模糊边缘露白 */
		}
		
		/* vvvvvvvv 替换：修复一起听页面文字可见性 (V3 - 颜色统一版) vvvvvvvv */
		
		/* 1. 顶部栏：图标和文字统一改为主要亮色 */
		.lt-header {
			/* [核心修改] 将颜色改为 primary (亮白)，不再使用 secondary (灰) */
			color: var(--lt-text-primary);
			text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
			/* 之前的 padding 保持不变 */
			flex-shrink: 0;
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 3.5rem 1.5rem 0.5rem 1.5rem;
			z-index: 2;
		}
		
		.lt-header i {
			font-size: 1.2em;
			cursor: pointer;
		}
		
		/* 2. 状态文字：保持亮色，增加阴影 */
		#lt-duration-text {
			font-size: 0.85em;
			color: rgba(255, 255, 255, 0.85);
			margin-top: 1rem;
			text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
			font-weight: 500;
		}
		
		.lt-song-info {
			text-align: center;
		}
		
		/* 3. 歌名 */
		.lt-song-info h2 {
			margin: 0;
			font-size: 1em;
			font-weight: 600;
			color: var(--lt-text-primary);
			text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
		}
		
		/* 4. 歌手名：[核心修改] 颜色统一为亮色 */
		.lt-song-info p {
			margin: 0.1rem 0 0 0;
			font-size: 0.8em;
			/* 改为 primary，并移除或减少透明度，使其变白 */
			color: var(--lt-text-primary);
			opacity: 0.9;
			text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 替换：悬浮气泡样式 (V2 - 上方分立版) vvvvvvvv */
		
		/* 1. 容器：定位在黑胶唱片上方的空白区域 */
		#lt-chat-float-layer {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 25%;
			z-index: 20;
			pointer-events: none;
			display: flex;
			flex-direction: column;
			justify-content: flex-end;
			gap: 0.5rem;
			padding: 1rem 1.5rem;
			box-sizing: border-box;
		}
		
		/* 2. 单个气泡外壳 (去掉头像，纯文字胶囊) */
		.lt-float-bubble {
			pointer-events: auto;
			max-width: 80%;
			animation: float-pop-in 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
			display: flex;
			flex-direction: column;
		}
		
		/* 3. 核心：左右分立 (User左，Char右) */
		.lt-float-bubble.me {
			align-self: flex-start;
			/* User 靠左 */
			align-items: flex-start;
		}
		
		.lt-float-bubble.them {
			align-self: flex-end;
			/* Char 靠右 */
			align-items: flex-end;
		}
		
		/* 4. 气泡文字容器 */
		.float-content {
			padding: 8px 16px;
			border-radius: 20px;
			color: #fff;
			font-size: 0.95em;
			line-height: 1.4;
			text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
			box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
			position: relative;
		}
		
		/* 5. 颜色区分 */
		/* User (左): 使用磨砂白 */
		.lt-float-bubble.me .float-content {
			background-color: rgba(255, 255, 255, 0.25);
			backdrop-filter: blur(10px);
			border: 1px solid rgba(255, 255, 255, 0.3);
			border-bottom-left-radius: 4px;
			/* 左下角小尖角 */
		}
		
		/* Char (右): 稍深一点的磨砂*/
		.lt-float-bubble.them .float-content {
			background-color: rgba(0, 0, 0, 0.25);
			/* 使用你的主题薄荷绿 */
			backdrop-filter: blur(10px);
			border: 1px solid rgba(0, 0, 0, 0.3);
			border-bottom-right-radius: 4px;
			/* 右下角小尖角 */
		}
		
		/* 进场动画 */
		@keyframes float-pop-in {
			0% {
				transform: scale(0.8) translateY(10px);
				opacity: 0;
			}
			
			100% {
				transform: scale(1) translateY(0);
				opacity: 1;
			}
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 替换：一起听-历史记录列表样式 (V2 - 修复显示Bug) vvvvvvvv */
		
		/* 覆盖在黑胶/歌词之上的历史记录层 */
		#lt-history-view {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			
			/* 磨砂玻璃背景 */
			background: rgba(0, 0, 0, 0.6);
			backdrop-filter: blur(15px);
			-webkit-backdrop-filter: blur(15px);
			
			z-index: 30;
			/* 确保在最上层 */
			
			/* 【核心修复】使用 visibility 代替 display:none，确保动画生效且能正确隐藏 */
			visibility: hidden;
			opacity: 0;
			pointer-events: none;
			/* 隐藏时不阻挡点击 */
			
			display: flex;
			flex-direction: column;
			padding: 1rem;
			box-sizing: border-box;
			border-radius: 20px;
			
			/* 入场动画 */
			transition: opacity 0.3s ease, visibility 0.3s ease;
		}
		
		#lt-history-view.active {
			/* 【核心修复】激活时变为可见 */
			visibility: visible;
			opacity: 1;
			pointer-events: auto;
			/* 激活时允许点击 */
		}
		
		/* 历史记录标题 */
		.lt-history-title {
			color: rgba(255, 255, 255, 0.9);
			font-size: 0.9em;
			font-weight: 600;
			margin-bottom: 1rem;
			text-align: center;
			padding-bottom: 0.5rem;
			border-bottom: 1px solid rgba(255, 255, 255, 0.1);
		}
		
		/* 滚动列表容器 */
		#lt-history-list {
			flex-grow: 1;
			overflow-y: auto;
			padding-right: 0.5rem;
		}
		
		/* 单条历史记录 */
		.lt-history-item {
			margin-bottom: 0.8rem;
			display: flex;
			flex-direction: column;
			font-size: 0.85em;
			animation: fade-in 0.3s ease;
		}
		
		.lt-history-item.me {
			align-items: flex-end;
		}
		
		.lt-history-item.them {
			align-items: flex-start;
		}
		
		/* 名字和时间 */
		.lt-history-meta {
			font-size: 0.75em;
			color: rgba(255, 255, 255, 0.5);
			margin-bottom: 2px;
		}
		
		/* 气泡内容 */
		.lt-history-bubble {
			padding: 6px 12px;
			border-radius: 12px;
			max-width: 90%;
			word-break: break-word;
			line-height: 1.4;
		}
		
		.lt-history-item.me .lt-history-bubble {
			background-color: rgba(255, 255, 255, 0.15);
			color: #fff;
			border-bottom-right-radius: 2px;
		}
		
		.lt-history-item.them .lt-history-bubble {
			background-color: rgba(255, 255, 255, 0.9);
			color: #333;
			border-bottom-left-radius: 2px;
		}
		
		@keyframes fade-in {
			from {
				opacity: 0;
				transform: translateY(5px);
			}
			
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		/* 修复顶部栏：增加顶部内边距，避开灵动岛/状态栏 */
		.lt-header {
			flex-shrink: 0;
			display: flex;
			justify-content: space-between;
			align-items: center;
			color: var(--lt-text-secondary);
			padding: 3.5rem 1.5rem 0.5rem 1.5rem;
			z-index: 2;
			/* 保证文字在背景之上 */
		}
		
		.lt-header i {
			font-size: 1.2em;
			cursor: pointer;
		}
		
		.lt-song-info {
			text-align: center;
		}
		
		.lt-song-info h2 {
			margin: 0;
			font-size: 1em;
			/* 大幅缩小标题 */
			font-weight: 600;
			color: var(--lt-text-primary);
			/* 主标题用亮色 */
		}
		
		.lt-song-info p {
			margin: 0.1rem 0 0 0;
			font-size: 0.8em;
			/* 大幅缩小作者 */
		}
		
		/* vvvvvvvv 替换：头像区域样式 (修复重叠问题) vvvvvvvv */
		.lt-listeners-area {
			flex-shrink: 0;
			text-align: center;
			margin: 0.75rem 0;
		}
		
		.lt-avatars {
			display: flex;
			justify-content: center;
			margin-bottom: 0.75rem;
		}
		
		.lt-avatars img {
			width: 3.5rem;
			height: 3.5rem;
			border-radius: 50%;
			border: 2px solid var(--lt-bg);
		}
		
		/* 确保清除之前的负边距样式 */
		.lt-avatars img:last-child {
			margin-left: 0;
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		/* 核心修正：将黑胶唱片尺寸减小，为其父容器留出空间 */
		#lt-media-container {
			width: 14.5rem;
			height: 14.5rem;
			position: relative;
			cursor: pointer;
		}
		
		.lt-player-main {
			flex-grow: 1;
			display: flex;
			align-items: center;
			justify-content: center;
			position: relative;
			padding-bottom: 1.5rem;
			width: 100%;
			overflow: visible;
			min-height: 0;
			/* 防止 Flex 子项溢出 */
		}
		
		/* 中间舞台：作为点击触发器 */
		#lt-center-stage {
			width: 100%;
			height: 100%;
			position: relative;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		
		/* --- 模式A：黑胶视图 --- */
		#lt-vinyl-view {
			width: 18rem;
			height: 18rem;
			position: relative;
			display: flex;
			/* 默认显示 */
			align-items: center;
			justify-content: center;
			transition: opacity 0.4s ease;
		}
		
		/* 解决“奇怪的圈”：托盘只作为半透明黑色底座，大小严格控制 */
		.lt-vinyl-platter {
			width: 16rem;
			height: 16rem;
			background-color: rgba(255, 255, 255, 0.02);
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			border: 1px solid rgba(255, 255, 255, 0.1);
			/* 关键：去掉可能导致溢出的阴影 */
			box-shadow: 0 0 0 8px rgba(255, 255, 255, 0.02);
		}
		
		.lt-vinyl {
			width: 95%;
			height: 95%;
			border-radius: 50%;
			background-color: #1a1a1a;
			/* 纯黑胶体 */
			background-image: repeating-radial-gradient(#1a1a1a 0, #1a1a1a 2px, #2a2a2a 3px, #1a1a1a 4px);
			display: flex;
			align-items: center;
			justify-content: center;
			box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
			animation: spin 20s linear infinite;
			animation-play-state: paused;
			/* 默认暂停，播放时JS添加 .playing */
		}
		
		.lt-vinyl.playing {
			animation-play-state: running;
		}
		
		.lt-album-art {
			width: 65%;
			height: 65%;
			border-radius: 50%;
			background-image: var(--hub-album-art-bg-image);
			background-size: cover;
			background-position: center;
			border: 4px solid #111;
		}
		
		/* --- 模式B：歌词视图 --- */
		#lt-lyrics-view {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			display: flex;
			flex-direction: column;
			align-items: center;
			opacity: 0;
			/* 默认不可见 */
			pointer-events: none;
			/* 默认不可点击 */
			transition: opacity 0.4s ease;
			padding: 1rem 0;
		}
		
		/* 当父容器拥有 .show-lyrics 类时，切换显示状态 */
		#lt-center-stage.show-lyrics #lt-vinyl-view {
			opacity: 0;
			pointer-events: none;
		}
		
		#lt-center-stage.show-lyrics #lt-lyrics-view {
			opacity: 1;
			pointer-events: auto;
		}
		
		/* 歌词区域样式 */
		.lt-lyrics-scroll-area {
			width: 100%;
			height: 100%;
			overflow-y: scroll;
			text-align: center;
			/* 蒙版：上下渐隐 */
			-webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 15%, black 85%, transparent 100%);
			mask-image: linear-gradient(to bottom, transparent 0%, black 15%, black 85%, transparent 100%);
		}
		
		.lt-lyrics-scroll-area p {
			color: rgba(255, 255, 255, 0.5);
			margin: 1.2rem 0;
			font-size: 1rem;
			transition: all 0.3s;
			min-height: 1.2rem;
		}
		
		.lt-lyrics-scroll-area p.active {
			color: #fff;
			font-size: 1.2rem;
			font-weight: bold;
			text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
		}
		
		/* 音量条 (装饰用) */
		.lt-volume-bar-wrapper {
			width: 80%;
			display: flex;
			align-items: center;
			gap: 10px;
			color: #aaa;
			font-size: 0.8em;
			margin-bottom: 10px;
		}
		
		.lt-volume-track {
			flex-grow: 1;
			height: 3px;
			background: rgba(255, 255, 255, 0.2);
			border-radius: 2px;
		}
		
		.lt-volume-fill {
			height: 100%;
			background: #fff;
			border-radius: 2px;
		}
		
		@keyframes spin {
			from {
				transform: rotate(0deg);
			}
			
			to {
				transform: rotate(360deg);
			}
		}
		
		/* 歌词样式 */
		.lt-lyrics {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			display: flex;
			align-items: center;
			justify-content: center;
			text-align: center;
		}
		
		/* vvvvvvvv 替换：一起听底部栏样式 (V2 - 图标颜色统一) vvvvvvvv */
		
		/* 修复底部栏：增加左右和底部内边距 */
		.lt-footer {
			flex-shrink: 0;
			background: transparent;
			padding: 0 1.5rem 2rem 1.5rem;
			z-index: 2;
		}
		
		/* 第一排图标 (收藏/下载/评论/分享) */
		.lt-action-bar {
			display: flex;
			justify-content: space-around;
			align-items: center;
			font-size: 1.4em;
			/* [核心修改] 将颜色改为 primary (亮白)，不再使用 secondary (灰) */
			color: var(--lt-text-primary);
			margin-bottom: 1.25rem;
		}
		
		.lt-action-bar i {
			cursor: pointer;
		}
		
		/* 进度条区域 */
		.lt-progress-bar {
			display: flex;
			align-items: center;
			gap: 0.75rem;
			font-size: 0.7em;
			/* 进度条时间文字保持稍微淡一点，或者你也改成 primary */
			color: rgba(255, 255, 255, 0.8);
		}
		
		#lt-progress-slider {
			-webkit-appearance: none;
			width: 100%;
			height: 3px;
			background: rgba(255, 255, 255, 0.3);
			outline: none;
			opacity: 0.9;
			transition: opacity .2s;
			cursor: pointer;
		}
		
		#lt-progress-slider::-webkit-slider-thumb {
			-webkit-appearance: none;
			appearance: none;
			width: 12px;
			height: 12px;
			background: var(--lt-text-primary);
			cursor: pointer;
			border-radius: 50%;
		}
		
		/* 第二排图标 (播放控制) */
		.lt-controls {
			display: flex;
			justify-content: space-around;
			align-items: center;
			margin-top: 1rem;
			font-size: 1.8em;
			/* [核心修改] 确保这里也是使用 primary (亮白) */
			color: var(--lt-text-primary);
		}
		
		.lt-controls i {
			cursor: pointer;
		}
		
		.lt-controls .fa-pause-circle,
		.lt-controls .fa-play-circle {
			font-size: 1em;
			/* 播放键保持大号 */
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 替换：输入框居中修复 vvvvvvvv */
		#lt-input-overlay {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: 100;
			display: flex;
			justify-content: center;
			align-items: center;
			/* 核心：垂直居中 */
			padding-top: 0;
			/* 移除之前的顶部内边距 */
		}
		
		/* ^^^^^^^^^^ 替换代码到此结束 ^^^^^^^^^^ */
		
		.lt-input-backdrop {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.4);
			/* 半透明黑背景 */
			backdrop-filter: blur(2px);
			z-index: 1;
		}
		
		.lt-input-box {
			position: relative;
			z-index: 2;
			width: 80%;
			background: rgba(255, 255, 255, 0.2);
			backdrop-filter: blur(10px);
			border: 1px solid rgba(255, 255, 255, 0.3);
			border-radius: 30px;
			display: flex;
			padding: 0.5rem;
			box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
			animation: slide-down 0.3s ease-out;
		}
		
		#lt-chat-input {
			flex-grow: 1;
			background: transparent;
			border: none;
			color: white;
			padding: 0.5rem 1rem;
			font-size: 1rem;
			outline: none;
		}
		
		#lt-chat-input::placeholder {
			color: rgba(255, 255, 255, 0.6);
		}
		
		#lt-chat-send-btn {
			background: rgba(255, 255, 255, 0.9);
			border: none;
			border-radius: 50%;
			width: 2.5rem;
			height: 2.5rem;
			color: #333;
			cursor: pointer;
			display: flex;
			align-items: center;
			justify-content: center;
			transition: transform 0.2s;
		}
		
		#lt-chat-send-btn:active {
			transform: scale(0.9);
		}
		
		@keyframes slide-down {
			from {
				transform: translateY(-20px);
				opacity: 0;
			}
			
			to {
				transform: translateY(0);
				opacity: 1;
			}
		}
		
		/* ^^^^^^^^^^ 新增代码到此结束 ^^^^^^^^^^ */
		
		/* vvvvvvvv 新增：一起听-全局歌单UI样式 (V1) vvvvvvvv */
		#lt-playlist-overlay {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: 60;
			background: rgba(0, 0, 0, 0.7);
			backdrop-filter: blur(15px);
			-webkit-backdrop-filter: blur(15px);
			display: none;
			flex-direction: column;
			padding: 3.5rem 1rem 1.5rem 1rem;
			box-sizing: border-box;
			transition: opacity 0.3s ease;
		}
		
		/* 2. 顶部标题栏 */
		.lt-playlist-header {
			flex-shrink: 0;
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding-bottom: 1rem;
			border-bottom: 1px solid rgba(255, 255, 255, 0.1);
			margin-bottom: 0.5rem;
			color: var(--lt-text-primary);
		}
		
		.lt-playlist-title {
			font-size: 1.1em;
			font-weight: 600;
			display: flex;
			align-items: center;
			gap: 0.5rem;
		}
		
		/* 3. 歌曲列表滚动容器 */
		#lt-playlist-container {
			flex-grow: 1;
			overflow-y: auto;
			padding-right: 0.5rem;
		}
		
		/* 4. 单个歌曲项 */
		.lt-playlist-item {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 0.8rem 0.5rem;
			border-bottom: 1px solid rgba(255, 255, 255, 0.05);
			cursor: pointer;
			transition: background-color 0.2s;
			border-radius: 8px;
		}
		
		.lt-playlist-item:hover {
			background-color: rgba(255, 255, 255, 0.1);
		}
		
		/* 当前播放的歌曲高亮 */
		.lt-playlist-item.active {
			background-color: rgba(255, 255, 255, 0.15);
		}
		
		.lt-playlist-item.active .song-title {
			color: var(--wechat-green-icon);
			/* 使用主题绿高亮 */
			font-weight: bold;
		}
		
		/* 歌曲信息区 */
		.lt-playlist-info {
			flex-grow: 1;
			overflow: hidden;
			margin-right: 1rem;
		}
		
		.lt-playlist-info .song-title {
			font-size: 0.95em;
			color: var(--lt-text-primary);
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			margin-bottom: 0.2rem;
		}
		
		.lt-playlist-info .song-artist {
			font-size: 0.8em;
			color: var(--lt-text-secondary);
		}
		
		/* 删除按钮 */
		.lt-playlist-delete-btn {
			padding: 0.5rem;
			color: var(--lt-text-secondary);
			transition: color 0.2s;
			cursor: pointer;
		}
		
		.lt-playlist-delete-btn:hover {
			color: #E14438;
			/* 红色 */
		}
		
		/* 底部操作栏（添加按钮） */
		.lt-playlist-footer {
			flex-shrink: 0;
			padding-top: 1rem;
			display: flex;
			justify-content: center;
		}
		
		.lt-add-current-btn {
			background-color: rgba(255, 255, 255, 0.1);
			border: 1px solid rgba(255, 255, 255, 0.2);
			color: var(--lt-text-primary);
			padding: 0.6rem 1.2rem;
			border-radius: 20px;
			font-size: 0.9em;
			cursor: pointer;
			display: flex;
			align-items: center;
			gap: 0.5rem;
			transition: all 0.2s;
		}
		
		.lt-add-current-btn:hover {
			background-color: rgba(255, 255, 255, 0.2);
		}
		
		/* ^^^^^^^^^^ 新增代码到此结束 ^^^^^^^^^^ */
		/* --- NovelAI 设置组件样式 --- */
		.toggle-switch {
			position: relative;
			display: inline-block;
			width: 50px;
			height: 28px;
			flex-shrink: 0;
			/* 防止被挤压 */
		}
		
		.toggle-switch input {
			opacity: 0;
			width: 0;
			height: 0;
		}
		
		.slider {
			position: absolute;
			cursor: pointer;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background-color: #ccc;
			transition: .4s;
			border-radius: 34px;
		}
		
		.slider:before {
			position: absolute;
			content: "";
			height: 22px;
			width: 22px;
			left: 3px;
			bottom: 3px;
			background-color: white;
			transition: .4s;
			border-radius: 50%;
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
		}
		
		input:checked+.slider {
			background-color: var(--wechat-green-icon);
			/* 使用主题绿色 */
		}
		
		input:checked+.slider:before {
			transform: translateX(22px);
		}
		
		/* NAI 输入框与下拉菜单美化 */
		.nai-input,
		.nai-select {
			width: 100%;
			padding: 0.6rem;
			border: 1px solid var(--border-color);
			border-radius: 0.5rem;
			background-color: var(--input-field-bg);
			color: var(--text-color-primary);
			font-family: inherit;
			font-size: 0.9em;
			box-sizing: border-box;
			/* 确保不撑破容器 */
			margin-bottom: 0.5rem;
		}
		
		.nai-input:focus,
		.nai-select:focus {
			outline: none;
			border-color: var(--wechat-green-icon);
		}
		
		.nai-label {
			display: block;
			font-size: 0.85em;
			color: var(--text-color-secondary);
			margin-bottom: 0.3rem;
			font-weight: 500;
		}
		
		/* --- NovelAI 生成图片的专用样式 --- */
		.nai-generated-image {
			cursor: pointer;
			/* 鼠标悬停显示手型 */
			transition: filter 0.2s;
		}
		
		.nai-generated-image:hover {
			filter: brightness(0.9);
			/* 悬停微暗，提示交互 */
		}
		
		/* 加载动画占位符 */
		.nai-loading-placeholder {
			display: inline-flex;
			align-items: center;
			justify-content: center;
			color: var(--wechat-green-icon);
			background: rgba(0, 0, 0, 0.05);
			padding: 1rem;
			border-radius: 0.5rem;
			font-size: 0.9em;
			gap: 0.5rem;
		}
		
		/* --- 图片查看器 (Lightbox) --- */
		.image-viewer-modal {
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: rgba(0, 0, 0, 0.95);
			z-index: 10000;
			/* 保证在最顶层 */
			align-items: center;
			justify-content: center;
			flex-direction: column;
			opacity: 0;
			transition: opacity 0.2s ease;
		}
		
		.image-viewer-modal.active {
			opacity: 1;
		}
		
		.image-viewer-img {
			max-width: 100%;
			max-height: 90vh;
			object-fit: contain;
			border-radius: 4px;
			box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
			transform: scale(0.9);
			transition: transform 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
		}
		
		.image-viewer-modal.active .image-viewer-img {
			transform: scale(1);
		}
		
		.image-viewer-tip {
			color: rgba(255, 255, 255, 0.6);
			margin-top: 1rem;
			font-size: 0.9em;
		}
		
		/* --- 查手机功能专属样式 --- */
		.check-phone-body {
			flex-grow: 1;
			overflow-y: auto;
			background-color: var(--view-bg-primary);
			padding: 2rem 1rem;
		}
		
		.check-phone-grid {
			display: grid;
			grid-template-columns: repeat(3, 1fr);
			column-gap: 1rem;
			row-gap: 1.5rem;
		}
		
		.cp-app-item {
			display: flex;
			flex-direction: column;
			align-items: center;
			cursor: pointer;
			text-align: center;
		}
		
		.cp-app-icon {
			width: 3.5rem;
			height: 3.5rem;
			border-radius: 0.8rem;
			display: flex;
			justify-content: center;
			align-items: center;
			color: white;
			font-size: 1.6rem;
			margin-bottom: 0.4rem;
			box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
			transition: transform 0.2s ease, filter 0.2s ease;
		}
		
		.cp-app-item:hover .cp-app-icon {
			transform: scale(1.05);
			filter: brightness(1.1);
		}
		
		.cp-app-name {
			font-size: 0.75rem;
			color: var(--text-color-primary);
			font-weight: 500;
		}
		
		.icon-cp-gallery {
			background: linear-gradient(135deg, #FF9A9E 0%, #FECFEF 100%);
		}
		
		.icon-cp-footprints {
			background: linear-gradient(135deg, #56AB2F 0%, #A8E063 100%);
		}
		
		.icon-cp-shopping {
			background: linear-gradient(135deg, #FF9966 0%, #FF5E62 100%);
		}
		
		/* --- 足迹 APP 专属样式 (主题适配版) --- */
		
		/* 1. 地图头部 */
		.fp-map-header {
			height: 40%;
			width: 100%;
			position: relative;
			background-color: var(--view-bg-primary);
			overflow: hidden;
			flex-shrink: 0;
			/* 纹理保持不变 */
			background-image: repeating-linear-gradient(45deg, #c8c6c3 0, #c8c6c3 4px, transparent 4px, transparent 8px), repeating-linear-gradient(135deg, #d1cfcc 0, #d1cfcc 3px, transparent 3px, transparent 7px), linear-gradient(to bottom, #b8b6b3 0%, #b8b6b3 100%), linear-gradient(to bottom, #dcdad7 0%, #dcdad7 100%), linear-gradient(to right, #b8b6b3 0%, #b8b6b3 100%), linear-gradient(to right, #dcdad7 0%, #dcdad7 100%);
			background-size: 40% 35%, 30% 30%, 10px 100%, 6px 100%, 100% 10px, 100% 6px;
			background-position: -5% 110%, 100% 0%, 70% center, 70% center, center 35%, center 35%;
			background-repeat: no-repeat;
			border-bottom: 1px solid var(--divider-color-primary);
		}
		
		/* 标记点样式 */
		.fp-map-marker {
			position: absolute;
			font-size: 2rem;
			color: #99ada6;
			/* 标记点颜色保持红色 */
			cursor: pointer;
			z-index: 5;
			display: flex;
			flex-direction: column;
			align-items: center;
			transition: color 0.2s ease;
		}
		
		.fp-map-marker.active {
			color: #56AB2F;
			/* 激活变为绿色 */
			z-index: 20;
		}
		
		/* --- 足迹 APP 实时位置坐标样式 --- */
		.fp-realtime-marker {
			position: absolute;
			top: 70%;
			left: 50%;
			transform: translate(-50%, -60%);
			/* 稍微往上提一点，让针尖对准中心 */
			display: flex;
			flex-direction: column;
			align-items: center;
			z-index: 10;
			/* 保证在最上层 */
			pointer-events: none;
			/* 让它不影响点击下面的地图 */
		}
		
		/* 红色选中圈圈 (椭圆光环) */
		.fp-realtime-ring {
			position: absolute;
			top: 28px;
			width: 24px;
			height: 10px;
			border: 2px solid #E14438;
			/* 红色边框 */
			border-radius: 50%;
			/* 椭圆 */
			background-color: rgba(225, 68, 56, 0.15);
			box-shadow: 0 0 4px #E14438, inset 0 0 4px #E14438;
			z-index: -1;
			animation: fp-pulse 2s infinite;
		}
		
		/* 红色大坐标图标 */
		.fp-realtime-icon {
			font-size: 2.4rem;
			color: #E14438;
			filter: drop-shadow(0 2px 3px rgba(0, 0, 0, 0.3));
			margin-bottom: 2px;
		}
		
		/* 实时位置文字标签 */
		.fp-realtime-label {
			background: rgba(255, 255, 255, 0.95);
			padding: 2px 8px;
			border-radius: 10px;
			font-size: 0.8rem;
			font-weight: bold;
			color: #E14438;
			border: 1px solid rgba(225, 68, 56, 0.3);
			box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
			white-space: nowrap;
			margin-top: 12px;
		}
		
		/* 呼吸动画 */
		@keyframes fp-pulse {
			0% {
				transform: scale(0.9);
				opacity: 0.7;
			}
			
			50% {
				transform: scale(1.1);
				opacity: 1;
			}
			
			100% {
				transform: scale(0.9);
				opacity: 0.7;
			}
		}
		
		/* 气泡样式 (固定位置、大小、滚动) */
		.fp-map-popup {
			position: absolute;
			top: 100%;
			left: 50%;
			transform: translateX(-50%);
			margin-top: 10px;
			width: 120px;
			height: 80px;
			overflow: visible;
			/* 允许小三角显示 */
			display: flex;
			flex-direction: column;
			
			/* [颜色适配] */
			background-color: var(--card-bg-primary);
			border: 1px solid var(--divider-color-primary);
			color: var(--text-color-primary);
			
			padding: 0.5rem;
			border-radius: 6px;
			box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
			font-size: 0.8rem;
			line-height: 1.4;
			text-align: left;
			opacity: 0;
			pointer-events: none;
			transition: opacity 0.2s ease;
			z-index: 30;
		}
		
		/* 气泡小三角 */
		.fp-map-popup::after {
			content: '';
			position: absolute;
			bottom: 100%;
			left: 50%;
			margin-left: -6px;
			border-width: 6px;
			border-style: solid;
			/* [颜色适配] 跟随卡片背景 */
			border-color: transparent transparent var(--card-bg-primary) transparent;
		}
		
		.fp-map-marker.active .fp-map-popup {
			opacity: 1;
			pointer-events: auto;
		}
		
		/* 气泡内部文字滚动层 */
		.fp-map-popup>div:last-child {
			overflow-y: auto;
			flex-grow: 1;
			scrollbar-width: none;
		}
		
		.fp-map-popup>div:last-child::-webkit-scrollbar {
			display: none;
		}
		
		/* 地点名称样式 */
		.fp-popup-location {
			font-weight: bold;
			color: #56AB2F;
			font-size: 0.8rem;
			margin-bottom: 0.2rem;
			display: block;
			/* [颜色适配] */
			border-bottom: 1px dashed var(--divider-color-primary);
			padding-bottom: 2px;
		}
		
		/* 2. 列表区域 */
		.fp-list-body {
			flex-grow: 1;
			background-color: var(--view-bg-primary);
			overflow-y: auto;
			padding: 1rem 0.8rem;
			display: flex;
			flex-direction: column;
			gap: 0;
			scrollbar-width: none;
			-ms-overflow-style: none;
		}
		
		.fp-list-body::-webkit-scrollbar {
			display: none;
		}
		
		/* 3. 足迹主卡片 */
		.fp-card {
			/* [颜色适配] 使用卡片/按钮背景 */
			background-color: var(--card-bg-primary);
			border-radius: 12px;
			padding: 1rem;
			display: flex;
			align-items: flex-start;
			position: relative;
			/* [颜色适配] 阴影使用通用变量 */
			box-shadow: 0 1px 3px var(--card-shadow-primary);
			z-index: 2;
		}
		
		/* 左侧绿色图标 */
		.fp-icon-circle {
			width: 2.8rem;
			height: 2.8rem;
			background: #56AB2F;
			border-radius: 50%;
			display: flex;
			justify-content: center;
			align-items: center;
			color: white;
			font-size: 1.2rem;
			flex-shrink: 0;
			margin-right: 0.8rem;
		}
		
		/* 黄色图标 (交通/移动) */
		.fp-icon-circle.transport {
			background: #FF9500;
		}
		
		/* 绿色图标 (停留/居住) */
		.fp-icon-circle.stay {
			background: #99ada6;
		}
		
		/* 详情区 */
		.fp-info {
			flex-grow: 1;
		}
		
		.fp-title {
			font-size: 1rem;
			font-weight: 600;
			/* [颜色适配] 一级文字 */
			color: var(--text-color-primary);
			margin-bottom: 0.2rem;
		}
		
		.fp-location {
			font-size: 0.9em;
			/* [颜色适配] 二级文字 */
			color: var(--text-color-secondary);
			margin-bottom: 0.2rem;
		}
		
		.fp-time {
			font-size: 0.8em;
			/* [颜色适配] 三级文字 */
			color: var(--text-color-tertiary);
		}
		
		.fp-duration {
			position: absolute;
			top: 1rem;
			right: 1rem;
			font-size: 0.8em;
			/* [颜色适配] 三级文字 */
			color: var(--text-color-tertiary);
		}
		
		/* 4. 连接线区域 */
		.fp-connector {
			display: flex;
			margin-left: 2.2rem;
			padding: 0.8rem 0 0.8rem 1.5rem;
			/* [颜色适配] 连接线颜色 */
			border-left: 2px dashed var(--panel-icon-color);
			/* [颜色适配] 三级文字 */
			color: var(--text-color-tertiary);
			font-size: 0.8em;
			align-items: center;
			gap: 0.5rem;
		}
		
		.fp-connector:last-child {
			border-left: none;
		}
		
		/* --- 相册 APP 专属样式 --- */
		
		.gallery-body {
			flex-grow: 1;
			overflow-y: auto;
			background-color: var(--view-bg-primary);
			/* 跟随主题背景 */
			padding: 1rem;
		}
		
		.gallery-section-header {
			display: flex;
			justify-content: space-between;
			align-items: flex-end;
			margin-bottom: 0.8rem;
			padding: 0 0.2rem;
			font-weight: 600;
			font-size: 1.1em;
			color: var(--text-color-primary);
		}
		
		.gallery-section-header .count {
			font-size: 0.8em;
			color: var(--text-color-tertiary);
			font-weight: normal;
		}
		
		/* 1. 照片网格布局 */
		.gallery-grid {
			display: grid;
			grid-template-columns: 1fr 1fr;
			/* 两列 */
			gap: 0.8rem;
			/* 卡片间距 */
			margin-bottom: 1.5rem;
		}
		
		/* 2. 单个照片卡片 (拍立得风格) */
		.gallery-card {
			background-color: var(--card-bg-primary);
			border-radius: 12px;
			/* 大圆角 */
			overflow: hidden;
			/* 裁剪图片圆角 */
			box-shadow: 0 2px 8px var(--card-shadow-primary);
			display: flex;
			flex-direction: column;
			transition: transform 0.2s ease;
			cursor: pointer;
			border: 1px solid var(--divider-color-primary);
		}
		
		.gallery-card:hover {
			transform: translateY(-2px);
		}
		
		/* 上方正方形图片容器 */
		.gallery-img-box {
			width: 100%;
			aspect-ratio: 1 / 1;
			/* 强制正方形 */
			position: relative;
			background-color: #e0e0e0;
		}
		
		.gallery-img-box img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			display: block;
		}
		
		/* 下方碎碎念区域 */
		.gallery-caption-box {
			padding: 0.6rem;
			/* 背景色稍微深一点点，以此区分图片和文字区，形成一体感 */
			background-color: var(--list-item-pinned-bg);
			flex-grow: 1;
			display: flex;
			flex-direction: column;
			justify-content: center;
		}
		
		.gallery-caption {
			font-size: 0.75em;
			color: var(--text-color-secondary);
			line-height: 1.4;
			/* 限制显示2行，超出省略 */
			display: -webkit-box;
			-webkit-line-clamp: 2;
			-webkit-box-orient: vertical;
			overflow: hidden;
			text-overflow: ellipsis;
			font-family: inherit;
		}
		
		.gallery-date {
			font-size: 0.65em;
			color: var(--text-color-tertiary);
			margin-top: 0.3rem;
			text-align: right;
		}
		
		/* 分割线 */
		.gallery-divider {
			height: 1px;
			background-color: var(--divider-color-primary);
			margin: 0.2rem 0;
		}
		
		/* 3. 底部文件夹列表 */
		.gallery-folder-list {
			display: flex;
			flex-direction: column;
			gap: 0.8rem;
		}
		
		.gallery-folder-item {
			display: flex;
			align-items: center;
			background-color: var(--card-bg-primary);
			padding: 0.8rem;
			border-radius: 12px;
			cursor: pointer;
			transition: background-color 0.2s;
		}
		
		.gallery-folder-item:hover {
			background-color: var(--list-item-hover-bg);
		}
		
		.folder-icon-box {
			width: 2.5rem;
			height: 2.5rem;
			border-radius: 8px;
			background-color: rgba(128, 128, 128, 0.1);
			display: flex;
			align-items: center;
			justify-content: center;
			margin-right: 1rem;
			color: var(--text-color-secondary);
		}
		
		.folder-icon-box.delete-style {
			color: var(--danger-text-color);
			background-color: rgba(229, 57, 53, 0.1);
		}
		
		.folder-info {
			flex-grow: 1;
		}
		
		.folder-name {
			font-size: 1em;
			font-weight: 500;
			color: var(--text-color-primary);
		}
		
		.folder-count {
			font-size: 0.8em;
			color: var(--text-color-tertiary);
		}
		
		.gallery-folder-item .arrow {
			color: var(--text-color-tertiary);
			font-size: 0.9em;
		}
		
		/* --- 加密空间 (Hidden Album) 专属样式 --- */
		#cp-hidden-album-view {
			/* 强制暗黑背景，营造私密暗房氛围 */
			background: linear-gradient(135deg, #1a1a1d 0%, #2c3e50 100%);
			color: #e0e0e0;
			border-radius: 0 !important;
		}
		
		.hidden-album-body {
			flex-grow: 1;
			overflow-y: auto;
			padding: 1.5rem 1rem;
			display: flex;
			flex-direction: column;
			gap: 2rem;
			/* 卡片之间的距离大一点 */
		}
		
		/* 巨大的横屏卡片 */
		.hidden-card {
			background-color: rgba(255, 255, 255, 0.05);
			/* 极淡的玻璃底 */
			border: 1px solid rgba(255, 255, 255, 0.1);
			border-radius: 12px;
			overflow: hidden;
			backdrop-filter: blur(10px);
			box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
			transition: transform 0.3s ease;
		}
		
		/* 16:9 横屏图片容器 */
		.hidden-img-box {
			width: 100%;
			aspect-ratio: 16 / 9;
			/* 强制电影感比例 */
			background-color: #000;
			position: relative;
			cursor: pointer;
		}
		
		.hidden-img-box img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			display: block;
		}
		
		.hidden-text-box {
			padding: 1rem 1.2rem;
			font-size: 0.8em;
			line-height: 1.6;
			color: rgba(255, 255, 255, 0.85);
			text-align: justify;
			white-space: pre-line;
			word-wrap: break-word;
			overflow-wrap: break-word;
			max-height: 3.2em;
			overflow-y: auto;
			scrollbar-width: none;
			-ms-overflow-style: none;
		}
		
		.hidden-text-box::-webkit-scrollbar {
			display: none;
		}
		
		/* --- 新增：用于图片未生成时的文字占位容器 --- */
		.hidden-placeholder-content {
			width: 100%;
			height: 100%;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			padding: 1.5rem;
			/* 增加内边距，防止文字贴边 */
			box-sizing: border-box;
			background: rgba(0, 0, 0, 0.4);
			/* 加深一点背景，突出文字 */
			cursor: pointer;
		}
		
		/* --- 新增：占位符描述文字（限制3行） --- */
		.hidden-placeholder-desc {
			color: rgba(255, 255, 255, 0.6);
			font-size: 0.85em;
			line-height: 1.5;
			text-align: center;
			/* 核心：限制显示3行，超出省略 */
			display: -webkit-box;
			-webkit-line-clamp: 2;
			-webkit-box-orient: vertical;
			overflow: hidden;
			text-overflow: ellipsis;
			margin-bottom: 0.8rem;
		}
		
		/* --- 新增：点击查看全文的提示 --- */
		.hidden-placeholder-hint {
			font-size: 0.75em;
			color: var(--wechat-green-icon);
			/* 使用主题绿，或者用白色 */
			opacity: 0.9;
			border: 1px solid var(--wechat-green-icon);
			padding: 2px 8px;
			border-radius: 10px;
		}
		
		.hidden-date {
			padding: 0.5rem 1.2rem 1.5rem 1.2rem;
			text-align: right;
			font-size: 0.75em;
			color: rgba(255, 255, 255, 0.4);
			font-style: italic;
		}
		
		/* --- 最近删除 (Trash Bin) 专属样式 --- */
		.trash-bin-body {
			flex-grow: 1;
			overflow-y: auto;
			padding: 1rem;
			background-color: var(--view-bg-primary);
			/* 跟随系统 */
		}
		
		.trash-intro {
			font-size: 0.8em;
			color: var(--text-color-tertiary);
			text-align: center;
			margin-bottom: 1.5rem;
			line-height: 1.5;
		}
		
		/* 删除项卡片 */
		.trash-item {
			display: flex;
			gap: 0.8rem;
			margin-bottom: 1rem;
			background-color: var(--card-bg-primary);
			padding: 0.8rem;
			border-radius: 10px;
			opacity: 0.8;
			/* 整体稍微半透明，表示“废弃” */
			transition: opacity 0.2s;
			position: relative;
			border: 1px dashed var(--divider-color-primary);
			/* 虚线边框 */
		}
		
		.trash-item:hover {
			opacity: 1;
		}
		
		.trash-thumb {
			width: 4rem;
			height: 4rem;
			border-radius: 6px;
			object-fit: cover;
			background-color: #eee;
			filter: grayscale(80%);
			/* 缩略图黑白，强化“过去”的感觉 */
			flex-shrink: 0;
		}
		
		.trash-content {
			flex-grow: 1;
			display: flex;
			flex-direction: column;
			justify-content: space-between;
			min-width: 0;
			/* 防止文字溢出 */
		}
		
		.trash-reason {
			font-size: 0.85em;
			color: var(--text-color-secondary);
			font-style: italic;
			margin-bottom: 0.3rem;
		}
		
		.trash-text-preview {
			font-size: 0.75em;
			color: var(--text-color-tertiary);
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}
		
		.trash-meta {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-top: 0.5rem;
		}
		
		.trash-countdown {
			font-size: 0.7em;
			color: var(--danger-text-color);
			background: rgba(229, 57, 53, 0.1);
			padding: 2px 6px;
			border-radius: 4px;
		}
		
		.trash-recover-btn {
			font-size: 0.8em;
			color: var(--wechat-green-icon);
			cursor: pointer;
			font-weight: 500;
		}
		
		/* --- 购物车 APP 专属样式 --- */
		
		/* 淘宝风变量定义 */
		:root {
			--tb-bg-color: #F2F2F2;
			--tb-card-bg: #FFFFFF;
			--tb-primary-orange: #FF5000;
			--tb-price-red: #FF0036;
			--tb-text-main: #333333;
			--tb-text-sub: #999999;
			--tb-tag-bg: #FFF1EB;
			--tb-tag-text: #FF5000;
		}
		
		/* 1. 购物车主视图容器 */
		#cp-shopping-view {
			background-color: var(--view-bg-primary) !important;
			position: relative;
			display: flex;
			flex-direction: column;
			height: 100%;
			overflow: hidden;
		}
		
		/* 顶部导航栏微调 */
		#cp-shopping-view .settings-header {
			background-color: var(--tb-bg-color);
			/* 顶部背景也是灰色 */
			border-bottom: none;
			padding-top: 3.5rem;
		}
		
		/* 2. 购物车内容滚动区 */
		/* [修改] 增加隐藏滚动条的样式 */
		.shopping-body,
		.tb-home-body {
			/* 顺便把淘宝首页的滚动条也隐藏了 */
			-ms-overflow-style: none;
			/* IE and Edge */
			scrollbar-width: none;
			/* Firefox */
		}
		
		.shopping-body::-webkit-scrollbar,
		.tb-home-body::-webkit-scrollbar {
			display: none;
			/* Chrome, Safari, Opera */
		}
		
		#cp-shopping-view .title {
			font-weight: bold;
			font-size: 1.1em;
		}
		
		#cp-shopping-manage-btn {
			font-size: 0.9em;
			color: var(--tb-text-main);
			cursor: pointer;
			font-weight: 500;
		}
		
		/* 2. 购物车内容滚动区 */
		.shopping-body {
			flex-grow: 1;
			overflow-y: auto;
			padding: 0.5rem 0.75rem;
			padding-bottom: 8rem !important;
			display: flex;
			flex-direction: column;
			gap: 0.75rem;
		}
		
		.sp-shop-card {
			background-color: var(--tb-card-bg);
			border-radius: 12px;
			padding: 0.75rem;
			display: flex;
			flex-direction: column;
			gap: 1rem;
		}
		
		/* 店铺头部 */
		.sp-shop-header {
			display: flex;
			align-items: center;
			gap: 0.5rem;
		}
		
		.sp-checkbox {
			width: 1.2rem;
			height: 1.2rem;
			border-radius: 50%;
			border: 1px solid #ccc;
			background-color: transparent;
			appearance: none;
			-webkit-appearance: none;
			flex-shrink: 0;
			position: relative;
		}
		
		.sp-checkbox:checked {
			background-color: var(--tb-primary-orange);
			border-color: var(--tb-primary-orange);
		}
		
		.sp-checkbox:checked::after {
			content: '✓';
			color: white;
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			font-size: 0.8rem;
		}
		
		.sp-shop-icon {
			font-size: 1em;
		}
		
		/* 天猫红图标 */
		.sp-shop-icon.tmall {
			color: var(--tb-price-red);
		}
		
		/* 淘宝橙图标 */
		.sp-shop-icon.taobao {
			color: var(--tb-primary-orange);
		}
		
		.sp-shop-name {
			font-weight: 600;
			font-size: 0.95em;
			color: var(--tb-text-main);
			display: flex;
			align-items: center;
			gap: 0.2rem;
		}
		
		/* --- 商品条目 --- */
		.sp-item {
			display: flex;
			gap: 0.75rem;
			align-items: flex-start;
		}
		
		.sp-item-thumb {
			width: 6rem;
			height: 6rem;
			border-radius: 8px;
			object-fit: cover;
			background-color: #f0f0f0;
			flex-shrink: 0;
		}
		
		.sp-item-details {
			flex-grow: 1;
			display: flex;
			flex-direction: column;
			justify-content: space-between;
			min-height: 6rem;
			min-width: 0;
		}
		
		/* 商品标题 (限制2行) */
		.sp-item-title {
			font-size: 0.85em;
			color: var(--tb-text-main);
			line-height: 1.4;
			display: -webkit-box;
			-webkit-line-clamp: 2;
			-webkit-box-orient: vertical;
			overflow: hidden;
			margin-bottom: 0.3rem;
		}
		
		/* 【趣味点】内心独白标签 (替代原本的SKU选框) */
		.sp-item-monologue {
			background-color: #F7F8FA;
			color: var(--tb-text-sub);
			font-size: 0.75em;
			padding: 0.2rem 0.4rem;
			border-radius: 4px;
			display: inline-block;
			margin-bottom: 0.3rem;
			max-width: 100%;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			position: relative;
		}
		
		/* 给内心独白加个小下拉箭头装饰，看起来像SKU选择器 */
		.sp-item-monologue::after {
			content: '▼';
			font-size: 0.6em;
			margin-left: 4px;
			opacity: 0.5;
		}
		
		/* --- 购物车交互优化 --- */
		.sp-item-monologue {
			cursor: pointer;
			transition: background-color 0.2s;
		}
		
		.sp-item-monologue:hover {
			background-color: #eee;
			color: var(--tb-primary-orange);
		}
		
		/* --- 新增：支付回执卡片 (聊天气泡内) --- */
		.payment-receipt-card {
			background-color: #FFFFFF;
			border-radius: 8px;
			overflow: hidden;
			width: 14rem;
			box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
			border: 1px solid #eee;
		}
		
		.receipt-header {
			background-color: #FF5000;
			color: white;
			padding: 0.8rem 1rem;
			font-size: 0.95em;
			font-weight: 600;
			display: flex;
			align-items: center;
			gap: 0.5rem;
		}
		
		.receipt-body {
			padding: 1rem;
		}
		
		.receipt-amount {
			text-align: center;
			font-size: 1.8em;
			font-weight: bold;
			color: #333;
			margin-bottom: 0.2rem;
		}
		
		.receipt-label {
			text-align: center;
			font-size: 0.8em;
			color: #999;
			margin-bottom: 1rem;
		}
		
		.receipt-divider {
			border-top: 1px dashed #eee;
			margin: 0.8rem 0;
		}
		
		.receipt-row {
			display: flex;
			justify-content: space-between;
			font-size: 0.85em;
			color: #666;
			margin-bottom: 0.4rem;
			line-height: 1.4;
		}
		
		.receipt-row.highlight {
			color: #333;
			font-weight: 500;
		}
		
		.receipt-footer {
			padding: 0.6rem 1rem;
			background-color: #f9f9f9;
			font-size: 0.8em;
			color: #999;
			border-top: 1px solid #eee;
			display: flex;
			justify-content: space-between;
			align-items: center;
		}
		
		/* 【趣味点】动机标签 (替代原本的营销标签) */
		.sp-item-reason {
			color: var(--tb-primary-orange);
			font-size: 0.75em;
			border: 1px solid rgba(255, 80, 0, 0.3);
			padding: 0 0.2rem;
			border-radius: 2px;
			display: inline-block;
			margin-right: auto;
			margin-bottom: 0.3rem;
		}
		
		/* 价格行 */
		.sp-price-row {
			display: flex;
			justify-content: space-between;
			align-items: flex-end;
		}
		
		.sp-price {
			color: var(--tb-price-red);
			font-weight: bold;
			font-size: 1.1em;
		}
		
		.sp-price::before {
			content: '¥';
			font-size: 0.7em;
			margin-right: 1px;
		}
		
		.sp-quantity {
			border: 1px solid #ddd;
			border-radius: 4px;
			display: flex;
			align-items: center;
			font-size: 0.9em;
			color: var(--tb-text-main);
		}
		
		.sp-qty-btn {
			padding: 0 6px;
			color: var(--tb-text-sub);
			cursor: pointer;
		}
		
		.sp-qty-num {
			padding: 0 6px;
			border-left: 1px solid #ddd;
			border-right: 1px solid #ddd;
			min-width: 1.2rem;
			text-align: center;
		}
		
		/* 3. 底部结算栏 (Settlement Bar) */
		.sp-footer {
			position: absolute;
			bottom: 3rem;
			left: 0;
			right: 0;
			height: 3.5rem;
			background-color: var(--card-bg-primary);
			border-top: 1px solid var(--divider-color-primary);
			border-bottom: 1px solid var(--divider-color-primary);
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 0 0.75rem;
			z-index: 20;
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}
		
		#cp-shopping-view .tb-footer-nav {
			position: absolute;
			bottom: 0;
			left: 0;
			right: 0;
			height: 3rem;
			background-color: var(--card-bg-primary);
			border-top: none;
			z-index: 10;
			display: flex;
			justify-content: space-around;
			align-items: center;
		}
		
		.sp-footer-left {
			display: flex;
			align-items: center;
			gap: 0.5rem;
			font-size: 0.9em;
			color: var(--tb-text-sub);
		}
		
		.sp-footer-right {
			display: flex;
			align-items: center;
			gap: 0.8rem;
		}
		
		.sp-total-price {
			font-size: 0.9em;
			color: var(--tb-text-main);
		}
		
		.sp-total-price span {
			color: var(--tb-primary-orange);
			font-weight: bold;
			font-size: 1.1em;
		}
		
		.sp-checkout-btn {
			background: linear-gradient(90deg, #FF9000 0%, #FF5000 100%);
			color: white;
			border: none;
			border-radius: 20px;
			padding: 0.5rem 1.2rem;
			font-size: 0.95em;
			font-weight: bold;
			cursor: pointer;
			box-shadow: 0 2px 6px rgba(255, 80, 0, 0.3);
		}
		
		.sp-checkout-btn:active {
			opacity: 0.9;
			transform: scale(0.98);
		}
		
		/* --- 新增：商品图片占位符（无图模式/文本模式） --- */
		.sp-text-placeholder {
			width: 100%;
			height: 100%;
			background-color: #f5f5f5;
			color: #666;
			font-size: 0.75rem;
			display: flex;
			align-items: center;
			justify-content: center;
			text-align: center;
			padding: 0.25rem;
			box-sizing: border-box;
			overflow: hidden;
			cursor: pointer;
			line-height: 1.2;
			border: 1px solid #e0e0e0;
		}
		
		.sp-text-placeholder:hover {
			background-color: #e8e8e8;
		}
		
		/* --- 淘宝首页 (Shopping Home) 专属样式 --- */
		
		/* 淘宝橙色变量 */
		:root {
			--tb-orange-gradient: linear-gradient(90deg, #FF9000 0%, #FF5000 100%);
			--tb-bg-gray: #F4F4F4;
			--tb-border-radius: 12px;
		}
		
		#cp-shopping-home-view {
			background-color: var(--tb-bg-gray);
			display: flex;
			flex-direction: column;
		}
		
		/* 1. 顶部搜索区 */
		.tb-home-header {
			background-color: var(--view-bg-secondary);
			/* 跟随主题白/黑 */
			padding: 0.5rem 0.75rem;
			padding-top: 3rem;
			/* 避开灵动岛 */
			position: sticky;
			top: 0;
			z-index: 20;
		}
		
		.tb-top-tabs {
			display: flex;
			justify-content: center;
			gap: 1.5rem;
			margin-bottom: 0.5rem;
			font-size: 1.1em;
			font-weight: 600;
			position: relative;
			color: var(--text-color-secondary);
		}
		
		.tb-top-tabs .active {
			font-size: 1.2em;
			color: var(--text-color-primary);
		}
		
		.tb-top-tabs .active::after {
			content: '';
			display: block;
			width: 20px;
			height: 3px;
			background: var(--tb-primary-orange);
			border-radius: 2px;
			margin: 2px auto 0;
		}
		
		.tb-search-container {
			display: flex;
			align-items: center;
			gap: 0.5rem;
		}
		
		.tb-scan-icon {
			font-size: 1.2em;
			color: var(--tb-primary-orange);
		}
		
		.tb-search-box {
			flex-grow: 1;
			border: 2px solid var(--tb-primary-orange);
			border-radius: 20px;
			height: 2.2rem;
			display: flex;
			align-items: center;
			padding: 0 0.2rem 0 0.8rem;
			background-color: var(--card-bg-primary);
		}
		
		.tb-search-input {
			flex-grow: 1;
			border: none;
			background: transparent;
			font-size: 0.9em;
			color: var(--text-color-primary);
			outline: none;
		}
		
		.tb-camera-icon {
			color: #999;
			padding: 0 0.5rem;
			font-size: 1em;
		}
		
		.tb-search-btn {
			background: var(--tb-orange-gradient);
			color: white;
			border: none;
			border-radius: 16px;
			padding: 0.3rem 0.8rem;
			font-size: 0.85em;
			font-weight: bold;
			cursor: pointer;
		}
		
		/* 2. 滚动主体 */
		.tb-home-body {
			flex-grow: 1;
			overflow-y: auto;
			padding: 0.75rem;
			display: flex;
			flex-direction: column;
			gap: 0.75rem;
		}
		
		/* 3. 金刚区 (Icons Grid) */
		.tb-icons-grid {
			display: grid;
			grid-template-columns: repeat(5, 1fr);
			row-gap: 1rem;
			background-color: var(--card-bg-primary);
			border-radius: var(--tb-border-radius);
			padding: 1rem 0.5rem;
		}
		
		.tb-icon-item {
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 0.3rem;
			cursor: pointer;
		}
		
		.tb-icon-img {
			width: 2.5rem;
			height: 2.5rem;
			/* 用渐变模拟淘宝多彩的图标 */
			background: #eee;
			border-radius: 10px;
			display: flex;
			justify-content: center;
			align-items: center;
			color: white;
			font-size: 1.2rem;
		}
		
		.tb-icon-label {
			font-size: 0.7em;
			color: var(--text-color-secondary);
			text-align: center;
		}
		
		/* 4. 推荐流 (Feed) */
		.tb-feed-container {
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 0.6rem;
		}
		
		.tb-product-card {
			background-color: var(--card-bg-primary);
			border-radius: 8px;
			overflow: hidden;
			display: flex;
			flex-direction: column;
			box-shadow: 0 2px 5px rgba(0, 0, 0, 0.02);
			cursor: pointer;
			transition: transform 0.1s;
		}
		
		.tb-product-card:active {
			transform: scale(0.98);
		}
		
		.tb-product-img {
			width: 100%;
			aspect-ratio: 1 / 1;
			/* 强制正方形 */
			object-fit: cover;
			background-color: #e0e0e0;
			position: relative;
		}
		
		/* 无图模式下的文字占位 */
		.tb-img-placeholder-text {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			display: flex;
			align-items: center;
			justify-content: center;
			padding: 1rem;
			font-size: 0.8em;
			color: #888;
			text-align: center;
			background: #f8f8f8;
		}
		
		.tb-product-info {
			padding: 0.5rem;
			display: flex;
			flex-direction: column;
			gap: 0.3rem;
		}
		
		.tb-product-title {
			font-size: 0.85em;
			color: var(--text-color-primary);
			line-height: 1.4;
			display: -webkit-box;
			-webkit-line-clamp: 2;
			-webkit-box-orient: vertical;
			overflow: hidden;
		}
		
		/* 淘宝特色的标签 */
		.tb-tags-row {
			display: flex;
			gap: 0.3rem;
		}
		
		.tb-tag {
			font-size: 0.6em;
			padding: 1px 4px;
			border-radius: 3px;
			border: 1px solid var(--tb-primary-orange);
			color: var(--tb-primary-orange);
		}
		
		.tb-price-row {
			display: flex;
			align-items: baseline;
			gap: 0.3rem;
			margin-top: 0.2rem;
		}
		
		.tb-symbol {
			font-size: 0.7em;
			color: var(--tb-price-red);
		}
		
		.tb-price-num {
			font-size: 1.1em;
			font-weight: bold;
			color: var(--tb-price-red);
		}
		
		.tb-sales {
			font-size: 0.7em;
			color: #999;
		}
		
		/* 5. 底部导航栏修正 */
		.tb-footer-nav {
			display: flex;
			justify-content: space-around;
			align-items: center;
			height: 3rem;
			background-color: var(--card-bg-primary);
			border-top: 1px solid var(--divider-color-primary);
			flex-shrink: 0;
		}
		
		.tb-nav-item {
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 0.2rem;
			color: var(--text-color-secondary);
			font-size: 0.75em;
			cursor: pointer;
		}
		
		.tb-nav-item.active {
			color: var(--tb-primary-orange);
			font-weight: bold;
		}
		
		.tb-nav-item i {
			font-size: 1.4em;
		}
		
		/* 夜间模式适配修正 */
		#cp-shopping-home-view .tb-home-header {
			background-color: var(--view-bg-secondary);
		}
		
		/* ================================================== */
		/* === 淘宝/购物车 夜间模式适配补丁 (覆盖原有定义) === */
		/* ================================================== */
		
		:root {
			/* 1. 将写死的灰色背景 -> 映射为全局视图背景变量 */
			--tb-bg-gray: var(--view-bg-primary);
			--tb-bg-color: var(--view-bg-primary);
			
			/* 2. 将写死的白色卡片 -> 映射为全局卡片背景变量 */
			--tb-card-bg: var(--card-bg-primary);
			
			/* 3. 将写死的黑色文字 -> 映射为全局主要文字变量 */
			--tb-text-main: var(--text-color-primary);
			--tb-text-sub: var(--text-color-secondary);
		}
		
		/* --- 新版首页 (Shopping Home) 修复 --- */
		
		/* 修复搜索框内部背景和文字 */
		.tb-search-box {
			background-color: var(--input-field-bg) !important;
			border-color: var(--tb-primary-orange);
			/* 保持橙色边框 */
		}
		
		.tb-search-input {
			color: var(--text-color-primary) !important;
		}
		
		/* 修复金刚区(图标区)的背景 */
		.tb-icons-grid {
			background-color: var(--card-bg-primary) !important;
			/* 给夜间模式加一点微弱的边框，防止和背景融为一体 */
			border: 1px solid var(--divider-color-primary);
		}
		
		/* 修复商品卡片 */
		.tb-product-card {
			background-color: var(--card-bg-primary) !important;
			border: 1px solid var(--divider-color-primary);
			/* 增加微弱边框增加层次感 */
		}
		
		.tb-product-title {
			color: var(--text-color-primary) !important;
		}
		
		/* --- 旧版购物车列表 (Shopping Cart) 修复 --- */
		
		/* 强制覆盖旧版视图背景 */
		#cp-shopping-view {
			background-color: var(--view-bg-primary) !important;
		}
		
		/* 修复店铺卡片背景 */
		.sp-shop-card {
			background-color: var(--card-bg-primary) !important;
			border: 1px solid var(--divider-color-primary);
		}
		
		/* 修复文字颜色 (店铺名、商品标题、价格标签文字) */
		.sp-shop-name,
		.sp-item-title,
		.sp-total-price {
			color: var(--text-color-primary) !important;
		}
		
		.sp-item-monologue {
			/* 备注的小灰条背景也要适配 */
			background-color: var(--view-bg-primary) !important;
			color: var(--text-color-secondary) !important;
			border: 1px solid var(--divider-color-primary);
		}
		
		/* 修复底部结算栏 */
		.sp-footer {
			background-color: var(--card-bg-primary) !important;
			border-top-color: var(--divider-color-primary) !important;
		}
		
		/* 修复数量加减框 */
		.sp-quantity {
			border-color: var(--divider-color-primary) !important;
		}
		
		.sp-qty-num {
			border-left-color: var(--divider-color-primary) !important;
			border-right-color: var(--divider-color-primary) !important;
			color: var(--text-color-primary) !important;
		}
		
		/* --- 我的淘宝 (My Taobao) 专属样式 --- */
		
		/* --- 我的淘宝顶部背景优化 (渐变过度) --- */
		.tb-profile-header-bg {
			height: 22rem;
			background: linear-gradient(to bottom,
					#FF9000 0%,
					/* 顶部：纯亮橙 */
					#FF5000 25%,
					/* 头部区域：淘宝橙 */
					rgba(255, 80, 0, 0.15) 70%,
					/* 中间：大幅变淡 */
					rgba(255, 80, 0, 0) 100%
					/* 底部：完全透明，融入背景 */
				) !important;
			border-radius: 0 !important;
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			z-index: 0;
			pointer-events: none;
		}
		
		.tb-settings-icon {
			position: absolute;
			top: 3.5rem;
			right: 1rem;
			color: white;
			font-size: 1.2rem;
			cursor: pointer;
		}
		
		/* 2. 主体滚动区 */
		.tb-profile-body {
			flex-grow: 1;
			overflow-y: auto;
			padding: 0 0.75rem;
			padding-top: 5rem;
			/* 让内容盖在橙色背景上 */
			position: relative;
			z-index: 2;
			display: flex;
			flex-direction: column;
			gap: 0.75rem;
			scrollbar-width: none;
			/* 隐藏滚动条 */
		}
		
		.tb-profile-body::-webkit-scrollbar {
			display: none;
		}
		
		/* 3. 用户信息卡片 */
		.tb-user-card {
			background-color: var(--card-bg-primary);
			/* 夜间适配 */
			border-radius: 12px;
			padding: 1rem;
			box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
		}
		
		.tb-user-row {
			display: flex;
			align-items: center;
			gap: 0.8rem;
			margin-bottom: 1.2rem;
		}
		
		.tb-user-avatar {
			width: 3.5rem;
			height: 3.5rem;
			border-radius: 50%;
			border: 2px solid white;
			box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
			background-color: #eee;
			object-fit: cover;
		}
		
		.tb-user-name {
			font-size: 1.1em;
			font-weight: bold;
			color: var(--text-color-primary);
			margin-bottom: 0.3rem;
		}
		
		.tb-user-labels {
			display: flex;
			gap: 0.4rem;
		}
		
		.tb-vip-tag {
			background: linear-gradient(90deg, #333 0%, #000 100%);
			color: gold;
			font-size: 0.65em;
			padding: 1px 6px;
			border-radius: 10px;
			font-style: italic;
			font-weight: bold;
		}
		
		.tb-credit-tag {
			background-color: rgba(255, 80, 0, 0.1);
			color: var(--tb-primary-orange);
			font-size: 0.65em;
			padding: 1px 6px;
			border-radius: 10px;
		}
		
		.tb-stats-row {
			display: flex;
			justify-content: space-around;
		}
		
		.tb-stat-item {
			display: flex;
			flex-direction: column;
			align-items: center;
			cursor: pointer;
		}
		
		.tb-stat-item .num {
			font-size: 1em;
			font-weight: bold;
			color: var(--text-color-primary);
		}
		
		.tb-stat-item .label {
			font-size: 0.75em;
			color: var(--text-color-secondary);
			margin-top: 0.2rem;
		}
		
		/* 4. 通用板块卡片 (订单、工具) */
		.tb-section-card {
			background-color: var(--card-bg-primary);
			border-radius: 12px;
			padding: 0.8rem;
			display: flex;
			flex-direction: column;
		}
		
		.tb-section-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 1rem;
		}
		
		.tb-section-header .title {
			font-weight: bold;
			color: var(--text-color-primary);
			font-size: 0.95em;
		}
		
		.tb-section-header .more {
			font-size: 0.75em;
			color: var(--text-color-tertiary);
			cursor: pointer;
		}
		
		/* 订单图标栏 */
		.tb-order-icons {
			display: flex;
			justify-content: space-between;
			margin-bottom: 1rem;
		}
		
		.tb-order-item {
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 0.4rem;
			color: var(--text-color-secondary);
			font-size: 0.75em;
			position: relative;
			cursor: pointer;
		}
		
		.tb-order-item i {
			font-size: 1.4em;
			color: var(--text-color-primary);
		}
		
		.tb-badge-small {
			position: absolute;
			top: -5px;
			right: 5px;
			background-color: #FF5000;
			color: white;
			font-size: 0.6em;
			padding: 1px 4px;
			border-radius: 8px;
			border: 1px solid var(--card-bg-primary);
		}
		
		/* 最新物流条 */
		.tb-latest-logistics {
			background-color: var(--view-bg-primary);
			/* 浅灰背景 */
			padding: 0.6rem;
			border-radius: 8px;
			display: flex;
			align-items: center;
			gap: 0.6rem;
		}
		
		.logistics-img {
			width: 2.5rem;
			height: 2.5rem;
			background: #e0e0e0;
			border-radius: 4px;
			display: flex;
			justify-content: center;
			align-items: center;
			color: #888;
		}
		
		.logistics-info {
			flex-grow: 1;
			display: flex;
			flex-direction: column;
			justify-content: center;
			overflow: hidden;
		}
		
		.logistics-info .status {
			font-size: 0.8em;
			font-weight: bold;
			margin-bottom: 0.1rem;
		}
		
		.logistics-info .desc {
			font-size: 0.75em;
			color: var(--text-color-tertiary);
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}
		
		.tb-latest-logistics .time {
			font-size: 0.7em;
			color: var(--text-color-tertiary);
			align-self: flex-start;
		}
		
		/* 工具网格 */
		.tb-tools-grid {
			display: grid;
			grid-template-columns: repeat(4, 1fr);
			row-gap: 1rem;
		}
		
		.tb-tool-item {
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 0.4rem;
			font-size: 0.75em;
			color: var(--text-color-secondary);
			cursor: pointer;
		}
		
		.tb-tool-item i {
			font-size: 1.5em;
		}
		
		/* --- 淘宝商品详情页 (分屏固定版) --- */
		
		/* 1. 容器：绝对定位，全屏固定，禁止页面级滚动 */
		#cp-product-detail-view {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: #F4F4F4 !important;
			z-index: 200;
			display: flex;
			flex-direction: column;
			overflow: hidden;
			/* 核心：禁止整体滚动 */
		}
		
		/* 2. 顶部悬浮栏：上移 */
		.tb-detail-header {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			padding: 2rem 0.8rem 0 0.8rem;
			/* 核心：减小顶部距离 */
			display: flex;
			justify-content: space-between;
			align-items: center;
			z-index: 20;
			/* 保证在最上层 */
			pointer-events: none;
			box-sizing: border-box;
		}
		
		.tb-detail-header i {
			pointer-events: auto;
			width: 2rem;
			height: 2rem;
			background-color: rgba(0, 0, 0, 0.4);
			color: white;
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 1rem;
			backdrop-filter: blur(4px);
			cursor: pointer;
		}
		
		/* 3. 主布局容器：分为上下两部分 */
		.tb-detail-body {
			flex: 1;
			display: flex;
			flex-direction: column;
			height: 100%;
			overflow: hidden;
			/* 禁止此处滚动 */
			position: relative;
		}
		
		/* 4. 上半部：图片/展示区 (固定不滚动) */
		.tb-detail-hero {
			height: 35%;
			width: 100%;
			flex-shrink: 0;
			background-color: #fff;
			position: relative;
			z-index: 1;
		}
		
		.tb-detail-hero img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			display: block;
		}
		
		/* 无图时的文字容器：去掉多余装饰，纯文字居中 */
		.tb-detail-hero-text {
			width: 100%;
			height: 100%;
			padding: 3rem 1.5rem 1rem 1.5rem;
			box-sizing: border-box;
			display: flex;
			align-items: center;
			justify-content: center;
			/* [修改] 背景改为淘宝橙色渐变 */
			background: linear-gradient(135deg, #FF9000 0%, #FF5000 100%);
			/* [修改] 文字改为白色 */
			color: #ffffff;
			font-size: 0.95rem;
			line-height: 1.6;
			text-align: justify;
			overflow-y: auto;
			text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
			/* 可选：加一点文字阴影增加质感 */
		}
		
		/* 5. 下半部：信息滚动区 */
		.tb-detail-scroll-container {
			flex: 1;
			/* 占剩余高度 */
			background-color: #F4F4F4;
			overflow-y: auto;
			/* 核心：只有这里可以滚动 */
			padding-bottom: 4rem;
			/* 底部留空给操作栏 */
			z-index: 2;
			position: relative;
			box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.05);
			/* 加点阴影区分上下 */
		}
		
		/* 隐藏滚动条 */
		.tb-detail-scroll-container::-webkit-scrollbar {
			display: none;
		}
		
		/* 6. 卡片样式调整 */
		.tb-detail-main-card {
			background-color: #fff;
			padding: 1rem;
			margin-bottom: 0.6rem;
			border-radius: 0 0 12px 12px;
			/* 只有下面圆角 */
		}
		
		.tb-detail-price-row {
			display: flex;
			align-items: baseline;
			color: #FF5000;
			margin-bottom: 0.5rem;
		}
		
		.tb-detail-symbol {
			font-size: 0.9rem;
			font-weight: bold;
			margin-right: 2px;
		}
		
		.tb-detail-price {
			font-size: 1.6rem;
			font-weight: bold;
			margin-right: 0.5rem;
			font-family: Arial, sans-serif;
		}
		
		.tb-detail-sales {
			font-size: 0.75rem;
			color: #999;
			margin-left: auto;
		}
		
		.tb-detail-title {
			font-size: 1rem;
			font-weight: 600;
			color: #333;
			line-height: 1.4;
			margin-bottom: 0.8rem;
		}
		
		.tb-detail-tag-row {
			display: flex;
			gap: 0.4rem;
			margin-bottom: 0.8rem;
		}
		
		.tb-detail-tag-img {
			height: 1rem;
			background: #FF0036;
			color: white;
			font-size: 0.7rem;
			padding: 0 4px;
			border-radius: 2px;
			display: flex;
			align-items: center;
			white-space: nowrap;
		}
		
		.tb-detail-meta-row {
			display: flex;
			justify-content: space-between;
			font-size: 0.75rem;
			color: #999;
		}
		
		/* 7. 评价/店铺 */
		.tb-detail-section {
			background-color: #fff;
			border-radius: 12px;
			padding: 0.8rem;
			margin: 0 0.6rem 0.6rem 0.6rem;
		}
		
		.tb-review-header {
			display: flex;
			justify-content: space-between;
			font-size: 0.9rem;
			font-weight: 600;
			margin-bottom: 0.5rem;
		}
		
		.tb-review-more {
			font-size: 0.75rem;
			color: #FF5000;
			font-weight: normal;
		}
		
		.tb-shop-row {
			display: flex;
			align-items: center;
			gap: 0.8rem;
		}
		
		.tb-shop-logo {
			width: 2.8rem;
			height: 2.8rem;
			border-radius: 4px;
			border: 1px solid #eee;
			background: white;
			display: flex;
			justify-content: center;
			align-items: center;
			font-size: 1.4rem;
			color: #FF5000;
		}
		
		.tb-shop-info h4 {
			margin: 0;
			font-size: 0.95rem;
			color: #333;
		}
		
		.tb-shop-info p {
			margin: 0.2rem 0 0 0;
			font-size: 0.7rem;
			color: #999;
		}
		
		.tb-shop-btn {
			margin-left: auto;
			border: 1px solid #FF5000;
			color: #FF5000;
			border-radius: 1rem;
			padding: 0.25rem 0.7rem;
			font-size: 0.75rem;
		}
		
		/* 8. 底部操作栏 */
		.tb-detail-footer {
			position: absolute;
			bottom: 0;
			left: 0;
			right: 0;
			height: 3.5rem;
			background-color: #fff;
			display: flex;
			align-items: center;
			padding: 0 0.5rem;
			box-shadow: 0 -1px 5px rgba(0, 0, 0, 0.05);
			z-index: 201;
		}
		
		.tb-footer-icons {
			display: flex;
			gap: 1.2rem;
			padding: 0 1rem;
			flex-shrink: 0;
		}
		
		.tb-icon-btn {
			display: flex;
			flex-direction: column;
			align-items: center;
			font-size: 0.65rem;
			color: #666;
			gap: 2px;
		}
		
		.tb-icon-btn i {
			font-size: 1.1rem;
		}
		
		.tb-footer-btns {
			flex: 1;
			display: flex;
			height: 2.2rem;
			margin-left: 0.5rem;
		}
		
		.tb-btn-cart {
			flex: 1;
			background: linear-gradient(90deg, #FFCB00, #FF9402);
			color: white;
			border: none;
			border-radius: 20px 0 0 20px;
			font-weight: bold;
			font-size: 0.85rem;
			cursor: pointer;
		}
		
		.tb-btn-buy {
			flex: 1;
			background: linear-gradient(90deg, #FF5000, #FF0036);
			color: white;
			border: none;
			border-radius: 0 20px 20px 0;
			font-weight: bold;
			font-size: 0.85rem;
			cursor: pointer;
		}
		
		/* --- 商品分享卡片专属样式 --- */
		.product-share-card {
			background-color: var(--card-bg-primary);
			border-radius: 8px;
			overflow: hidden;
			width: 14rem;
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
			display: flex;
			flex-direction: column;
			cursor: pointer;
			border: 1px solid rgba(0, 0, 0, 0.05);
		}
		
		.ps-content {
			display: flex;
			padding: 0.6rem;
			gap: 0.6rem;
			background-color: var(--card-bg-primary);
		}
		
		.ps-img {
			width: 3.5rem;
			height: 3.5rem;
			object-fit: cover;
			border-radius: 4px;
			background-color: #f0f0f0;
			flex-shrink: 0;
		}
		
		.ps-info {
			flex-grow: 1;
			display: flex;
			flex-direction: column;
			justify-content: space-between;
			overflow: hidden;
		}
		
		.ps-title {
			font-size: 0.85em;
			color: var(--text-color-primary);
			display: -webkit-box;
			-webkit-line-clamp: 2;
			-webkit-box-orient: vertical;
			overflow: hidden;
			line-height: 1.3;
		}
		
		.ps-price {
			font-size: 0.9em;
			color: #FF5000;
			font-weight: bold;
		}
		
		.ps-footer {
			padding: 0.3rem 0.6rem;
			background-color: #f9f9f9;
			/* 浅灰底 */
			border-top: 1px solid #eee;
			font-size: 0.7em;
			color: #999;
			display: flex;
			align-items: center;
			gap: 0.3rem;
		}
		
		/* 适配夜间模式 */
		.forum-dark-mode .ps-footer {
			background-color: rgba(255, 255, 255, 0.05);
			border-top-color: rgba(255, 255, 255, 0.1);
		}
